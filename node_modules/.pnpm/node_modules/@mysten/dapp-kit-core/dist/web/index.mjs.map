{"version":3,"file":"index.mjs","names":["styles","styles","#walletClicked","styles","styles","styles","styles","#isOpen","#isOpening","#isConnected","#returnValue","#nextClickIsFromContent","styles","styles","styles","DAppKitConnectModal","styles","#getWallets","#resetSelection","#renderModalView","#attemptConnect","#abortController","#accountSelected","#resolveNameTask","#renderAccountInfo","#copyAddressToClipboard","#onDocumentClick","#stopPositioning","#toggleMenu","#resolveNameTask","#getAccountTitle","#onManageConnectionClick","#onDisconnectClick","#closeMenu","#openMenu","#startPositioning","#unsubscribeFromAutoUpdate","DAppKitConnectButton","#openModal"],"sources":["../../src/utils/lit.ts","../../src/web/styles/reset.ts","../../src/web/styles/theme.ts","../../src/web/styles/index.ts","../../src/web/internal/wallet-list-item.styles.ts","../../src/web/internal/wallet-list-item.ts","../../src/web/internal/wallet-list.styles.ts","../../src/web/internal/button.styles.ts","../../src/web/internal/button.ts","../../src/web/internal/icons/download-icon.ts","../../src/web/internal/icons/arrow-right-up-icon.ts","../../src/web/internal/wallet-list.ts","../../src/web/internal/base-modal.ts","../../src/web/internal/icons/close-icon.ts","../../src/web/internal/icons/back-icon.ts","../../src/web/internal/connection-status.styles.ts","../../src/web/internal/connection-status.ts","../../src/web/dapp-kit-connect-modal.styles.ts","../../src/web/styles/icon-button.ts","../../src/web/dapp-kit-connect-modal.ts","../../src/web/internal/icons/unlink-icon.ts","../../src/web/internal/connected-account-menu.styles.ts","../../src/web/internal/icons/copy-icon.ts","../../src/utils/name.ts","../../src/web/internal/icons/circle-check-icon.ts","../../src/web/internal/connected-account-menu-item.ts","../../src/web/internal/icons/chevron-down-icon.ts","../../src/web/internal/icons/plus-icon.ts","../../src/web/internal/connected-account-menu.ts","../../src/web/dapp-kit-connect-button.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { ReactiveElement } from 'lit';\nimport { MultiStoreController } from '@nanostores/lit';\nimport type { DAppKit } from '../core/index.js';\n\ntype ValueOf<T> = T[keyof T];\ntype StoreValues = ValueOf<DAppKit['stores']>[];\n\n/**\n * Property decorator that creates a property that can be assigned different dApp Kit instances.\n * When a property in the internal store changes, it will automatically disconnect the old store's\n * controller and create a new one for the new store.\n *\n * Inspired by https://github.com/nanostores/lit/issues/10#issuecomment-2781516844 :)\n */\nexport function storeProperty() {\n\treturn function (target: any, propertyKey: PropertyKey) {\n\t\t// Create unique symbols for storing the controller and value:\n\t\tconst controllerKey = Symbol();\n\t\tconst valueKey = Symbol();\n\n\t\tinterface Target extends ReactiveElement {\n\t\t\t[controllerKey]: MultiStoreController<StoreValues> | undefined;\n\t\t\t[valueKey]: DAppKit | undefined;\n\t\t}\n\n\t\tObject.defineProperty(target, propertyKey, {\n\t\t\tget(this: Target): DAppKit | undefined {\n\t\t\t\treturn this[valueKey];\n\t\t\t},\n\t\t\tset(this: Target, newInstance: DAppKit | undefined) {\n\t\t\t\tconst oldInstance = this[valueKey];\n\t\t\t\tif (oldInstance === newInstance) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis[valueKey] = newInstance;\n\n\t\t\t\tconst existingController = this[controllerKey];\n\t\t\t\tif (existingController) {\n\t\t\t\t\texistingController.hostDisconnected();\n\t\t\t\t\tthis.removeController(existingController);\n\t\t\t\t}\n\n\t\t\t\tconst newController = newInstance\n\t\t\t\t\t? new MultiStoreController(this, Object.values(newInstance.stores))\n\t\t\t\t\t: undefined;\n\t\t\t\tthis[controllerKey] = newController;\n\n\t\t\t\tif (existingController && !newController) {\n\t\t\t\t\t// If the instance is removed, request an update. Otherwise the controller should handle it.\n\t\t\t\t\tthis.requestUpdate(propertyKey, oldInstance);\n\t\t\t\t}\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t};\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\n\nexport const resetStyles = css`\n\t* {\n\t\tbox-sizing: border-box;\n\t\t-webkit-font-smoothing: antialiased;\n\t\tfont-family: var(--dapp-kit-font-sans);\n\t\toutline-color: color-mix(in oklab, var(--dapp-kit-ring) 50%, transparent);\n\t}\n\n\tbutton {\n\t\tappearance: none;\n\t\tbackground-color: transparent;\n\t\tfont-size: inherit;\n\t\tfont-family: inherit;\n\t\tline-height: inherit;\n\t\tletter-spacing: inherit;\n\t\tcolor: inherit;\n\t\tborder: 0;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\tp,\n\th1,\n\th2,\n\th3,\n\th4,\n\th5,\n\th6 {\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: var(--dapp-kit-foreground);\n\t\tmargin: 0;\n\t}\n`;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\n\nexport const themeStyles = css`\n\t:host {\n\t\t/** Colors */\n\t\t--dapp-kit-background: var(--background, oklch(1 0 0));\n\t\t--dapp-kit-foreground: var(--foreground, oklch(0.145 0 0));\n\t\t--dapp-kit-primary: var(--primary, oklch(0.216 0.006 56.043));\n\t\t--dapp-kit-primary-foreground: var(--primary-foreground, oklch(0.985 0.001 106.423));\n\t\t--dapp-kit-secondary: var(--secondary, oklch(0.97 0.001 106.424));\n\t\t--dapp-kit-secondary-foreground: var(--secondary-foreground, oklch(0.216 0.006 56.043));\n\t\t--dapp-kit-border: var(--border, oklch(0.922 0 0));\n\t\t--dapp-kit-accent: var(--accent, oklch(0.97 0.001 106.424));\n\t\t--dapp-kit-accent-foreground: var(--accent-foreground, oklch(0.205 0 0));\n\t\t--dapp-kit-muted: var(--muted, oklch(0.97 0.001 106.424));\n\t\t--dapp-kit-muted-foreground: var(--muted-foreground, oklch(0.553 0.013 58.071));\n\t\t--dapp-kit-popover: var(--popover, oklch(1 0 0));\n\t\t--dapp-kit-popover-foreground: var(--popover-foreground, oklch(0.145 0 0));\n\t\t--dapp-kit-destructive: var(--destructive, oklch(0.577 0.245 27.325));\n\t\t--dapp-kit-positive: var(--positive, oklch(0.862 0.127 146.2));\n\t\t--dapp-kit-ring: var(--ring, oklch(0.708 0 0));\n\t\t--dapp-kit-input: var(--input, oklch(0.922 0 0));\n\n\t\t/** Radii */\n\t\t--dapp-kit-radius: var(--radius, 12px);\n\t\t--dapp-kit-radius-xs: calc(var(--dapp-kit-radius) - 4px);\n\t\t--dapp-kit-radius-sm: calc(var(--dapp-kit-radius) - 4px);\n\t\t--dapp-kit-radius-md: calc(var(--dapp-kit-radius) - 2px);\n\t\t--dapp-kit-radius-lg: var(--dapp-kit-radius);\n\t\t--dapp-kit-radius-xl: calc(var(--dapp-kit-radius) + 4px);\n\n\t\t/** Typography */\n\t\t--dapp-kit-font-sans: var(\n\t\t\t--font-sans,\n\t\t\tui-sans-serif,\n\t\t\tsystem-ui,\n\t\t\t-apple-system,\n\t\t\tBlinkMacSystemFont,\n\t\t\t'Segoe UI',\n\t\t\tRoboto,\n\t\t\t'Helvetica Neue',\n\t\t\tArial,\n\t\t\t'Noto Sans',\n\t\t\tsans-serif,\n\t\t\t'Apple Color Emoji',\n\t\t\t'Segoe UI Emoji',\n\t\t\t'Segoe UI Symbol',\n\t\t\t'Noto Color Emoji'\n\t\t);\n\t\t--dapp-kit-font-weight-medium: var(--font-medium, 500);\n\t\t--dapp-kit-font-weight-semibold: var(--font-semibold, 600);\n\t}\n`;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { resetStyles } from './reset.js';\nimport { themeStyles } from './theme.js';\n\nexport const sharedStyles = [themeStyles, resetStyles];\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t.wallet-button {\n\t\t\ttransition-property: background-color;\n\t\t\ttransition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\ttransition-duration: 0.15s;\n\t\t\ttext-decoration: none;\n\t\t\tbackground-color: var(--dapp-kit-secondary);\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 12px;\n\t\t\twidth: 100%;\n\t\t\tpadding: 12px;\n\t\t}\n\n\t\t.wallet-button:hover {\n\t\t\tbackground-color: oklab(from var(--dapp-kit-secondary) calc(l - 0.01) a b);\n\t\t}\n\n\t\timg {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t}\n\n\t\tp {\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t}\n\t`,\n];\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { styles } from './wallet-list-item.styles.js';\n\nexport type WalletSelectedEvent = CustomEvent<{ wallet: UiWallet }>;\n\nexport class WalletListItem extends LitElement {\n\tstatic override styles = styles;\n\n\t@property()\n\twallet!: UiWallet;\n\n\t@property({ type: Boolean, reflect: true })\n\toverride autofocus = false;\n\n\toverride render() {\n\t\treturn html`\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"wallet-button\"\n\t\t\t\t\t@click=${this.#walletClicked}\n\t\t\t\t\t?autofocus=${this.autofocus}\n\t\t\t\t>\n\t\t\t\t\t<img src=${this.wallet.icon} alt=${`${this.wallet.name} logo`} />\n\t\t\t\t\t<p>${this.wallet.name}</p>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t`;\n\t}\n\n\t#walletClicked() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent<WalletSelectedEvent['detail']>('wallet-selected', {\n\t\t\t\tdetail: { wallet: this.wallet },\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\tul {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.no-wallets-container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\t.no-wallets-content {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 32px;\n\t\t}\n\n\t\t.title {\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\ttext-align: center;\n\t\t\tfont-size: 28px;\n\t\t}\n\n\t\t.wallet-cta {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 100%;\n\t\t}\n\t`,\n];\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t.button {\n\t\t\ttransition-property: background-color;\n\t\t\ttransition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\ttransition-duration: 0.15s;\n\t\t\tborder-radius: var(--dapp-kit-radius-md);\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\ttext-decoration: none;\n\t\t\toutline-style: none;\n\t\t\tdisplay: inline-flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tgap: 12px;\n\t\t\tpadding-left: 16px;\n\t\t\tpadding-right: 16px;\n\t\t\tpadding-top: 8px;\n\t\t\tpadding-bottom: 8px;\n\t\t\theight: 40px;\n\t\t}\n\n\t\t.button:focus-visible {\n\t\t\tborder-color: var(--dapp-kit-ring);\n\t\t\tbox-shadow:\n\t\t\t\t0 0 0 3px color-mix(in oklab, var(--dapp-kit-ring) 50%, transparent),\n\t\t\t\trgba(0, 0, 0, 0.05) 0px 1px 2px 0px;\n\t\t}\n\n\t\t.button.primary {\n\t\t\tbackground-color: var(--dapp-kit-primary);\n\t\t\tcolor: var(--dapp-kit-primary-foreground);\n\t\t}\n\n\t\t.button.primary:hover:not(:disabled) {\n\t\t\tbackground-color: color-mix(in oklab, var(--dapp-kit-primary) 90%, transparent);\n\t\t}\n\n\t\t.button.secondary {\n\t\t\tbackground-color: var(--dapp-kit-secondary);\n\t\t\tcolor: var(--dapp-kit-secondary-foreground);\n\t\t}\n\n\t\t.button.secondary:hover:not(:disabled) {\n\t\t\tbackground-color: color-mix(in oklab, var(--dapp-kit-secondary) 80%, transparent);\n\t\t}\n\t`,\n];\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { styles } from './button.styles.js';\n\nexport class Button extends LitElement {\n\tstatic override shadowRootOptions = {\n\t\t...LitElement.shadowRootOptions,\n\t\tdelegatesFocus: true,\n\t};\n\n\tstatic override styles = styles;\n\n\t@property({ type: String })\n\tvariant: 'primary' | 'secondary' = 'primary';\n\n\t@property({ type: String })\n\thref = '';\n\n\t@property({ type: Boolean, reflect: true })\n\tdisabled = false;\n\n\toverride render() {\n\t\treturn this.href\n\t\t\t? html`\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=${this.href}\n\t\t\t\t\t\t?disabled=${this.disabled}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\tclass=${classMap({ button: true, [this.variant]: true })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot part=\"button-content\"></slot>\n\t\t\t\t\t</a>\n\t\t\t\t`\n\t\t\t: html`\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t?disabled=${this.disabled}\n\t\t\t\t\t\tclass=${classMap({ button: true, [this.variant]: true })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot part=\"button-content\"></slot>\n\t\t\t\t\t</button>\n\t\t\t\t`;\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const downloadIcon = html`<svg\n\twidth=\"80\"\n\theight=\"80\"\n\tviewBox=\"0 0 80 80\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M0 40C0 17.9086 17.9086 0 40 0C62.0914 0 80 17.9086 80 40C80 62.0914 62.0914 80 40 80C17.9086 80 0 62.0914 0 40Z\"\n\t\tfill=\"currentColor\"\n\t\tfill-opacity=\"0.08\"\n\t/>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M39.6881 28.8311C39.4347 28.9111 39.1675 29.1669 39.0607 29.4318L39.0041 29.572L38.9977 35.5349L38.9914 41.4978L37.8217 40.3324C36.5477 39.063 36.5486 39.0637 36.228 39.0138C35.7909 38.9458 35.3452 39.1858 35.1541 39.592C35.0986 39.7101 35.0921 39.7532 35.0921 40C35.0921 40.4608 34.9004 40.2321 37.3099 42.6471C39.1553 44.4968 39.4299 44.763 39.5579 44.8263C39.8344 44.9632 40.1614 44.9624 40.4441 44.8244C40.5705 44.7626 40.843 44.4987 42.679 42.659C45.0881 40.2451 44.9081 40.4599 44.9081 40C44.9081 39.7458 44.9027 39.7132 44.8403 39.586C44.6384 39.1748 44.2051 38.9438 43.7678 39.0142C43.4501 39.0654 43.4497 39.0657 42.1784 40.3324L41.0087 41.4978L41.0024 35.5349L40.9961 29.572L40.9395 29.4318C40.8294 29.1587 40.5615 28.9075 40.2964 28.8288C40.1444 28.7836 39.8347 28.7848 39.6881 28.8311ZM31.114 46.0981C30.9593 46.1346 30.7812 46.2398 30.647 46.374C30.4216 46.5994 30.3357 46.8708 30.3627 47.272C30.3949 47.7507 30.4603 48.0732 30.6081 48.484C31.0707 49.7693 32.1522 50.7474 33.4841 51.0852C33.9919 51.2141 33.6619 51.2078 39.9943 51.2079C46.331 51.208 46.0036 51.2142 46.5161 51.085C47.8428 50.7503 48.9303 49.7668 49.392 48.484C49.5851 47.9478 49.6896 47.2429 49.6266 46.9026C49.5428 46.4495 49.1756 46.1129 48.7285 46.0791C48.3302 46.0489 47.9715 46.2363 47.7705 46.5793C47.687 46.7218 47.6625 46.8267 47.6335 47.1663C47.5846 47.7384 47.4064 48.16 47.0574 48.5289C46.6981 48.9088 46.2476 49.1338 45.7272 49.1934C45.5791 49.2103 43.6721 49.2161 39.8441 49.2112L34.1801 49.204L33.9966 49.1516C33.5867 49.0347 33.3159 48.8845 33.0317 48.6166C32.6281 48.2363 32.4192 47.7806 32.3667 47.1663C32.3377 46.8267 32.3132 46.7218 32.2297 46.5793C32.1479 46.4397 31.9572 46.2518 31.8327 46.1882C31.6225 46.0807 31.3388 46.0451 31.114 46.0981Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg>`;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const arrowRightUpIcon = html`<svg\n\twidth=\"17\"\n\theight=\"16\"\n\tviewBox=\"0 0 17 16\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M4.19888 1.05645C4.0026 1.08501 3.7911 1.24624 3.706 1.43215C3.62348 1.61237 3.62622 1.84103 3.71297 2.01403C3.79982 2.18722 3.99089 2.3325 4.17827 2.36781C4.23528 2.37855 5.77091 2.38405 8.71417 2.38405H13.1639L7.41745 8.13205C2.23561 13.3153 1.66614 13.8898 1.62155 13.9796C1.48908 14.2462 1.5436 14.5657 1.75579 14.7664C1.95884 14.9584 2.23582 15.003 2.50305 14.8868C2.59953 14.8449 2.8643 14.5828 8.36009 9.0896L14.1161 3.33629V7.78598C14.1161 10.7292 14.1216 12.2649 14.1323 12.3219C14.1819 12.5852 14.4093 12.8046 14.6761 12.8467C15.0449 12.9048 15.3918 12.6521 15.4446 12.2868C15.4668 12.1329 15.465 1.71239 15.4427 1.59173C15.3934 1.32528 15.1749 1.10672 14.9084 1.05746C14.7978 1.03703 4.33916 1.03603 4.19888 1.05645Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg> `;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { WalletListItem } from './wallet-list-item.js';\nimport { styles } from './wallet-list.styles.js';\nimport { Button } from './button.js';\nimport { downloadIcon } from './icons/download-icon.js';\nimport { arrowRightUpIcon } from './icons/arrow-right-up-icon.js';\n\nexport class WalletList extends ScopedRegistryHost(LitElement) {\n\tstatic elementDefinitions = {\n\t\t'wallet-list-item': WalletListItem,\n\t\t'internal-button': Button,\n\t};\n\n\tstatic override styles = styles;\n\n\t@property({ type: Object })\n\twallets: UiWallet[] = [];\n\n\toverride render() {\n\t\treturn this.wallets.length === 0\n\t\t\t? html`<div class=\"no-wallets-container\">\n\t\t\t\t\t<div class=\"no-wallets-content\">\n\t\t\t\t\t\t${downloadIcon}\n\t\t\t\t\t\t<h2 class=\"title\">Install a wallet to get started on Sui</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<internal-button class=\"wallet-cta\" href=\"https://sui.io/get-started\">\n\t\t\t\t\t\tSelect a wallet to install ${arrowRightUpIcon}\n\t\t\t\t\t</internal-button>\n\t\t\t\t</div>`\n\t\t\t: html`<ul class=\"wallet-list\">\n\t\t\t\t\t${this.wallets.map(\n\t\t\t\t\t\t(wallet, index) =>\n\t\t\t\t\t\t\thtml`<wallet-list-item\n\t\t\t\t\t\t\t\t.wallet=${wallet}\n\t\t\t\t\t\t\t\t?autofocus=${index === 0}\n\t\t\t\t\t\t\t></wallet-list-item>`,\n\t\t\t\t\t)}\n\t\t\t\t</ul>`;\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { LitElement } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { promiseWithResolvers } from '@mysten/utils';\n\nexport class BaseModal extends LitElement {\n\t#isOpen = false;\n\t#isOpening = false;\n\t#isConnected = promiseWithResolvers<void>();\n\n\t#returnValue: string | undefined;\n\t#nextClickIsFromContent = false;\n\n\tstatic override shadowRootOptions = {\n\t\t...LitElement.shadowRootOptions,\n\t\tdelegatesFocus: true,\n\t};\n\n\t/**\n\t * Opens the dialog when set to `true` and closes it when set to `false`.\n\t */\n\t@property({ type: Boolean })\n\tget open() {\n\t\treturn this.#isOpen;\n\t}\n\n\tset open(open: boolean) {\n\t\tif (open === this.#isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#isOpen = open;\n\t\tif (this.#isOpen) {\n\t\t\tthis.setAttribute('open', '');\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tthis.removeAttribute('open');\n\t\t\tthis.close();\n\t\t}\n\t}\n\n\t@query('dialog')\n\tprivate readonly _dialog!: HTMLDialogElement;\n\n\t/**\n\t * Opens the dialog and fires a cancelable `open` event. An `opened` event\n\t * is fired after the dialog opens.\n\t *\n\t * @returns A `Promise` that resolves after the `opened` event was fired.\n\t */\n\tasync show() {\n\t\tthis.#isOpening = true;\n\n\t\t// Dialogs can be opened before being attached to the DOM, so we need to\n\t\t// wait until we're connected before calling `showModal()`.\n\t\tawait this.#isConnected.promise;\n\t\tawait this.updateComplete;\n\n\t\t// Check if already opened or if `dialog.close()` was called while awaiting.\n\t\tif (this._dialog.open || !this.#isOpening) {\n\t\t\tthis.#isOpening = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst wasDispatched = this.dispatchEvent(new Event('open', { cancelable: true }));\n\t\tif (!wasDispatched) {\n\t\t\tthis.open = false;\n\t\t\tthis.#isOpening = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._dialog.showModal();\n\t\tthis.open = true;\n\n\t\tthis.dispatchEvent(new Event('opened'));\n\t\tthis.#isOpening = false;\n\t}\n\n\t/**\n\t * Closes the dialog and fires a cancelable `close` event. After a dialog's\n\t * animation, a `closed` event is fired.\n\t *\n\t * @param returnValue A return value usually indicating which button was used\n\t *     to close a dialog. If a dialog is canceled by clicking the backdrop or\n\t *     pressing Escape, it will not change the return value after closing.\n\t * @returns A Promise that resolves after the `closed` event was fired.\n\t */\n\tasync close(returnValue = this.#returnValue) {\n\t\tthis.#isOpening = false;\n\n\t\tif (!this.isConnected) {\n\t\t\t// Disconnected dialogs do not fire close events or animate.\n\t\t\tthis.open = false;\n\t\t\treturn;\n\t\t}\n\n\t\tawait this.updateComplete;\n\n\t\t// Check if already closed or if `dialog.show()` was called while awaiting.\n\t\tif (!this._dialog.open || this.#isOpening) {\n\t\t\tthis.open = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevReturnValue = this.#returnValue;\n\t\tthis.#returnValue = returnValue;\n\n\t\tconst wasDispatched = this.dispatchEvent(new Event('close', { cancelable: true }));\n\t\tif (!wasDispatched) {\n\t\t\tthis.#returnValue = prevReturnValue;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._dialog.close(this.#returnValue);\n\t\tthis.open = false;\n\t\tthis.dispatchEvent(new Event('closed'));\n\t}\n\n\toverride connectedCallback() {\n\t\tsuper.connectedCallback();\n\t\tthis.#isConnected.resolve();\n\t}\n\n\toverride disconnectedCallback() {\n\t\tsuper.disconnectedCallback();\n\t\tthis.#isConnected = Promise.withResolvers<void>();\n\t}\n\n\tprotected handleContentClick() {\n\t\tthis.#nextClickIsFromContent = true;\n\t}\n\n\tprotected handleDialogClick() {\n\t\tif (this.#nextClickIsFromContent) {\n\t\t\t// This trick uses event bubbling to determine whether or not the click originated\n\t\t\t// from the dialog content or dialog backdrop psuedo-element. If you click the dialog\n\t\t\t// content, then `nextClickIsFromContent` will be set to true and we'll early exit.\n\t\t\tthis.#nextClickIsFromContent = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst wasDispatched = this.dispatchEvent(new Event('cancel', { cancelable: true }));\n\t\tif (!wasDispatched) return;\n\n\t\tthis.close();\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const closeIcon = html`<svg\n\twidth=\"16\"\n\theight=\"16\"\n\tviewBox=\"0 0 16 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M2.04841 1.59812C2.00001 1.61375 1.93695 1.63878 1.90828 1.65375C1.83709 1.69091 1.68775 1.84287 1.65047 1.91606C1.54047 2.13201 1.54381 2.37028 1.6597 2.57601C1.68564 2.62206 2.66404 3.61254 4.37417 5.32401L7.04809 8.00001L4.37417 10.676C2.67052 12.381 1.68551 13.3781 1.65959 13.424C1.49234 13.7201 1.56607 14.0843 1.83583 14.2945C2.04141 14.4547 2.34161 14.4734 2.57641 14.3408C2.62228 14.3149 3.61943 13.3299 5.32441 11.6262L8.00041 8.95233L10.6764 11.6262C12.3814 13.3299 13.3785 14.3149 13.4244 14.3408C13.6592 14.4734 13.9594 14.4547 14.165 14.2945C14.4347 14.0843 14.5085 13.7201 14.3412 13.424C14.3153 13.3781 13.3303 12.381 11.6266 10.676L8.95273 8.00001L11.6266 5.32401C13.3303 3.61903 14.3153 2.62188 14.3412 2.57601C14.4738 2.34121 14.4551 2.04102 14.2949 1.83543C14.0847 1.56567 13.7205 1.49195 13.4244 1.65919C13.3785 1.68511 12.3814 2.67012 10.6764 4.37377L8.00041 7.04769L5.32441 4.37377C3.61293 2.66364 2.62245 1.68524 2.57641 1.65931C2.41372 1.56766 2.21439 1.54457 2.04841 1.59812Z\"\n\t/>\n</svg> `;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const backIcon = html`<svg\n\twidth=\"15\"\n\theight=\"16\"\n\tviewBox=\"0 0 15 16\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M6.90786 1.05824C6.70479 1.08877 6.91965 0.871204 3.62561 4.38197C0.943351 7.24072 0.593731 7.6189 0.554431 7.70397C0.501166 7.81932 0.480376 7.96424 0.497641 8.09997C0.525721 8.32084 0.315931 8.08477 3.59808 11.5887C5.25324 13.3557 6.6377 14.8229 6.67466 14.8493C6.76715 14.9153 6.88374 14.9481 7.01883 14.9464C7.19993 14.9441 7.32822 14.8862 7.45368 14.7503C7.6404 14.5479 7.68581 14.2362 7.56597 13.9793C7.53443 13.9117 7.06523 13.403 5.08008 11.2841L2.63307 8.67231L8.31776 8.66796C13.6185 8.66392 14.0073 8.6618 14.0739 8.63648C14.173 8.59888 14.3009 8.50512 14.3625 8.425C14.5276 8.21008 14.553 7.89213 14.4239 7.65714C14.3438 7.51138 14.1733 7.38224 14.013 7.34596C13.9549 7.33282 12.4096 7.32797 8.28312 7.32797H2.63276L5.07993 4.71597C7.0652 2.59698 7.53443 2.08824 7.56597 2.02063C7.68584 1.76365 7.6404 1.452 7.45358 1.24956C7.30854 1.09239 7.1201 1.02632 6.90786 1.05824Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg> `;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\ttext-align: center;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 40px;\n\t\t}\n\n\t\t.logo {\n\t\t\twidth: 120px;\n\t\t\theight: 120px;\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t}\n\n\t\t.container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.title {\n\t\t\tfont-size: 24px;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t}\n\n\t\t.copy {\n\t\t\tcolor: var(--dapp-kit-muted-foreground);\n\t\t}\n\n\t\t::slotted(*) {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 100%;\n\t\t}\n\t`,\n];\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { styles } from './connection-status.styles.js';\n\nexport class ConnectionStatus extends LitElement {\n\tstatic override styles = styles;\n\n\t@property({ type: Object })\n\twallet!: UiWallet;\n\n\t@property({ type: String })\n\ttitle = '';\n\n\t@property({ type: String })\n\tcopy = '';\n\n\toverride render() {\n\t\treturn html`\n\t\t\t<img class=\"logo\" src=${this.wallet.icon} alt=${`${this.wallet.name} logo`} />\n\t\t\t<div class=\"container\">\n\t\t\t\t<h3 class=\"title\">${this.title}</h3>\n\t\t\t\t<p class=\"copy\">${this.copy}</p>\n\t\t\t</div>\n\t\t\t<slot name=\"call-to-action\"></slot>\n\t\t`;\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from './styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\tdialog {\n\t\t\twidth: 360px;\n\t\t\theight: 480px;\n\t\t\tborder: 1px solid var(--dapp-kit-border);\n\t\t\tpadding: 0;\n\t\t\tbackground: var(--dapp-kit-background);\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t}\n\n\t\t.content {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\theight: 100%;\n\t\t\tgap: 32px;\n\t\t\tpadding: 24px;\n\t\t}\n\n\t\t.connect-header {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tgap: 8px;\n\t\t}\n\n\t\t.title {\n\t\t\tfont-size: 18px;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t.close-button {\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t.cancel-button {\n\t\t\tmargin-top: auto;\n\t\t}\n\t`,\n];\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\n\nexport const iconButtonStyles = css`\n\t.icon-button {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tborder-radius: 50%;\n\t\tbackground: inherit;\n\t\tcolor: var(--dapp-kit-foreground);\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition:\n\t\t\tbackground-color 200ms,\n\t\t\ttransform 100ms;\n\t}\n\n\t.icon-button:hover {\n\t\tbackground-color: var(--dapp-kit-accent);\n\t}\n\n\t.icon-button:active {\n\t\ttransform: scale(0.9);\n\t}\n`;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\nimport { html, nothing } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { storeProperty } from '../utils/lit.js';\nimport { WalletList } from './internal/wallet-list.js';\nimport { BaseModal } from './internal/base-modal.js';\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { closeIcon } from './internal/icons/close-icon.js';\nimport { backIcon } from './internal/icons/back-icon.js';\nimport type { WalletSelectedEvent } from './internal/wallet-list-item.js';\nimport { ConnectionStatus } from './internal/connection-status.js';\nimport {\n\tisWalletStandardError,\n\tWALLET_STANDARD_ERROR__USER__REQUEST_REJECTED,\n} from '@mysten/wallet-standard';\nimport { styles } from './dapp-kit-connect-modal.styles.js';\nimport { Button } from './internal/button.js';\nimport { iconButtonStyles } from './styles/icon-button.js';\nimport type { DefaultExpectedDppKit } from '../types.js';\n\ntype ModalViewState =\n\t| { view: 'wallet-selection' }\n\t| { view: 'connecting'; wallet: UiWallet }\n\t| { view: 'error'; wallet: UiWallet; error: unknown };\n\nexport type DAppKitConnectModalOptions = {\n\tfilterFn?: (value: UiWallet, index: number, array: UiWallet[]) => boolean;\n\tsortFn?: (a: UiWallet, b: UiWallet) => number;\n};\n\n/**\n * A modal component for connecting to a Sui wallet, meant to be opened via a trigger button.\n *\n * Opens a modal to let the user select and connect to a wallet.\n *\n * @element mysten-dapp-kit-connect-modal\n *\n * @fires open - Fired *before* the dialog opens (cancelable).\n * @fires opened - Fired *after* the dialog has fully opened.\n * @fires close - Fired *before* the dialog closes (cancelable).\n * @fires closed - Fired *after* the dialog has fully closed.\n * @fires cancel - Fired when clicking the backdrop or pressing Escape (cancelable).\n *\n * @prop {Boolean} open - Programmatic access to the open state of the dialog.\n * @prop {DAppKitConnectModalOptions['filterFn']} filterFn - Function to filter the list of shown wallets (optional).\n * @prop {DAppKitConnectModalOptions['sortFn']} sortFn - Function to sort the list of available wallets (optional).\n * @prop {RegisteredDAppKit} instance - The dApp Kit instance used for state management.\n *\n * @cssprop --background - Background color of the component. Used as the default background for UI elements.\n * @cssprop --foreground - Foreground color of the component. Used as the default text color.\n * @cssprop --primary - Primary color used for interactive elements such as buttons and links.\n * @cssprop --primary-foreground - Text or icon color placed on top of primary elements.\n * @cssprop --secondary - Secondary color used for less prominent interactive elements.\n * @cssprop --secondary-foreground - Text or icon color placed on top of secondary elements.\n * @cssprop --border - Border color for UI elements.\n * @cssprop --accent - Accent color used for highlights and decorative elements.\n * @cssprop --accent-foreground - Text or icon color placed on top of accent elements.\n * @cssprop --muted - Background color for subtle or muted UI elements (e.g., placeholders, disabled states).\n * @cssprop --muted-foreground - Text or icon color for muted UI elements.\n * @cssprop --popover - Background color for floating elements such as popovers, dropdowns, or tooltips.\n * @cssprop --popover-foreground - Text or icon color inside popover elements.\n * @cssprop --ring - Color used for focus rings (visible focus indicators on interactive elements).\n * @cssprop --radius - Border radius used for UI elements.\n * @cssprop --font-sans - Font family used for text content.\n * @cssprop --font-weight-medium - Medium font weight for text (typically used for buttons and interactive elements).\n * @cssprop --font-weight-semibold - Semibold font weight for text (typically used for headings or emphasized text).\n */\n@customElement('mysten-dapp-kit-connect-modal')\nexport class DAppKitConnectModal\n\textends ScopedRegistryHost(BaseModal)\n\timplements DAppKitConnectModalOptions\n{\n\tstatic override styles = [styles, iconButtonStyles];\n\n\tstatic elementDefinitions = {\n\t\t'wallet-list': WalletList,\n\t\t'internal-button': Button,\n\t\t'connection-status': ConnectionStatus,\n\t};\n\n\t/**\n\t * The dApp Kit instance used for state management.\n\t */\n\t@storeProperty()\n\tinstance!: DefaultExpectedDppKit;\n\n\t@state()\n\tprivate _state: ModalViewState = { view: 'wallet-selection' };\n\n\t/**\n\t * Function to filter the list of shown wallets.\n\t */\n\t@property({ attribute: false })\n\tfilterFn: DAppKitConnectModalOptions['filterFn'];\n\n\t/**\n\t * Function to sort the list of shown wallets.\n\t */\n\t@property({ attribute: false })\n\tsortFn: DAppKitConnectModalOptions['sortFn'];\n\n\t#abortController?: AbortController;\n\n\toverride render() {\n\t\tconst showBackButton = this._state.view === 'connecting' || this._state.view === 'error';\n\t\tconst wallets = this.#getWallets();\n\n\t\treturn html`<dialog @click=${this.handleDialogClick} @close=${this.#resetSelection}>\n\t\t\t<div class=\"content\" @click=${this.handleContentClick}>\n\t\t\t\t<div class=\"connect-header\">\n\t\t\t\t\t${showBackButton\n\t\t\t\t\t\t? html`<button\n\t\t\t\t\t\t\t\tclass=\"icon-button back-button\"\n\t\t\t\t\t\t\t\taria-label=\"Go back\"\n\t\t\t\t\t\t\t\t@click=${this.#resetSelection}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${backIcon}\n\t\t\t\t\t\t\t</button>`\n\t\t\t\t\t\t: nothing}\n\t\t\t\t\t<h2 class=\"title\">${wallets.length > 0 ? 'Connect a wallet' : 'No wallets installed'}</h2>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"icon-button close-button\"\n\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t@click=${() => {\n\t\t\t\t\t\t\t// oxlint-disable @typescript-eslint/no-floating-promises\n\t\t\t\t\t\t\tthis.close('cancel');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t${closeIcon}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t${this.#renderModalView(wallets)}\n\t\t\t</div>\n\t\t</dialog>`;\n\t}\n\n\t#renderModalView(wallets: UiWallet[]) {\n\t\tswitch (this._state.view) {\n\t\t\tcase 'wallet-selection':\n\t\t\t\treturn html`<wallet-list\n\t\t\t\t\t.wallets=${wallets}\n\t\t\t\t\t@wallet-selected=${async (event: WalletSelectedEvent) => {\n\t\t\t\t\t\tthis.#attemptConnect(event.detail.wallet);\n\t\t\t\t\t}}\n\t\t\t\t></wallet-list>`;\n\t\t\tcase 'connecting':\n\t\t\t\treturn html`<connection-status\n\t\t\t\t\t.title=${'Awaiting connection...'}\n\t\t\t\t\t.copy=${`Accept the request from ${this._state.wallet.name} in order to proceed`}\n\t\t\t\t\t.wallet=${this._state.wallet}\n\t\t\t\t>\n\t\t\t\t\t<internal-button\n\t\t\t\t\t\tslot=\"call-to-action\"\n\t\t\t\t\t\t.variant=${'secondary'}\n\t\t\t\t\t\t@click=${this.#resetSelection}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</internal-button>\n\t\t\t\t</connection-status>`;\n\t\t\tcase 'error':\n\t\t\t\tconst { wallet, error } = this._state;\n\t\t\t\tconst wasRequestCancelled = isWalletStandardError(\n\t\t\t\t\terror,\n\t\t\t\t\tWALLET_STANDARD_ERROR__USER__REQUEST_REJECTED,\n\t\t\t\t);\n\n\t\t\t\treturn html`<connection-status\n\t\t\t\t\t.title=${wasRequestCancelled ? 'Request canceled' : 'Connection failed'}\n\t\t\t\t\t.copy=${wasRequestCancelled\n\t\t\t\t\t\t? `You canceled the request`\n\t\t\t\t\t\t: 'Something went wrong. Please try again'}\n\t\t\t\t\t.wallet=${wallet}\n\t\t\t\t>\n\t\t\t\t\t<internal-button\n\t\t\t\t\t\tslot=\"call-to-action\"\n\t\t\t\t\t\t@click=${() => {\n\t\t\t\t\t\t\tthis.#attemptConnect(wallet);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tRetry\n\t\t\t\t\t</internal-button>\n\t\t\t\t</connection-status>`;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Encountered unknown view state: ${this._state}`);\n\t\t}\n\t}\n\n\tasync #attemptConnect(wallet: UiWallet) {\n\t\tlet delayTimeout: ReturnType<typeof setTimeout> | undefined;\n\n\t\ttry {\n\t\t\tconst abortPromise = new Promise((_, reject) => {\n\t\t\t\tthis.#abortController = new AbortController();\n\t\t\t\tthis.#abortController.signal.addEventListener(\n\t\t\t\t\t'abort',\n\t\t\t\t\t() => reject(new DOMException('Aborted', 'AbortError')),\n\t\t\t\t\t{ once: true },\n\t\t\t\t);\n\t\t\t});\n\n\t\t\t// Connection attempts can sometimes be instantaneous when accounts are\n\t\t\t// already authorized or the wallet isn't setup yet, so we'll introduce\n\t\t\t// a tiny delay to prevent the UI flickering on the loading state.\n\t\t\tdelayTimeout = setTimeout(() => {\n\t\t\t\tthis._state = { view: 'connecting', wallet };\n\t\t\t}, 100);\n\n\t\t\tawait Promise.race([abortPromise, this.instance.connectWallet({ wallet })]);\n\t\t\tthis.close('successful-connection');\n\t\t} catch (error) {\n\t\t\tif (error instanceof Error && error.name === 'AbortError') {\n\t\t\t\tthis._state = { view: 'wallet-selection' };\n\t\t\t} else {\n\t\t\t\tthis._state = { view: 'error', wallet, error };\n\t\t\t}\n\t\t} finally {\n\t\t\tclearTimeout(delayTimeout);\n\t\t}\n\t}\n\n\t#resetSelection() {\n\t\tif (this._state.view === 'connecting') {\n\t\t\tthis.#abortController?.abort('cancelled');\n\t\t} else {\n\t\t\tthis._state = { view: 'wallet-selection' };\n\t\t}\n\t}\n\n\t#getWallets() {\n\t\tconst wallets = this.instance.stores.$wallets.get();\n\t\tconst filtered = this.filterFn ? wallets.filter(this.filterFn) : wallets;\n\t\tconst sorted = this.sortFn ? filtered.toSorted(this.sortFn) : filtered;\n\t\treturn sorted;\n\t}\n}\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'mysten-dapp-kit-connect-modal': DAppKitConnectModal;\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const unlinkIcon = html`<svg\n\twidth=\"17\"\n\theight=\"16\"\n\tviewBox=\"0 0 17 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M11.22 0.538749C10.6265 0.598285 10.1912 0.722509 9.66001 0.983949C9.37775 1.12286 9.12319 1.28297 8.87601 1.47704C8.69228 1.62129 6.93319 3.37158 6.85697 3.48597C6.78033 3.60101 6.75383 3.69451 6.75437 3.84801C6.75508 4.04564 6.81122 4.18171 6.94887 4.31936C7.14239 4.51288 7.43207 4.56667 7.68401 4.45585C7.78109 4.41317 7.84866 4.34988 8.70001 3.50432C9.20161 3.00612 9.65881 2.56196 9.71601 2.51731C10.0519 2.25499 10.4706 2.05141 10.892 1.94537C11.2092 1.86557 11.7213 1.84326 12.0514 1.89489C12.9243 2.03139 13.651 2.49584 14.1437 3.23201C14.3077 3.47704 14.4669 3.8423 14.5477 4.15877C14.6587 4.59373 14.6616 5.18297 14.5546 5.60801C14.4471 6.03561 14.2443 6.45003 13.9762 6.79022C13.9268 6.85281 13.489 7.30361 13.0031 7.79201C12.5173 8.28041 12.1015 8.7095 12.0793 8.74557C12.0217 8.83864 11.988 8.96494 11.9882 9.08693C11.9885 9.27032 12.0513 9.42179 12.1808 9.55125C12.3159 9.68635 12.4532 9.74419 12.644 9.74638C12.7905 9.74808 12.9047 9.71592 13.016 9.64171C13.1301 9.56558 14.864 7.82219 15.0147 7.63201C15.502 7.01705 15.8117 6.30936 15.9321 5.53601C15.9672 5.31038 15.9813 4.73297 15.9576 4.48801C15.9054 3.94678 15.7771 3.48822 15.5414 3.00001C15.3126 2.52614 15.0685 2.18312 14.6927 1.80733C13.9789 1.09355 13.1035 0.668781 12.1059 0.552077C11.9206 0.530397 11.3837 0.522333 11.22 0.538749ZM5.2445 1.05827C5.0433 1.08664 4.84421 1.23966 4.75012 1.43825L4.70001 1.54401L4.69549 2.46219C4.69154 3.26985 4.69412 3.39117 4.71692 3.47019C4.76266 3.62872 4.85655 3.75208 5.00476 3.84838C5.20802 3.98045 5.48217 3.98582 5.69402 3.8619C5.77233 3.81611 5.90889 3.67566 5.94727 3.60145C6.01841 3.46387 6.01965 3.44486 6.01983 2.49262C6.02001 1.61425 6.01895 1.58238 5.98692 1.49678C5.87002 1.18435 5.57716 1.01137 5.2445 1.05827ZM2.59673 1.58549C2.4178 1.62057 2.22357 1.77176 2.14122 1.94009C2.08143 2.06232 2.05881 2.21302 2.08055 2.34425C2.11277 2.53877 2.15631 2.60016 2.52401 2.96969C2.81721 3.26435 2.87423 3.31429 2.97162 3.36169C3.07791 3.41342 3.09167 3.41601 3.25962 3.41601C3.4238 3.41601 3.44327 3.41257 3.541 3.36627C3.67756 3.30155 3.80154 3.17757 3.86626 3.04101C3.91257 2.94328 3.91601 2.9238 3.91601 2.75963C3.91601 2.59168 3.91341 2.57792 3.86169 2.47163C3.81428 2.37424 3.76434 2.31721 3.46969 2.02401C3.10991 1.66603 3.04322 1.61725 2.86836 1.58408C2.77031 1.56549 2.69684 1.56587 2.59673 1.58549ZM2.02801 4.21445C1.85482 4.26936 1.69453 4.40416 1.61634 4.56062C1.53162 4.73012 1.5306 4.97821 1.61388 5.14899C1.67375 5.27179 1.8045 5.39857 1.93497 5.46037L2.04401 5.51201L2.96401 5.51667C3.92485 5.52155 3.95385 5.51987 4.09084 5.45173C4.17271 5.41101 4.31301 5.27763 4.36189 5.19403C4.57817 4.82427 4.38473 4.33845 3.97309 4.21753C3.89789 4.19545 3.76553 4.19216 2.98909 4.19309C2.31132 4.19389 2.07636 4.19912 2.02801 4.21445ZM10.4794 5.24865C10.4373 5.25573 10.3545 5.28401 10.2954 5.3115C10.1935 5.35891 10.0767 5.47275 8.02474 7.52475C5.98373 9.56576 5.85868 9.694 5.81218 9.794C5.68556 10.0662 5.73263 10.3648 5.93393 10.5661C6.13521 10.7674 6.4338 10.8145 6.70602 10.6878C6.80602 10.6413 6.93426 10.5163 8.97527 8.47528C11.0163 6.43427 11.1413 6.30603 11.1878 6.20603C11.2829 6.00173 11.2838 5.80633 11.1907 5.61C11.1022 5.42347 10.9104 5.28238 10.6982 5.24763C10.5933 5.23045 10.5875 5.23048 10.4794 5.24865ZM4.25201 6.25709C4.13005 6.27627 4.07709 6.29624 3.98469 6.35787C3.87025 6.43421 2.13679 8.17691 1.98524 8.36801C1.7866 8.61848 1.62597 8.87236 1.48417 9.16001C1.25775 9.61931 1.14644 9.96928 1.0669 10.472C1.03255 10.6891 1.01855 11.2894 1.04242 11.5218C1.13201 12.3938 1.44233 13.1559 1.99106 13.8515C2.11753 14.0118 2.48823 14.3825 2.64853 14.509C3.34417 15.0577 4.10626 15.368 4.9782 15.4576C5.21338 15.4818 5.80996 15.4674 6.03601 15.4322C6.811 15.3113 7.51625 15.0026 8.13201 14.5147C8.32218 14.364 10.0656 12.6301 10.1417 12.516C10.2159 12.4047 10.2481 12.2905 10.2464 12.144C10.2442 11.9532 10.1863 11.8159 10.0512 11.6808C9.92178 11.5513 9.77031 11.4885 9.58692 11.4882C9.46493 11.488 9.33863 11.5217 9.24556 11.5793C9.20949 11.6015 8.78041 12.0173 8.29201 12.5031C7.80361 12.989 7.35281 13.4268 7.29021 13.4762C6.95002 13.7443 6.53561 13.9471 6.10801 14.0547C5.68297 14.1616 5.09372 14.1587 4.65876 14.0477C4.1114 13.9079 3.64604 13.6439 3.25109 13.2489C2.7846 12.7824 2.49877 12.2158 2.39489 11.5514C2.35978 11.3269 2.35981 10.8808 2.39497 10.656C2.47809 10.1242 2.69338 9.62913 3.02385 9.20981C3.07317 9.14721 3.51778 8.68921 4.01186 8.19201C4.85073 7.34785 4.91322 7.28113 4.95589 7.18401C5.06609 6.93325 5.01277 6.6423 4.82162 6.45115C4.66466 6.29419 4.45981 6.2244 4.25201 6.25709ZM13.548 10.5024C13.3666 10.56 13.2147 10.6922 13.1337 10.863C13.0874 10.9607 13.084 10.9802 13.084 11.1444C13.084 11.3106 13.0869 11.3268 13.1354 11.4252C13.2206 11.5981 13.3733 11.7304 13.5493 11.7838C13.6613 11.8178 14.8548 11.819 14.9659 11.7852C15.1861 11.7184 15.3611 11.5473 15.4232 11.3381C15.455 11.2312 15.4542 11.0513 15.4215 10.9388C15.3698 10.7611 15.1977 10.5858 15.0032 10.5131C14.919 10.4816 14.8842 10.4801 14.2634 10.4811C13.7842 10.4819 13.5951 10.4875 13.548 10.5024ZM11.4431 12.5983C11.2533 12.6712 11.1165 12.7929 11.0377 12.959L10.988 13.064L10.9834 13.7377C10.9789 14.3897 10.9798 14.4143 11.0124 14.5015C11.0858 14.6977 11.2604 14.8696 11.4388 14.9215C11.8061 15.0283 12.1748 14.8298 12.2852 14.4659C12.319 14.3548 12.3177 13.1613 12.2838 13.0494C12.2305 12.8735 12.0981 12.7206 11.9257 12.6357C11.8326 12.5899 11.8052 12.5842 11.6609 12.5806C11.5544 12.5779 11.4808 12.5839 11.4431 12.5983ZM13.5391 12.5983C13.3493 12.6712 13.2125 12.7929 13.1337 12.959C13.0874 13.0567 13.084 13.0762 13.084 13.2404C13.084 13.4083 13.0866 13.4221 13.1383 13.5284C13.1857 13.6258 13.2357 13.6828 13.5303 13.976C13.9023 14.3462 13.9559 14.3839 14.1582 14.4172C14.3748 14.453 14.5719 14.3886 14.7303 14.2303C14.8886 14.0719 14.953 13.8748 14.9172 13.6582C14.8838 13.4559 14.8462 13.4023 14.476 13.0303C14.1833 12.7362 14.1257 12.6857 14.0289 12.6386C13.9283 12.5896 13.9028 12.5842 13.7569 12.5806C13.6504 12.5779 13.5768 12.5839 13.5391 12.5983Z\"\n\t/>\n</svg>`;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\nimport { iconButtonStyles } from '../styles/icon-button.js';\n\nexport const styles = [\n\tsharedStyles,\n\ticonButtonStyles,\n\tcss`\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t\twidth: fit-content;\n\t\t}\n\n\t\t.menu {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t[aria-expanded='true'] + .menu {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmax-width: fit-content;\n\t\t\tmin-width: 396px;\n\t\t\tgap: 16px;\n\t\t\tpadding: 16px;\n\t\t\tposition: absolute;\n\t\t\toutline: none;\n\t\t\tbackground-color: var(--dapp-kit-popover);\n\t\t\tcolor: var(--dapp-kit-popover-foreground);\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t\tborder: 1px solid var(--dapp-kit-border);\n\t\t\tbox-shadow:\n\t\t\t\t0 4px 6px -1px rgba(0, 0, 0, 0.1),\n\t\t\t\t0 2px 4px -2px rgba(0, 0, 0, 0.1);\n\t\t}\n\n\t\t.header-container {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t}\n\n\t\t.header-title {\n\t\t\tfont-size: 18px;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\tletter-spacing: -0.18px;\n\t\t}\n\n\t\timg {\n\t\t\twidth: 24px;\n\t\t\theight: 24px;\n\t\t\tborder-radius: 96px;\n\t\t}\n\n\t\t[aria-expanded='true'] .chevron {\n\t\t\ttransition: transform 0.3s ease;\n\t\t\ttransform: rotate(180deg);\n\t\t}\n\n\t\t.chevron {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.chevron svg {\n\t\t\twidth: 12px;\n\t\t\theight: 12px;\n\t\t}\n\n\t\t.trigger-content {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.accounts-list {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 12px;\n\t\t\tmax-height: 240px;\n\t\t\toverflow-y: auto;\n\t\t}\n\n\t\t.disconnect-button {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.8);\n\t\t\tdisplay: inline-flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\twidth: 100%;\n\t\t\tbackground-color: var(--dapp-kit-secondary);\n\t\t\tcolor: var(--dapp-kit-destructive);\n\t\t\tborder-radius: var(--dapp-kit-radius-md);\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t\theight: 48px;\n\t\t\tpadding: 16px;\n\t\t\tgap: 8px;\n\t\t}\n\n\t\t.disconnect-button:hover {\n\t\t\tbackground-color: color-mix(in oklab, var(--dapp-kit-secondary) 80%, transparent);\n\t\t}\n\n\t\t.container {\n\t\t\tpadding-top: 12px;\n\t\t\tpadding-bottom: 12px;\n\t\t\tpadding-left: 16px;\n\t\t\tpadding-right: 16px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tgap: 8px;\n\t\t\twidth: 100%;\n\t\t\tborder-radius: var(--dapp-kit-radius-sm);\n\t\t}\n\n\t\t.container[data-checked='true'] {\n\t\t\tbackground-color: var(--dapp-kit-accent);\n\t\t}\n\n\t\t.account-title {\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t}\n\n\t\t.account-subtitle {\n\t\t\tcolor: var(--dapp-kit-muted-foreground);\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t\tfont-size: 14px;\n\t\t}\n\n\t\t.account-info {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 4px;\n\t\t}\n\n\t\t.content {\n\t\t\tdisplay: flex;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.copy-address-button {\n\t\t\tdisplay: inline-flex;\n\t\t}\n\n\t\t.copy-address-button svg {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t}\n\n\t\t.radio-indicator {\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\tborder-radius: 100%;\n\t\t\tbackground-color: var(--dapp-kit-input);\n\t\t\tborder: 1px solid var(--dapp-kit-border);\n\t\t\tdisplay: inline-flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t.content:focus-visible .radio-indicator {\n\t\t\tborder-color: var(--dapp-kit-ring);\n\t\t\tbox-shadow: 0 0 0 3px var(--dapp-kit-ring) / 0.5;\n\t\t\toutline: none;\n\t\t}\n\n\t\t[data-checked='true'] .radio-indicator {\n\t\t\tcolor: var(--dapp-kit-positive);\n\t\t\tborder-color: var(--dapp-kit-positive);\n\t\t}\n\n\t\t.radio-input {\n\t\t\tappearance: none;\n\t\t\t-webkit-appearance: none;\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\tmargin: 0;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: var(--dapp-kit-input);\n\t\t\tborder: 1px solid var(--dapp-kit-input);\n\t\t\tcursor: pointer;\n\t\t\tposition: relative;\n\t\t\toutline: none;\n\t\t\ttransition: box-shadow 0.2s;\n\t\t}\n\n\t\t.radio-input::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\twidth: 8px;\n\t\t\theight: 8px;\n\t\t\tbackground-color: var(--dapp-kit-positive);\n\t\t\tborder-radius: 100%;\n\t\t\ttransform: translate(-50%, -50%) scale(0);\n\t\t\ttransition: transform 0.2s ease;\n\t\t}\n\n\t\t.radio-input:checked {\n\t\t\tbackground-color: transparent;\n\t\t\tborder-color: var(--dapp-kit-positive);\n\t\t}\n\n\t\t.radio-input:checked::before {\n\t\t\ttransform: translate(-50%, -50%) scale(1);\n\t\t}\n\n\t\t.radio-input:focus-visible {\n\t\t\tborder-color: var(--dapp-kit-ring);\n\t\t\tbox-shadow: 0 0 0 3px var(--dapp-kit-ring);\n\t\t}\n\t`,\n];\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const copyIcon = html`<svg\n\twidth=\"16\"\n\theight=\"16\"\n\tviewBox=\"0 0 16 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M2.57602 1.05841C1.96473 1.12213 1.42869 1.52667 1.18005 2.11198C1.1061 2.28603 1.0777 2.39982 1.05682 2.60568C1.03369 2.83379 1.03361 9.476 1.05673 9.71992C1.12471 10.4367 1.60071 11.0082 2.31202 11.227L2.45602 11.2713L3.58402 11.2796L4.71202 11.288L4.72098 12.416C4.7307 13.6405 4.7262 13.5765 4.82061 13.8331C4.95698 14.2037 5.26674 14.5566 5.62014 14.7439C5.85567 14.8688 6.02999 14.9204 6.29721 14.9443C6.5825 14.9699 13.4137 14.9564 13.544 14.9301C14.2457 14.7881 14.7885 14.2454 14.9301 13.544C14.9564 13.4135 14.9699 6.582 14.9444 6.29717C14.9204 6.02992 14.8688 5.8556 14.744 5.62009C14.5566 5.2667 14.2038 4.95694 13.8332 4.82057C13.5766 4.72616 13.6405 4.73065 12.416 4.72094L11.288 4.71198L11.2797 3.58398L11.2713 2.45598L11.227 2.31198C11.1329 2.00597 10.9791 1.74963 10.7655 1.54273C10.4634 1.25013 10.1311 1.09568 9.71996 1.05669C9.50114 1.03595 2.77607 1.03757 2.57602 1.05841ZM2.64002 2.40489C2.56149 2.42965 2.42756 2.56833 2.40348 2.64984C2.38845 2.70067 2.3841 3.50549 2.38437 6.17784C2.38473 9.62633 2.38485 9.64027 2.41732 9.71198C2.45749 9.80075 2.51625 9.86424 2.60002 9.90945C2.66343 9.94366 2.67351 9.94403 3.69159 9.94843L4.71916 9.95288L4.72359 8.03643L4.72802 6.11998L4.77265 5.97758C4.96105 5.37641 5.37855 4.9584 5.97602 4.77273L6.12002 4.72798L8.03647 4.72355L9.95292 4.71912L9.94847 3.69155C9.94407 2.67347 9.9437 2.66339 9.9095 2.59998C9.86428 2.51621 9.80079 2.45745 9.71202 2.41728C9.64026 2.3848 9.62818 2.38469 6.16802 2.38597C3.68466 2.38688 2.68007 2.39227 2.64002 2.40489ZM6.33593 6.06286C6.22594 6.09651 6.14185 6.16683 6.08585 6.27198C6.05701 6.32613 6.05602 6.44379 6.05602 9.83198V13.336L6.09108 13.4015C6.1358 13.4851 6.21761 13.5568 6.30634 13.5904C6.37039 13.6146 6.65799 13.6164 9.86402 13.6124C13.1284 13.6083 13.3553 13.6062 13.4023 13.5804C13.4667 13.5452 13.5453 13.4666 13.5805 13.4023C13.6063 13.3552 13.6083 13.1283 13.6124 9.86398C13.6164 6.65795 13.6146 6.37035 13.5904 6.3063C13.5569 6.21757 13.4851 6.13576 13.4015 6.09104L13.336 6.05598L9.85602 6.05328C7.94202 6.05181 6.35798 6.05611 6.33593 6.06286Z\"\n\t/>\n</svg> `;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { normalizeSuiNSName } from '@mysten/sui/utils';\nimport type { DAppKitCompatibleClient } from '../core/types.js';\n\nconst cache = new Map<string, string | null>();\n\nexport async function resolveNameServiceName(client: DAppKitCompatibleClient, address: string) {\n\tif (cache.has(address)) {\n\t\treturn cache.get(address)!;\n\t}\n\n\ttry {\n\t\tconst result = await client.core.defaultNameServiceName?.({\n\t\t\taddress,\n\t\t});\n\n\t\tconst name = result?.data.name;\n\t\tcache.set(address, name ? normalizeSuiNSName(name, 'at') : null);\n\t\treturn name;\n\t} catch {\n\t\tcache.set(address, null);\n\t\treturn null;\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const circleCheckIcon = html`<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\twidth=\"24\"\n\theight=\"24\"\n\tviewBox=\"0 0 24 24\"\n\tfill=\"none\"\n\tstroke=\"var(--dapp-kit-positive)\"\n\tstroke-width=\"2\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n>\n\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t<path d=\"m9 12 2 2 4-4\" />\n</svg> `;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { when } from 'lit/directives/when.js';\nimport { html, LitElement } from 'lit';\nimport { formatAddress } from '@mysten/sui/utils';\nimport { property, state } from 'lit/decorators.js';\nimport type { UiWalletAccount } from '@wallet-standard/ui';\nimport { copyIcon } from './icons/copy-icon.js';\nimport { Task } from '@lit/task';\nimport type { DAppKitCompatibleClient } from '../../core/types.js';\nimport { resolveNameServiceName } from '../../utils/name.js';\nimport { circleCheckIcon } from './icons/circle-check-icon.js';\n\nexport type AccountSelectedEvent = CustomEvent<{ account: UiWalletAccount }>;\n\nexport class AccountMenuItem extends LitElement {\n\toverride createRenderRoot() {\n\t\treturn this;\n\t}\n\n\t@property({ type: Object })\n\taccount!: UiWalletAccount;\n\n\t@property({ type: Object })\n\tclient!: DAppKitCompatibleClient;\n\n\t@property({ type: Boolean })\n\tselected = false;\n\n\t@state()\n\tprivate _wasCopySuccessful = false;\n\n\t#resolveNameTask = new Task(this, {\n\t\targs: () => [this.client, this.account.address],\n\t\ttask: async ([client, address]) => resolveNameServiceName(client, address),\n\t});\n\n\toverride connectedCallback() {\n\t\tsuper.connectedCallback();\n\t\tthis.addEventListener('click', this.#accountSelected);\n\t}\n\n\toverride disconnectedCallback() {\n\t\tsuper.disconnectedCallback();\n\t\tthis.removeEventListener('click', this.#accountSelected);\n\t}\n\n\toverride render() {\n\t\treturn html`\n\t\t\t<div class=\"container\" data-checked=${this.selected}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"wallet-address\"\n\t\t\t\t\ttabindex=\"${this.selected ? '0' : '-1'}\"\n\t\t\t\t\tvalue=${this.account.address}\n\t\t\t\t\t?checked=${this.selected}\n\t\t\t\t\t@change=${this.#accountSelected}\n\t\t\t\t\tclass=\"radio-input\"\n\t\t\t\t\tid=${this.account.address}\n\t\t\t\t/>\n\t\t\t\t<label class=\"content\" for=${this.account.address}>\n\t\t\t\t\t${when(this.account.icon, (icon) => html`<img src=${icon} alt=\"\" />`)}\n\t\t\t\t\t${this.#resolveNameTask.render({\n\t\t\t\t\t\tpending: this.#renderAccountInfo,\n\t\t\t\t\t\tcomplete: this.#renderAccountInfo,\n\t\t\t\t\t\terror: () => this.#renderAccountInfo(),\n\t\t\t\t\t})}\n\t\t\t\t</label>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"copy-address-button\"\n\t\t\t\t\t@click=${this.#copyAddressToClipboard}\n\t\t\t\t\taria-label=\"Copy address\"\n\t\t\t\t>\n\t\t\t\t\t${this._wasCopySuccessful ? circleCheckIcon : copyIcon}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tasync #copyAddressToClipboard(event: Event) {\n\t\tevent.stopPropagation();\n\n\t\ttry {\n\t\t\tawait navigator.clipboard.writeText(this.account.address);\n\t\t\tthis._wasCopySuccessful = true;\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._wasCopySuccessful = false;\n\t\t\t}, 2000);\n\t\t} catch {\n\t\t\t// Do nothing here\n\t\t}\n\t}\n\n\t#renderAccountInfo = (name?: string | null) => {\n\t\tconst { address, label } = this.account;\n\t\tconst formattedAddress = formatAddress(address);\n\t\tconst title = name || label;\n\n\t\treturn html`<div class=\"account-info\">\n\t\t\t<div class=\"account-title\">${title || formattedAddress}</div>\n\t\t\t${when(title, () => html`<div class=\"account-subtitle\">${formattedAddress}</div>`)}\n\t\t</div>`;\n\t};\n\n\t#accountSelected() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent<AccountSelectedEvent['detail']>('account-selected', {\n\t\t\t\tdetail: { account: this.account },\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const chevronDownIcon = html`<svg\n\twidth=\"12\"\n\theight=\"12\"\n\tviewBox=\"0 0 12 12\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M0.749783 3.16083C0.616367 3.20313 0.499715 3.30493 0.439031 3.432C0.404351 3.50463 0.401783 3.5191 0.401783 3.642C0.401783 3.8842 0.122795 3.58063 2.91474 6.3763C4.25842 7.72175 5.39718 8.85432 5.44534 8.8931C5.61112 9.02664 5.77771 9.084 5.99978 9.084C6.22186 9.084 6.38845 9.02664 6.55423 8.8931C6.60239 8.85432 7.74115 7.72175 9.08483 6.3763C11.8768 3.58063 11.5978 3.8842 11.5978 3.642C11.5978 3.5191 11.5952 3.50463 11.5605 3.432C11.512 3.33045 11.4169 3.23542 11.3163 3.18797C11.2247 3.14475 11.0777 3.13074 10.9826 3.15618C10.8399 3.19439 10.9127 3.12454 8.39678 5.63854L5.99978 8.03374L3.60278 5.6387C1.98712 4.02436 1.18712 3.23308 1.14854 3.21119C1.11707 3.19332 1.06577 3.17095 1.03454 3.16149C0.965327 3.14049 0.815051 3.14014 0.749783 3.16083Z\"\n\t/>\n</svg>`;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const plusIcon = html`<svg\n\twidth=\"16\"\n\theight=\"16\"\n\tviewBox=\"0 0 16 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M7.89082 1.05657C7.62439 1.0948 7.38895 1.33323 7.34347 1.61086C7.33421 1.66737 7.32818 2.80358 7.32813 4.49999L7.32803 7.296H4.4625C1.27722 7.296 1.51488 7.28764 1.34404 7.40553C1.22967 7.48444 1.11213 7.63921 1.07837 7.75534C1.04733 7.86214 1.04613 8.06073 1.07597 8.15199C1.1289 8.3138 1.2622 8.47769 1.39693 8.54657C1.55365 8.62668 1.43055 8.6236 4.47604 8.6238L7.32803 8.62399L7.32813 11.46C7.32818 13.2384 7.33408 14.3318 7.34392 14.392C7.38999 14.6737 7.62421 14.9044 7.90416 14.944C8.26109 14.9945 8.59807 14.7471 8.65615 14.392C8.66599 14.3318 8.67189 13.2384 8.67194 11.46L8.67203 8.62399L11.524 8.6238C14.5695 8.6236 14.4464 8.62668 14.6031 8.54657C14.7379 8.47769 14.8712 8.3138 14.9241 8.15199C14.9539 8.06073 14.9527 7.86214 14.9217 7.75534C14.8879 7.63921 14.7704 7.48444 14.656 7.40553C14.4852 7.28764 14.7229 7.296 11.5376 7.296H8.67203L8.67194 4.49999C8.67189 2.80358 8.66586 1.66737 8.65659 1.61086C8.6172 1.37032 8.44339 1.16228 8.21551 1.08292C8.12912 1.05284 7.99355 1.04184 7.89082 1.05657Z\"\n\t/>\n</svg>`;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\n\nimport { html, LitElement } from 'lit';\nimport { Button } from './button.js';\nimport { formatAddress } from '@mysten/sui/utils';\nimport { property, query, state } from 'lit/decorators.js';\nimport { unlinkIcon } from './icons/unlink-icon.js';\nimport { styles } from './connected-account-menu.styles.js';\nimport type { DAppKitCompatibleClient } from '../../core/types.js';\nimport { autoPlacement, autoUpdate, computePosition, flip, offset, shift } from '@floating-ui/dom';\nimport { AccountMenuItem } from './connected-account-menu-item.js';\nimport { chevronDownIcon } from './icons/chevron-down-icon.js';\nimport type { WalletConnection } from '../../core/store.js';\nimport { plusIcon } from './icons/plus-icon.js';\nimport { SLUSH_WALLET_NAME } from '@mysten/slush-wallet';\nimport { when } from 'lit/directives/when.js';\nimport { Task } from '@lit/task';\nimport { resolveNameServiceName } from '../../utils/name.js';\n\nexport class ConnectedAccountMenu extends ScopedRegistryHost(LitElement) {\n\tstatic elementDefinitions = {\n\t\t'internal-button': Button,\n\t\t'account-menu-item': AccountMenuItem,\n\t};\n\n\tstatic override styles = styles;\n\n\t@property({ type: Object })\n\tconnection!: Extract<WalletConnection, { status: 'connected' }>;\n\n\t@property({ type: Object })\n\tclient!: DAppKitCompatibleClient;\n\n\t@query('#menu-button')\n\tprivate _trigger!: HTMLElement;\n\n\t@query('#menu')\n\tprivate _menu!: HTMLElement;\n\n\t@state()\n\tprivate _open = false;\n\n\t#unsubscribeFromAutoUpdate?: () => void;\n\n\t#resolveNameTask = new Task(this, {\n\t\targs: () => [this.client, this.connection.account.address],\n\t\ttask: async ([client, address]) => resolveNameServiceName(client, address),\n\t});\n\n\toverride connectedCallback() {\n\t\tsuper.connectedCallback();\n\t\tdocument.addEventListener('click', this.#onDocumentClick);\n\t}\n\n\toverride disconnectedCallback() {\n\t\tsuper.disconnectedCallback();\n\t\tthis.#stopPositioning();\n\t\tdocument.removeEventListener('click', this.#onDocumentClick);\n\t}\n\n\toverride render() {\n\t\treturn html`<internal-button\n\t\t\t\tid=\"menu-button\"\n\t\t\t\taria-haspopup=\"true\"\n\t\t\t\taria-controls=\"menu\"\n\t\t\t\taria-expanded=\"${this._open}\"\n\t\t\t\t@click=${this.#toggleMenu}\n\t\t\t>\n\t\t\t\t<div class=\"trigger-content\">\n\t\t\t\t\t<img src=${this.connection.account.icon ?? this.connection.wallet.icon} alt=\"\" />\n\t\t\t\t\t${this.#resolveNameTask.render({\n\t\t\t\t\t\tpending: this.#getAccountTitle,\n\t\t\t\t\t\tcomplete: this.#getAccountTitle,\n\t\t\t\t\t\terror: () => this.#getAccountTitle,\n\t\t\t\t\t})}\n\t\t\t\t\t<div class=\"chevron\">${chevronDownIcon}</div>\n\t\t\t\t</div>\n\t\t\t</internal-button>\n\t\t\t<div class=\"menu\" id=\"menu\" tabindex=\"-1\" aria-labelledby=\"menu-button\">\n\t\t\t\t<div class=\"header-container\">\n\t\t\t\t\t<h2 class=\"header-title\">Connected accounts</h2>\n\t\t\t\t\t${when(\n\t\t\t\t\t\t// NOTE: No compatible wallets conform with the standard\n\t\t\t\t\t\t// in a way to allow selecting other accounts besides Slush\n\t\t\t\t\t\t// so we'll just hardcode this for now.\n\t\t\t\t\t\tthis.connection.wallet.name.startsWith(SLUSH_WALLET_NAME),\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\thtml`<button\n\t\t\t\t\t\t\t\tclass=\"icon-button\"\n\t\t\t\t\t\t\t\taria-label=\"Add more accounts\"\n\t\t\t\t\t\t\t\t@click=${this.#onManageConnectionClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${plusIcon}\n\t\t\t\t\t\t\t</button>`,\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"accounts-container\" role=\"radiogroup\">\n\t\t\t\t\t<ul class=\"accounts-list\">\n\t\t\t\t\t\t${this.connection.wallet.accounts.map(\n\t\t\t\t\t\t\t(account) => html`\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<account-menu-item\n\t\t\t\t\t\t\t\t\t\t.account=${account}\n\t\t\t\t\t\t\t\t\t\t.client=${this.client}\n\t\t\t\t\t\t\t\t\t\t.selected=${account.address === this.connection.account.address}\n\t\t\t\t\t\t\t\t\t></account-menu-item>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<button class=\"disconnect-button\" @click=${this.#onDisconnectClick}>\n\t\t\t\t\t${unlinkIcon} Disconnect all\n\t\t\t\t</button>\n\t\t\t</div>`;\n\t}\n\n\t#onDisconnectClick() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent('disconnect-click', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n\n\t#onManageConnectionClick() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent('manage-connection-click', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n\n\t#getAccountTitle = (name?: string | null) => {\n\t\treturn name || this.connection.account.label || formatAddress(this.connection.account.address);\n\t};\n\n\t#onDocumentClick = (event: MouseEvent) => {\n\t\tif (!this._open) return;\n\n\t\tconst path = event.composedPath();\n\t\tif (!path.includes(this)) {\n\t\t\tthis.#closeMenu();\n\t\t}\n\t};\n\n\t#toggleMenu() {\n\t\tif (this._open) {\n\t\t\tthis.#closeMenu();\n\t\t} else {\n\t\t\tthis.#openMenu();\n\t\t}\n\t}\n\n\tasync #openMenu() {\n\t\tthis._open = true;\n\n\t\tawait this.updateComplete;\n\t\tthis._menu.focus();\n\t\tthis.#startPositioning();\n\t}\n\n\t#closeMenu() {\n\t\tthis._open = false;\n\t\tthis.#stopPositioning();\n\t}\n\n\t#startPositioning() {\n\t\tthis.#unsubscribeFromAutoUpdate = autoUpdate(this._trigger, this._menu, async () => {\n\t\t\tconst result = await computePosition(this._trigger, this._menu, {\n\t\t\t\tplacement: 'bottom-end',\n\t\t\t\tmiddleware: [offset(12), flip(), shift({ padding: 16 }), autoPlacement()],\n\t\t\t});\n\n\t\t\tObject.assign(this._menu.style, {\n\t\t\t\tleft: `${result.x}px`,\n\t\t\t\ttop: `${result.y}px`,\n\t\t\t});\n\t\t});\n\t}\n\n\t#stopPositioning() {\n\t\tif (this.#unsubscribeFromAutoUpdate) {\n\t\t\tthis.#unsubscribeFromAutoUpdate();\n\t\t\tthis.#unsubscribeFromAutoUpdate = undefined;\n\t\t}\n\t}\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html, LitElement } from 'lit';\nimport { customElement, property, query } from 'lit/decorators.js';\nimport { storeProperty } from '../utils/lit.js';\nimport type { DAppKitConnectModalOptions } from './dapp-kit-connect-modal.js';\nimport { DAppKitConnectModal } from './dapp-kit-connect-modal.js';\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\nimport { Button } from './internal/button.js';\nimport { sharedStyles } from './styles/index.js';\nimport type { DefaultExpectedDppKit } from '../types.js';\nimport { ConnectedAccountMenu } from './internal/connected-account-menu.js';\nimport type { AccountSelectedEvent } from './internal/connected-account-menu-item.js';\n\n/**\n * A button component for connecting to a Sui wallet.\n *\n * Displays a \"Connect Wallet\" button when no wallet is connected or a connected account menu when a wallet is active.\n *\n * @element mysten-dapp-kit-connect-button\n *\n * @prop {DAppKitConnectModalOptions} modalOptions - Options to configure the connect modal.\n * @prop {RegisteredDAppKit} instance - The dApp Kit instance used for state management.\n *\n * @slot - The default slot used to customize the button content (shown when not connected).\n *\n * @cssprop --background - Background color of the component. Used as the default background for UI elements.\n * @cssprop --foreground - Foreground color of the component. Used as the default text color.\n * @cssprop --primary - Primary color used for interactive elements such as buttons and links.\n * @cssprop --primary-foreground - Text or icon color placed on top of primary elements.\n * @cssprop --secondary - Secondary color used for less prominent interactive elements.\n * @cssprop --secondary-foreground - Text or icon color placed on top of secondary elements.\n * @cssprop --border - Border color for UI elements.\n * @cssprop --accent - Accent color used for highlights and decorative elements.\n * @cssprop --accent-foreground - Text or icon color placed on top of accent elements.\n * @cssprop --muted - Background color for subtle or muted UI elements (e.g., placeholders, disabled states).\n * @cssprop --muted-foreground - Text or icon color for muted UI elements.\n * @cssprop --popover - Background color for floating elements such as popovers, dropdowns, or tooltips.\n * @cssprop --popover-foreground - Text or icon color inside popover elements.\n * @cssprop --ring - Color used for focus rings (visible focus indicators on interactive elements).\n * @cssprop --radius - Border radius used for UI elements.\n * @cssprop --font-sans - Font family used for text content.\n * @cssprop --font-weight-medium - Medium font weight for text (typically used for buttons and interactive elements).\n * @cssprop --font-weight-semibold - Semibold font weight for text (typically used for headings or emphasized text).\n */\n@customElement('mysten-dapp-kit-connect-button')\nexport class DAppKitConnectButton extends ScopedRegistryHost(LitElement) {\n\tstatic elementDefinitions = {\n\t\t'internal-button': Button,\n\t\t'mysten-dapp-kit-connect-modal': DAppKitConnectModal,\n\t\t'connected-account-menu': ConnectedAccountMenu,\n\t};\n\n\tstatic override shadowRootOptions = {\n\t\t...LitElement.shadowRootOptions,\n\t\tdelegatesFocus: true,\n\t};\n\n\tstatic override styles = sharedStyles;\n\n\t/**\n\t * Options to configure the connect modal.\n\t */\n\t@property({ type: Object })\n\tmodalOptions?: DAppKitConnectModalOptions;\n\n\t/**\n\t * The dApp Kit instance used for state management.\n\t */\n\t@storeProperty()\n\tinstance!: DefaultExpectedDppKit;\n\n\t@query('mysten-dapp-kit-connect-modal')\n\tprivate readonly _modal!: DAppKitConnectModal;\n\n\toverride render() {\n\t\tconst connection = this.instance.stores.$connection.get();\n\t\tconst client = this.instance.stores.$currentClient.get();\n\n\t\treturn connection.account\n\t\t\t? html`<connected-account-menu\n\t\t\t\t\t.connection=${connection}\n\t\t\t\t\t.client=${client}\n\t\t\t\t\t@account-selected=${(event: AccountSelectedEvent) => {\n\t\t\t\t\t\tthis.instance.switchAccount({ account: event.detail.account });\n\t\t\t\t\t}}\n\t\t\t\t\t@disconnect-click=${() => {\n\t\t\t\t\t\tthis.instance.disconnectWallet();\n\t\t\t\t\t}}\n\t\t\t\t\t@manage-connection-click=${() => {\n\t\t\t\t\t\tthis.instance.connectWallet({ wallet: connection.wallet });\n\t\t\t\t\t}}\n\t\t\t\t></connected-account-menu>`\n\t\t\t: html`<internal-button @click=${this.#openModal}>\n\t\t\t\t\t\t<slot>Connect Wallet</slot>\n\t\t\t\t\t</internal-button>\n\t\t\t\t\t<mysten-dapp-kit-connect-modal\n\t\t\t\t\t\t.instance=${this.instance}\n\t\t\t\t\t\t.filterFn=${this.modalOptions?.filterFn}\n\t\t\t\t\t\t.sortFn=${this.modalOptions?.sortFn}\n\t\t\t\t\t></mysten-dapp-kit-connect-modal>`;\n\t}\n\n\t#openModal() {\n\t\tthis._modal.show();\n\t}\n}\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'mysten-dapp-kit-connect-button': DAppKitConnectButton;\n\t}\n}\n"],"mappings":"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"}