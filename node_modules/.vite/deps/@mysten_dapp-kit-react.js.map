{
  "version": 3,
  "sources": ["../../.pnpm/@nanostores+lit@0.2.3_lit@3.3.2_nanostores@1.1.0/node_modules/@nanostores/lit/lib/StoreController.js", "../../.pnpm/@nanostores+lit@0.2.3_lit@3.3.2_nanostores@1.1.0/node_modules/@nanostores/lit/lib/MultiStoreController.js", "../../.pnpm/@nanostores+lit@0.2.3_lit@3.3.2_nanostores@1.1.0/node_modules/@nanostores/lit/lib/useStores.js", "../../.pnpm/@nanostores+lit@0.2.3_lit@3.3.2_nanostores@1.1.0/node_modules/@nanostores/lit/lib/withStores.js", "../../.pnpm/@nanostores+lit@0.2.3_lit@3.3.2_nanostores@1.1.0/node_modules/@nanostores/lit/lib/index.js", "../../.pnpm/@lit+react@1.0.8_@types+react@19.2.10/node_modules/@lit/react/src/create-component.ts", " [synthetic:es6/util/arrayiterator] ", " [synthetic:util/defineproperty] ", " [synthetic:util/global] ", " [synthetic:util/polyfill] ", " [synthetic:es6/symbol] ", " [synthetic:es6/util/makeiterator] ", " [synthetic:es6/util/arrayfromiterable] ", " [synthetic:es6/util/arrayfromiterator] ", " [synthetic:util/objectcreate] ", " [synthetic:es6/util/construct] ", " [synthetic:es6/util/setprototypeof] ", "../../.pnpm/@webcomponents+scoped-custom-element-registry@0.0.10/node_modules/@webcomponents/scoped-custom-element-registry/src/scoped-custom-element-registry.ts", " [synthetic:es6/util/inherits] ", "../../.pnpm/@lit-labs+scoped-registry-mixin@1.0.4/node_modules/@lit-labs/scoped-registry-mixin/src/scoped-registry-mixin.ts", "../../.pnpm/lit-html@3.3.2/node_modules/lit-html/src/directives/when.ts", "../../.pnpm/@lit+task@1.0.3/node_modules/@lit/task/src/task.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/utils/lit.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/styles/reset.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/styles/theme.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/styles/index.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/wallet-list-item.styles.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/wallet-list-item.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/wallet-list.styles.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/button.styles.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/button.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/download-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/arrow-right-up-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/wallet-list.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/base-modal.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/close-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/back-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/connection-status.styles.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/connection-status.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/dapp-kit-connect-modal.styles.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/styles/icon-button.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/dapp-kit-connect-modal.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/unlink-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/connected-account-menu.styles.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/copy-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/utils/name.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/circle-check-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/connected-account-menu-item.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/chevron-down-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/icons/plus-icon.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/internal/connected-account-menu.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/web/dapp-kit-connect-button.ts", "../../.pnpm/nanostores@1.1.0/node_modules/nanostores/task/index.js", "../../.pnpm/nanostores@1.1.0/node_modules/nanostores/clean-stores/index.js", "../../.pnpm/nanostores@1.1.0/node_modules/nanostores/atom/index.js", "../../.pnpm/nanostores@1.1.0/node_modules/nanostores/lifecycle/index.js", "../../.pnpm/nanostores@1.1.0/node_modules/nanostores/computed/index.js", "../../.pnpm/nanostores@1.1.0/node_modules/nanostores/listen-keys/index.js", "../../.pnpm/nanostores@1.1.0/node_modules/nanostores/map/index.js", "../../.pnpm/@nanostores+react@1.0.0_nanostores@1.1.0_react@19.2.4/node_modules/@nanostores/react/index.js", "../../.pnpm/@wallet-standard+ui-registry@1.0.1/node_modules/@wallet-standard/ui-registry/src/UiWalletHandleRegistry_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ts", "../../.pnpm/@wallet-standard+ui-registry@1.0.1/node_modules/@wallet-standard/ui-registry/src/compare.ts", "../../.pnpm/@wallet-standard+ui-registry@1.0.1/node_modules/@wallet-standard/ui-registry/src/UiWalletAccountRegistry_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ts", "../../.pnpm/@wallet-standard+ui-registry@1.0.1/node_modules/@wallet-standard/ui-registry/src/UiWalletRegistry_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ts", "../../.pnpm/@wallet-standard+ui-compare@1.0.1/node_modules/@wallet-standard/ui-compare/src/compare.ts", "../../.pnpm/@wallet-standard+ui-features@1.0.1/node_modules/@wallet-standard/ui-features/src/getWalletFeature.ts", "../../.pnpm/@wallet-standard+ui-features@1.0.1/node_modules/@wallet-standard/ui-features/src/getWalletAccountFeature.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/utils/errors.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/utils/networks.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/utils/wallets.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/store.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/initializers/registered-wallets.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/actions/connect-wallet.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/initializers/autoconnect-wallet.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/utils/storage.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/initializers/sync-state-to-storage.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/initializers/manage-connection.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/actions/switch-network.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/actions/disconnect-wallet.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/actions/switch-account.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/actions/sign-personal-message.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/utils/transaction-result.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/actions/sign-and-execute-transaction.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/actions/sign-transaction.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/wallets/slush-web.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/wallets/index.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/wallets/unsafe-burner.ts", "../../.pnpm/@mysten+dapp-kit-core@1.0.2_@mysten+sui@2.2.0_typescript@5.9.3/node_modules/@mysten/dapp-kit-core/src/core/index.ts", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/components/DAppKitProvider.tsx", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/hooks/useDAppKit.ts", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/components/ConnectButton.tsx", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/components/ConnectModal.tsx", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/hooks/useWallets.ts", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/hooks/useWalletConnection.ts", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/hooks/useCurrentAccount.ts", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/hooks/useCurrentWallet.ts", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/hooks/useCurrentClient.ts", "../../.pnpm/@mysten+dapp-kit-react@1.0.1_@mysten+sui@2.2.0_@types+react@19.2.10_react@19.2.4_typescript@5.9.3/node_modules/@mysten/dapp-kit-react/src/hooks/useCurrentNetwork.ts"],
  "sourcesContent": ["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreController = void 0;\r\n/**\r\n * A `ReactiveController` that subscribes a `LitElement` to a `nanostores` atom and updates the host element when the atom changes.\r\n *\r\n * @example\r\n * ```ts\r\n * import { atom } from 'nanostores';\r\n * import { StoreController } from '@nanostores/lit';\r\n * import { LitElement, html } from 'lit';\r\n * import { customElement } from 'lit/decorators.js';\r\n *\r\n * const count = atom(0);\r\n *\r\n * @customElement('my-element')\r\n * class MyElement extends LitElement {\r\n * private controller = new StoreController(this, count);\r\n *  render() {\r\n *   const $count = this.controller.value;\r\n *   return html\\`Count: \\${$count}\\`;\r\n *  }\r\n * }\r\n * ```\r\n */\r\nclass StoreController {\r\n    constructor(host, atom) {\r\n        this.host = host;\r\n        this.atom = atom;\r\n        host.addController(this);\r\n    }\r\n    // Subscribe to the atom when the host connects\r\n    hostConnected() {\r\n        this.unsubscribe = this.atom.subscribe(() => {\r\n            this.host.requestUpdate();\r\n        });\r\n    }\r\n    // Unsubscribe from the atom when the host disconnects\r\n    hostDisconnected() {\r\n        var _a;\r\n        (_a = this.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(this);\r\n    }\r\n    /**\r\n     * The current value of the atom.\r\n     * @readonly\r\n     */\r\n    get value() {\r\n        return this.atom.get();\r\n    }\r\n}\r\nexports.StoreController = StoreController;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiStoreController = void 0;\r\n/**\r\n * A `ReactiveController` that subscribes a `LitElement` to several `nanostores` atoms and updates the host element when any of the atoms changes.\r\n *\r\n * @example\r\n * ```ts\r\n * import { atom } from 'nanostores';\r\n * import { StoreController } from '@nanostores/lit';\r\n * import { LitElement, html } from 'lit';\r\n * import { customElement } from 'lit/decorators.js';\r\n *\r\n * const count1 = atom(0);\r\n * const count2 = atom(0);\r\n *\r\n * @customElement('my-element')\r\n * class MyElement extends LitElement {\r\n * private controller = new MultiStoreController(this, [count1, count2]);\r\n *  render() {\r\n *   const [$count1, $count2] = controller.values;\r\n *   return html\\`Count 1: \\${count1}\\, Count 2: \\${count2}\\`;\r\n *  }\r\n * }\r\n * ```\r\n */\r\nclass MultiStoreController {\r\n    constructor(host, atoms) {\r\n        this.host = host;\r\n        this.atoms = atoms;\r\n        host.addController(this);\r\n    }\r\n    // Subscribe to the atom when the host connects\r\n    hostConnected() {\r\n        this.unsubscribes = this.atoms.map((atom) => atom.subscribe(() => this.host.requestUpdate()));\r\n    }\r\n    // Unsubscribe from the atom when the host disconnects\r\n    hostDisconnected() {\r\n        var _a;\r\n        (_a = this.unsubscribes) === null || _a === void 0 ? void 0 : _a.forEach((unsubscribe) => unsubscribe());\r\n    }\r\n    /**\r\n     * The current values of the atoms.\r\n     * @readonly\r\n     */\r\n    get values() {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return this.atoms.map((atom) => atom.get());\r\n    }\r\n}\r\nexports.MultiStoreController = MultiStoreController;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.useStores = void 0;\r\nconst MultiStoreController_1 = require(\"./MultiStoreController\");\r\n/**\r\n * A TypeScript decorator that creates a new `MultiStoreController` for the atoms\r\n * @decorator `withStores(atoms)`\r\n * @param atoms The atoms to subscribe to.\r\n *\r\n * @example\r\n * ```ts\r\n * import { LitElement, html } from 'lit';\r\n * import { customElement } from 'lit/decorators.js';\r\n * import { atom } from 'nanostores';\r\n * import { useStores } from '@nanostores/lit';\r\n *\r\n * const count = atom(0);\r\n *\r\n * @customElement('my-element')\r\n * @useStores(count)\r\n * class MyElement extends LitElement {\r\n *  render() {\r\n *   return html\\`Count: \\${count.get()}\\`;\r\n *   }\r\n * }\r\n * ```\r\n */\r\nfunction useStores(...atoms) {\r\n    return (constructor) => {\r\n        return class extends constructor {\r\n            constructor(...args) {\r\n                super(...args);\r\n                new MultiStoreController_1.MultiStoreController(this, atoms);\r\n            }\r\n        };\r\n    };\r\n}\r\nexports.useStores = useStores;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.withStores = void 0;\r\nconst MultiStoreController_1 = require(\"./MultiStoreController\");\r\n/**\r\n * A mixin that subscribes a LitElement to a list of atoms.\r\n * @mixin `withStores`\r\n * @param LitElementClass The LitElement class to extend.\r\n * @param atoms The atoms to subscribe to.\r\n *\r\n * @example\r\n * ```ts\r\n * import { LitElement, html } from 'lit';\r\n * import { customElement } from 'lit/decorators.js';\r\n * import { atom } from 'nanostores';\r\n * import { withStores } from '@nanostores/lit';\r\n *\r\n * const count = atom(0);\r\n *\r\n * @customElement('my-element')\r\n * class MyElement extends withStores(LitElement, [count]) {\r\n *  render() {\r\n *   return html\\`Count: \\${count.get()}\\`;\r\n *  }\r\n * }\r\n * ```\r\n */\r\nconst withStores = (LitElementClass, atoms) => {\r\n    return class LitElementWithStores extends LitElementClass {\r\n        constructor(...args) {\r\n            super(...args);\r\n            new MultiStoreController_1.MultiStoreController(this, atoms);\r\n        }\r\n    };\r\n};\r\nexports.withStores = withStores;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.withStores = exports.useStores = exports.MultiStoreController = exports.StoreController = void 0;\r\nvar StoreController_1 = require(\"./StoreController\");\r\nObject.defineProperty(exports, \"StoreController\", { enumerable: true, get: function () { return StoreController_1.StoreController; } });\r\nvar MultiStoreController_1 = require(\"./MultiStoreController\");\r\nObject.defineProperty(exports, \"MultiStoreController\", { enumerable: true, get: function () { return MultiStoreController_1.MultiStoreController; } });\r\nvar useStores_1 = require(\"./useStores\");\r\nObject.defineProperty(exports, \"useStores\", { enumerable: true, get: function () { return useStores_1.useStores; } });\r\nvar withStores_1 = require(\"./withStores\");\r\nObject.defineProperty(exports, \"withStores\", { enumerable: true, get: function () { return withStores_1.withStores; } });\r\n", "/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport type React from 'react';\n\nconst NODE_MODE = false;\nconst DEV_MODE = true;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype DistributiveOmit<T, K extends string | number | symbol> = T extends any\n  ? K extends keyof T\n    ? Omit<T, K>\n    : T\n  : T;\ntype PropsWithoutRef<T> = DistributiveOmit<T, 'ref'>;\n\n/**\n * Creates a type to be used for the props of a web component used directly in\n * React JSX.\n *\n * Example:\n *\n * ```ts\n * declare module \"react\" {\n *   namespace JSX {\n *     interface IntrinsicElements {\n *       'x-foo': WebComponentProps<XFoo>;\n *     }\n *   }\n * }\n * ```\n */\nexport type WebComponentProps<I extends HTMLElement> = React.DetailedHTMLProps<\n  React.HTMLAttributes<I>,\n  I\n> &\n  ElementProps<I>;\n\n/**\n * Type of the React component wrapping the web component. This is the return\n * type of `createComponent`.\n */\nexport type ReactWebComponent<\n  I extends HTMLElement,\n  E extends EventNames = {},\n> = React.ForwardRefExoticComponent<\n  // TODO(augustjk): Remove and use `React.PropsWithoutRef` when\n  // https://github.com/preactjs/preact/issues/4124 is fixed.\n  PropsWithoutRef<ComponentProps<I, E>> & React.RefAttributes<I>\n>;\n\n// Props derived from custom element class. Currently has limitations of making\n// all properties optional and also surfaces life cycle methods in autocomplete.\n// TODO(augustjk) Consider omitting keyof LitElement to remove \"internal\"\n// lifecycle methods or allow user to explicitly provide props.\ntype ElementProps<I> = Partial<Omit<I, keyof HTMLElement>>;\n\n// Acceptable props to the React component.\ntype ComponentProps<I, E extends EventNames = {}> = Omit<\n  React.HTMLAttributes<I>,\n  // Prefer type of provided event handler props or those on element over\n  // built-in HTMLAttributes\n  keyof E | keyof ElementProps<I>\n> &\n  EventListeners<E> &\n  ElementProps<I>;\n\n/**\n * Type used to cast an event name with an event type when providing the\n * `events` option to `createComponent` for better typing of the event handler\n * prop.\n *\n * Example:\n *\n * ```ts\n * const FooComponent = createComponent({\n *   ...\n *   events: {\n *     onfoo: 'foo' as EventName<FooEvent>,\n *   }\n * });\n * ```\n *\n * `onfoo` prop will have the type `(e: FooEvent) => void`.\n */\nexport type EventName<T extends Event = Event> = string & {\n  __eventType: T;\n};\n\n// A key value map matching React prop names to event names.\ntype EventNames = Record<string, EventName | string>;\n\n// A map of expected event listener types based on EventNames.\ntype EventListeners<R extends EventNames> = {\n  [K in keyof R]?: R[K] extends EventName\n    ? (e: R[K]['__eventType']) => void\n    : (e: Event) => void;\n};\n\nexport interface Options<I extends HTMLElement, E extends EventNames = {}> {\n  react: typeof React;\n  tagName: string;\n  elementClass: Constructor<I>;\n  events?: E;\n  displayName?: string;\n}\n\ntype Constructor<T> = {new (): T};\n\nconst reservedReactProperties = new Set([\n  'children',\n  'localName',\n  'ref',\n  'style',\n  'className',\n]);\n\nconst listenedEvents = new WeakMap<Element, Map<string, EventListenerObject>>();\n\n/**\n * Adds an event listener for the specified event to the given node. In the\n * React setup, there should only ever be one event listener. Thus, for\n * efficiency only one listener is added and the handler for that listener is\n * updated to point to the given listener function.\n */\nconst addOrUpdateEventListener = (\n  node: Element,\n  event: string,\n  listener: (event?: Event) => void\n) => {\n  let events = listenedEvents.get(node);\n  if (events === undefined) {\n    listenedEvents.set(node, (events = new Map()));\n  }\n  let handler = events.get(event);\n  if (listener !== undefined) {\n    // If necessary, add listener and track handler\n    if (handler === undefined) {\n      events.set(event, (handler = {handleEvent: listener}));\n      node.addEventListener(event, handler);\n      // Otherwise just update the listener with new value\n    } else {\n      handler.handleEvent = listener;\n    }\n    // Remove listener if one exists and value is undefined\n  } else if (handler !== undefined) {\n    events.delete(event);\n    node.removeEventListener(event, handler);\n  }\n};\n\n/**\n * Sets properties and events on custom elements. These properties and events\n * have been pre-filtered so we know they should apply to the custom element.\n */\nconst setProperty = <E extends Element>(\n  node: E,\n  name: string,\n  value: unknown,\n  old: unknown,\n  events?: EventNames\n) => {\n  const event = events?.[name];\n  // Dirty check event value.\n  if (event !== undefined) {\n    if (value !== old) {\n      addOrUpdateEventListener(node, event, value as (e?: Event) => void);\n    }\n    return;\n  }\n  // But don't dirty check properties; elements are assumed to do this.\n  node[name as keyof E] = value as E[keyof E];\n\n  // This block is to replicate React's behavior for attributes of native\n  // elements where `undefined` or `null` values result in attributes being\n  // removed.\n  // https://github.com/facebook/react/blob/899cb95f52cc83ab5ca1eb1e268c909d3f0961e7/packages/react-dom-bindings/src/client/DOMPropertyOperations.js#L107-L141\n  //\n  // It's only needed here for native HTMLElement properties that reflect\n  // attributes of the same name but don't have that behavior like \"id\" or\n  // \"draggable\".\n  if (\n    (value === undefined || value === null) &&\n    name in HTMLElement.prototype\n  ) {\n    node.removeAttribute(name);\n  }\n};\n\n/**\n * Creates a React component for a custom element. Properties are distinguished\n * from attributes automatically, and events can be configured so they are added\n * to the custom element as event listeners.\n *\n * @param options An options bag containing the parameters needed to generate a\n * wrapped web component.\n *\n * @param options.react The React module, typically imported from the `react`\n * npm package.\n * @param options.tagName The custom element tag name registered via\n * `customElements.define`.\n * @param options.elementClass The custom element class registered via\n * `customElements.define`.\n * @param options.events An object listing events to which the component can\n * listen. The object keys are the event property names passed in via React\n * props and the object values are the names of the corresponding events\n * generated by the custom element. For example, given `{onactivate:\n * 'activate'}` an event function may be passed via the component's `onactivate`\n * prop and will be called when the custom element fires its `activate` event.\n * @param options.displayName A React component display name, used in debugging\n * messages. Default value is inferred from the name of custom element class\n * registered via `customElements.define`.\n */\nexport const createComponent = <\n  I extends HTMLElement,\n  E extends EventNames = {},\n>({\n  react: React,\n  tagName,\n  elementClass,\n  events,\n  displayName,\n}: Options<I, E>): ReactWebComponent<I, E> => {\n  const eventProps = new Set(Object.keys(events ?? {}));\n\n  if (DEV_MODE && !NODE_MODE) {\n    for (const p of reservedReactProperties) {\n      if (p in elementClass.prototype && !(p in HTMLElement.prototype)) {\n        // Note, this effectively warns only for `ref` since the other\n        // reserved props are on HTMLElement.prototype. To address this\n        // would require crawling down the prototype, which doesn't feel worth\n        // it since implementing these properties on an element is extremely\n        // rare.\n        console.warn(\n          `${tagName} contains property ${p} which is a React reserved ` +\n            `property. It will be used by React and not set on the element.`\n        );\n      }\n    }\n  }\n\n  type Props = ComponentProps<I, E>;\n\n  const ReactComponent = React.forwardRef<I, Props>((props, ref) => {\n    const prevElemPropsRef = React.useRef(new Map());\n    const elementRef = React.useRef<I | null>(null);\n\n    // Props to be passed to React.createElement\n    const reactProps: Record<string, unknown> = {};\n    // Props to be set on element with setProperty\n    const elementProps: Record<string, unknown> = {};\n\n    for (const [k, v] of Object.entries(props)) {\n      if (reservedReactProperties.has(k)) {\n        // React does *not* handle `className` for custom elements so\n        // coerce it to `class` so it's handled correctly.\n        reactProps[k === 'className' ? 'class' : k] = v;\n        continue;\n      }\n\n      if (eventProps.has(k) || k in elementClass.prototype) {\n        elementProps[k] = v;\n        continue;\n      }\n\n      reactProps[k] = v;\n    }\n\n    // useLayoutEffect produces warnings during server rendering.\n    if (!NODE_MODE) {\n      // This one has no dependency array so it'll run on every re-render.\n      React.useLayoutEffect(() => {\n        if (elementRef.current === null) {\n          return;\n        }\n        const newElemProps = new Map();\n        for (const key in elementProps) {\n          setProperty(\n            elementRef.current,\n            key,\n            props[key],\n            prevElemPropsRef.current.get(key),\n            events\n          );\n          prevElemPropsRef.current.delete(key);\n          newElemProps.set(key, props[key]);\n        }\n        // \"Unset\" any props from previous render that no longer exist.\n        // Setting to `undefined` seems like the correct thing to \"unset\"\n        // but currently React will set it as `null`.\n        // See https://github.com/facebook/react/issues/28203\n        for (const [key, value] of prevElemPropsRef.current) {\n          setProperty(elementRef.current, key, undefined, value, events);\n        }\n        prevElemPropsRef.current = newElemProps;\n      });\n\n      // Empty dependency array so this will only run once after first render.\n      React.useLayoutEffect(() => {\n        elementRef.current?.removeAttribute('defer-hydration');\n      }, []);\n    }\n\n    if (NODE_MODE) {\n      // If component is to be server rendered with `@lit/ssr-react`, pass\n      // element properties in a special bag to be set by the server-side\n      // element renderer.\n      if (\n        (React.createElement.name === 'litPatchedCreateElement' ||\n          globalThis.litSsrReactEnabled) &&\n        Object.keys(elementProps).length\n      ) {\n        // This property needs to remain unminified.\n        reactProps['_$litProps$'] = elementProps;\n      }\n    } else {\n      // Suppress hydration warning for server-rendered attributes.\n      // This property needs to remain unminified.\n      reactProps['suppressHydrationWarning'] = true;\n    }\n\n    return React.createElement(tagName, {\n      ...reactProps,\n      ref: React.useCallback(\n        (node: I) => {\n          elementRef.current = node;\n          if (typeof ref === 'function') {\n            ref(node);\n          } else if (ref !== null) {\n            ref.current = node;\n          }\n        },\n        [ref]\n      ),\n    });\n  });\n\n  ReactComponent.displayName = displayName ?? elementClass.name;\n\n  return ReactComponent;\n};\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility method for creating an iterator for Arrays.\n */\n'require base';\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!IArrayLike<T>} array\n * @return {function():!IIterableResult<T>}\n * @template T\n */\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  };\n};\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {!Iterator<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  return /** @type {!Iterator<T>} */ ({next: $jscomp.arrayIteratorImpl(array)});\n};\n\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {reportUnknownTypes}\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.defineProperty() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n *\n * Refuses to define properties on Array.prototype and Object.prototype,\n * since we can't make them non-enumerable and this messes up peoples' for\n * loops.  Beyond this, we simply assign values and not worry\n * about enumerability or writeability.\n *\n * @type {(typeof Object.defineProperty)}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.defineProperty =\n    $jscomp.ASSUME_ES5 || typeof Object.defineProperties == 'function' ?\n    Object.defineProperty :\n    function(target, property, descriptor) {\n      if (target == Array.prototype ||\n          // b/155133192\n          /** @type {?} */ (target) == Object.prototype) {\n        return target;\n      }\n\n      /**\n       * NOTE: This is currently never called with a descriptor outside\n       * the control of the compiler.  If we ever decide to polyfill either\n       * Object.defineProperty or Reflect.defineProperty for ES3, we should\n       * explicitly check for `get` or `set` on the descriptor and throw a\n       * TypeError, since it's impossible to properly polyfill it.\n       */\n      target[property] = descriptor.value;\n      return target;\n    };\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Runtime code to store the global object.\n * @suppress {uselessCode}\n */\n'require base';\n\n/**\n * Locate and return a reference to the global object.\n *\n * NOTE: This method is marked with `noinline`, because `RemoveUnusedCode` has\n * trouble removing the loop it contains if it gets inlined into the global\n * scope.\n * @param {?Object} passedInThis\n * @return {!Global} The global object.\n * @suppress {undefinedVars|reportUnknownTypes}\n * @noinline\n */\n$jscomp.getGlobal = function(passedInThis) {\n  var possibleGlobals = [\n    // Web Audio Worklets do not have any way to refer to their global object\n    // other than `globalThis`.\n    // This use of `globalThis` does not prevent removal of the `globalThis`\n    // polyfill, because the usage is guarded by a typeof check.\n    'object' == typeof globalThis && globalThis,\n    // Rhino (used by older Google Docs Script projects) has no `window` or\n    // `self`, but `this` from the global scope is the global object. Also,\n    // some GWT tests running on Rhino do have a `window` and `self` but, for\n    // unknown reasons, see runtime exceptions when we return `window` instead\n    // of `passedInThis`.\n    // NOTE: If the compiler's output is wrapped in a strict-mode function,\n    // this file's code won't actually be executing in global scope, so this\n    // value will be undefined.\n    passedInThis,\n    // Browser windows always have `window`\n    'object' == typeof window && window,\n    // WebWorkers have `self`\n    'object' == typeof self && self,\n    // NodeJS has `global`\n    'object' == typeof global && global,\n  ];\n  for (var i = 0; i < possibleGlobals.length; ++i) {\n    var maybeGlobal = possibleGlobals[i];\n    // It can happen that an environment has, for example, both `global` and\n    // `window` defined in the global scope, but one of them isn't actually\n    // the global object, so check that it really seems to be the global object.\n    // We use `Math` to check for this because it's only 4 characters long,\n    // exists in all possible JS environments, and doesn't have the problematic\n    // equality behavior of `NaN`.\n    if (maybeGlobal && maybeGlobal['Math'] == Math) {\n      return /** @type {!Global} */ (maybeGlobal);\n    }\n  }\n  // Throw an exception if we cannot find the global object.\n  // We have to be sneaky about it, otherwise the compiler will think this code\n  // has a side effect (throwing an exception) that prevents it from being\n  // removed, even when all usages of `$jscomp.global` get removed.\n  // Casting through unknown is necessary to keep the compiler from rejecting\n  // this code.\n  return /** @type {!Global} */ (\n      /** @type {?} */ ({\n        valueOf: function() {\n          throw new Error('Cannot find global object');\n        }\n      }.valueOf()));\n};\n\n\n/**\n * The global object.\n * @const {!Global}\n */\n$jscomp.global = $jscomp.getGlobal(this);\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {uselessCode}\n */\n'require util/defineproperty';\n'require util/defines';\n'require util/global';\n'require util/shouldpolyfill';\n\n/** @const {!Object<string, ?>} map from classes (Map) to polyfills */\n$jscomp.polyfills = {};\n\n/**\n * Maps a property to an obfuscated look-up string for that property. Only used\n * when `$jscomp.ISOLATE_POLYFILLS is enabled.\n *\n * When compiling with polyfill isolation enabled, to polyfill an\n * `owner.prototype.method` the `$jscomp.polyfill` library function:\n * <ol>\n * <li> creates an obfuscated string for `method`\n * <li> adds the obfuscated string as a new property on the `owner` object\n * <li> assigns the polyfill implementation of `method` to this new obfuscated\n * property on the `owner` object. </li>\n *</ol>\n *\n * This maps the original property name `method` to the new obfuscated property\n * name.\n * @const {!Object<string, string>}\n */\n$jscomp.propertyToPolyfillSymbol = {};\n\n/** @const {string} */\n$jscomp.POLYFILL_PREFIX = '$jscp$';\n\n/**\n * Returns the polyfill function of the given property if present, otherwise\n * returns the actual property.\n *\n * This is a variable instead of a $jscomp.* property to make it simpler for\n * the compiler to avoid prematurely deleting it during optimizations.\n *\n * @param {*} target the receiver for the property access, e.g. `my.str` in\n *     `my.str.includes`\n * @param {string} property the name of the property, e.g. `includes` in\n *     `my.str.includes`\n * @return {?} if an obfuscated symbol for the property was added onto the\n *     target, then this function returns the polyfill for the property.\n *     Otherwise simply looks up the property on the target and returns it as\n *     `target[key]`.\n * @noinline prevent inlining so IsolatePolyfills can find this declaration.\n * @suppress {reportUnknownTypes}\n */\nvar $jscomp$lookupPolyfilledValue = function(target, property) {\n  /** @const */\n  var obfuscatedName = $jscomp.propertyToPolyfillSymbol[property];\n  if (obfuscatedName == null) {\n    return target[property];\n  }\n\n  // NOTE: this will throw if `target` is null or undefined.\n  /** @const */\n  var polyfill = target[obfuscatedName];\n\n  // Checking `polyfill !== undefined` is sufficient because $jscomp.polyfill\n  // never installs nullish polyfills. Otherwise we'd have to check something\n  // like `key in target`.\n  return polyfill !== undefined ? polyfill : target[property];\n};\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n *     e.g. 'Array.prototype.includes' or 'Map'.\n * @param {?function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.  If null is returned, then no polyfill will be added.  A\n *     null argument for this parameter indicates that the function will not be\n *     polyfilled, and is only useful for `build_polyfill_table.js` bookkeeping.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.  The compiler requires that\n *     `languageOut < fromLang` before injecting a polyfill (i.e. if the\n *     specified output language already includes the feature then there's no\n *     need to polyfill it).\n * @param {string} toLang The language level required by the polyfill\n *     implementation.  The compiler will issue an error if a polyfill is\n *     required, but `languageOut < toLang`.  Additionally, the\n *     `build_polyfill_table.js` script audits the polyfill dependency tree to\n *     ensure that no polyfill with a lower `toLang` depends on one with a\n *     higher `toLang`.\n * @noinline\n * NOTE: We prevent inlining so RemoveUnusedPolyfills can always recognize this\n * call.\n */\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  if (!polyfill) return;\n  if ($jscomp.ISOLATE_POLYFILLS) {\n    $jscomp.polyfillIsolated(target, polyfill, fromLang, toLang);\n  } else {\n    $jscomp.polyfillUnisolated(target, polyfill, fromLang, toLang);\n  }\n};\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n * @param {function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.\n * @param {string} toLang The language level required by the polyfill\n *     implementation.\n * @suppress {reportUnknownTypes}\n * @see $jscomp.polyfill for more documentation\n */\n$jscomp.polyfillUnisolated = function(target, polyfill, fromLang, toLang) {\n  var obj = $jscomp.global;\n  var split = target.split('.');\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) return;\n    obj = obj[key];\n  }\n  var property = split[split.length - 1];\n  var orig = obj[property];\n  var impl = polyfill(orig);\n  if (impl == orig || impl == null) return;\n  $jscomp.defineProperty(\n      obj, property, {configurable: true, writable: true, value: impl});\n};\n\n/**\n * Defines a polyfill for the given class or method under an obfuscated name.\n *\n * The main differences between this method and $jscomp.polyfillUnisolated are:\n *  - classes are defined on $jscomp.polyfills, not window.\n *  - methods (Array.prototype.includes) are defined on Array.prototype under\n *    an obfuscated name Array.prototype.$jscp$includes or a Symbol, if native.\n *  - this method installs our polyfill even when an existing implementation is\n *    found, as it might be an untrusted polyfill. The exception is that if\n *    Symbol is detected to be native, we assume any implementations of ES6\n *    classes/methods are also native and not polyfills.\n *\n * @param {string} target Qualified name of the class or method to polyfill,\n * @param {function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.\n * @param {string} toLang The language level required by the polyfill\n *     implementation.\n * @suppress {reportUnknownTypes}\n * @see $jscomp.polyfill for more parameter documentation\n */\n$jscomp.polyfillIsolated = function(target, polyfill, fromLang, toLang) {\n  var split = target.split('.');\n  var isSimpleName = split.length === 1;\n  var root = split[0];\n\n  // Look up the parent object. For classes this is just $jscomp.global.\n  // For methods/properties this may be a polyfill (Promise) or may a native\n  // object (Array.prototype).\n  var ownerObject;\n  if (!isSimpleName && root in $jscomp.polyfills) {\n    // Handle Symbol.asyncIterator and Promise.prototype.finally\n    ownerObject = $jscomp.polyfills;\n  } else {\n    // Handle Promise, Array.of, and String.prototype.startsWith\n    ownerObject = $jscomp.global;\n  }\n\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in ownerObject)) return;\n    ownerObject = ownerObject[key];\n  }\n\n  var property = split[split.length - 1];\n  // If Symbol is native and the target is in the ES6 spec, use the native imp.\n  // We assume the method/class was not polyfilled since polyfills typically\n  // back off in the presence of an existing implementation.\n  var nativeImpl = $jscomp.IS_SYMBOL_NATIVE && fromLang === 'es6' ?\n      ownerObject[property] :\n      null;\n  var impl = polyfill(nativeImpl);\n\n  if (impl == null) {\n    return;\n  }\n\n  if (isSimpleName) {\n    // Note: `impl` may be the actual native class instead of a\n    // polyfill. Add it to $jscomp.polyfills anyway. The IsolatePolyfills pass\n    // unconditionally replaces `Symbol` with `$jscomp.polyfills['Symbol']`.\n\n    // Use $jscomp.polyfills instead of ownerObject. For simple names like\n    // Promise and Symbol, ownerObject is the global object, and we want to\n    // avoid adding new global variables.\n    $jscomp.defineProperty(\n        $jscomp.polyfills, property,\n        {configurable: true, writable: true, value: impl});\n  } else if (impl !== nativeImpl) {\n    // Skip installing an obfuscated property if we have found a native version\n    // of the method we're polyfilling. $jscomp$lookupPolyfilledValue will fall\n    // back to the native version anyway.\n    if ($jscomp.propertyToPolyfillSymbol[property] === undefined) {\n      $jscomp.propertyToPolyfillSymbol[property] = $jscomp.IS_SYMBOL_NATIVE ?\n          // use bracket access to avoid injecting the Symbol polyfill\n          $jscomp.global['Symbol'](property) :\n          $jscomp.POLYFILL_PREFIX + property;\n    }\n\n    /** @const {string} */\n    var obfuscatedName = $jscomp.propertyToPolyfillSymbol[property];\n\n    // Define the polyfilled method on its owner but under an obfuscated\n    // name to avoid collisions. The owner will be a native class like `Promise`\n    // or a native class's prototype like `Array.prototype`.\n    $jscomp.defineProperty(\n        ownerObject, obfuscatedName,\n        {configurable: true, writable: true, value: impl});\n  }\n};\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Symbol polyfill.\n * @suppress {uselessCode}\n */\n\n'require es6/util/arrayiterator';\n'require util/defineproperty';\n'require util/global';\n'require util/polyfill';\n\n/**\n * Initializes the Symbol function.\n * @noinline\n */\n// TODO(rishipal): Remove this function\n$jscomp.initSymbol = function() {};\n\n$jscomp.polyfill('Symbol', function(orig) {\n  if (orig) return orig;  // no polyfill needed\n\n  /**\n   * @struct @constructor\n   * @param {string} id\n   * @param {string=} opt_description\n   */\n  var SymbolClass = function(id, opt_description) {\n    /** @private @const {string} */\n    this.$jscomp$symbol$id_ = id;\n\n    /** @const {string|undefined} */\n    this.description;\n\n    // description is read-only.\n    $jscomp.defineProperty(\n        this, 'description',\n        {configurable: true, writable: true, value: opt_description});\n  };\n\n\n  /** @override */\n  SymbolClass.prototype.toString = function() {\n    return this.$jscomp$symbol$id_;\n  };\n\n\n  /** @const {string} */\n  var SYMBOL_PREFIX = 'jscomp_symbol_';\n\n  var counter = 0;\n\n  /**\n   * Produces \"symbols\" (actually just unique strings).\n   * @param {string=} opt_description\n   * @return {!SymbolClass}\n   * @this {?Object}\n   */\n  var symbolPolyfill = function(opt_description) {\n    if (this instanceof symbolPolyfill) {\n      throw new TypeError('Symbol is not a constructor');\n    }\n    return (new SymbolClass(\n        SYMBOL_PREFIX + (opt_description || '') + '_' + (counter++),\n        opt_description));\n  };\n\n  return symbolPolyfill;\n}, 'es6', 'es3');\n\n$jscomp.polyfill('Symbol.iterator', function(orig) {\n  if (orig) return orig;  // no polyfill needed\n\n  var symbolIterator = Symbol('Symbol.iterator');\n\n  // Polyfill 'Symbol.iterator' onto Array and the various TypedArray* objects.\n  // This array uses strings to index into $jscomp.global because the TypedArray\n  // objects are present in IE11 but not on older browsers. Using bracket access\n  // saves code size compared to `typeof Int8Array === 'function' && Int8Array`.\n  var /** !Array<string> */ arrayLikes = [\n    'Array',\n    // List taken from https://tc39.es/ecma262/#sec-typedarray-objects.\n    // The BigInt*Arrays are intentionally omitted because they are only present\n    // in browsers where Symbol is fully supported.\n    'Int8Array', 'Uint8Array', 'Uint8ClampedArray', 'Int16Array', 'Uint16Array',\n    'Int32Array', 'Uint32Array', 'Float32Array', 'Float64Array'\n  ];\n\n  for (var i = 0; i < arrayLikes.length; i++) {\n    var ArrayLikeCtor = /** @type {*} */ ($jscomp.global[arrayLikes[i]]);\n    if (typeof ArrayLikeCtor === 'function' &&\n        typeof ArrayLikeCtor.prototype[symbolIterator] != 'function') {\n      $jscomp.defineProperty(ArrayLikeCtor.prototype, symbolIterator, {\n        configurable: true,\n        writable: true,\n        /**\n         * @this {IArrayLike}\n         * @return {!IteratorIterable}\n         */\n        value: function() {\n          return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this));\n        }\n      });\n    }\n  }\n  return symbolIterator;\n}, 'es6', 'es3');\n\n$jscomp.polyfill('Symbol.asyncIterator', function(orig) {\n  if (orig) {\n    return orig;\n  }\n  return Symbol('Symbol.asyncIterator');\n}, 'es9', 'es3');\n\n/**\n * Returns an iterator with the given `next` method.  Passing\n * all iterators through this function allows easily extending\n * the definition of `%IteratorPrototype%` if methods are ever\n * added to it in the future.\n *\n * @param {function(this: Iterator<T>): T} next\n * @return {!IteratorIterable<T>}\n * @template T\n */\n$jscomp.iteratorPrototype = function(next) {\n  var iterator = {next: next};\n  /**\n   * @this {IteratorIterable}\n   * @return {!IteratorIterable}\n   */\n  iterator[Symbol.iterator] = function() {\n    return this;\n  };\n  return /** @type {!IteratorIterable} */ (iterator);\n};\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/util/arrayiterator';\n\n/**\n * Creates an iterator for the given iterable.  This iterator should never\n * be exposed to user code.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = typeof Symbol != 'undefined' && Symbol.iterator &&\n      (/** @type {?} */ (iterable)[Symbol.iterator]);\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require es6/util/makeiterator';\n'require es6/util/arrayfromiterator';\n\n\n/**\n * Copies the values from an Iterable into an Array.\n * @param {string|!Array<T>|!Iterable<T>|!Arguments} iterable\n * @return {!Array<T>}\n * @template T\n */\n$jscomp.arrayFromIterable = function(iterable) {\n  if (iterable instanceof Array) {\n    return iterable;\n  } else {\n    return $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n  }\n};\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require base';\n\n\n/**\n * Copies the values from an Iterator into an Array. The important difference\n * between this and $jscomp.arrayFromIterable is that if the iterator's\n * next() method has already been called one or more times, this method returns\n * only the values that haven't been yielded yet.\n * @param {!Iterator<T>} iterator\n * @return {!Array<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.arrayFromIterator = function(iterator) {\n  var i;\n  var arr = [];\n  while (!(i = iterator.next()).done) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n", "/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides a partial internal polyfill for Object.create.\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.create() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n *\n * Does not implement the second argument.\n * @param {!Object} prototype\n * @return {!Object}\n */\n$jscomp.objectCreate =\n    ($jscomp.ASSUME_ES5 || typeof Object.create == 'function') ?\n    Object.create :\n    function(prototype) {\n      /** @constructor */\n      var ctor = function() {};\n      ctor.prototype = prototype;\n      return new ctor();\n    };\n", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * @suppress {uselessCode}\n */\n\n'require util/objectcreate';\n'require util/polyfill';\n'require util/shouldpolyfill';\n\n/**\n * Find or create a method that implements the behavior of `Reflect.construct`.\n *\n * @return {!Function}\n */\n$jscomp.getConstructImplementation = function() {\n  // Check for https://github.com/Microsoft/ChakraCore/issues/3217\n  /** @return {boolean} */\n  function reflectConstructWorks() {\n    /** @constructor */ function Base() {}\n    /** @constructor */ function Derived() {}\n    new Base();\n    Reflect.construct(Base, [], Derived);\n    return new Base() instanceof Base;\n  }\n\n  if ($jscomp.TRUST_ES6_POLYFILLS && typeof Reflect != 'undefined' &&\n      Reflect.construct) {\n    if (reflectConstructWorks()) return Reflect.construct;\n    var brokenConstruct = Reflect.construct;\n    /**\n     * @param {function(new: ?, ...?)} target The constructor to call.\n     * @param {!Array} argList The arguments as a list.\n     * @param {function(new: TARGET, ...?)=} opt_newTarget The constructor to\n     *     instantiate.\n     * @return {TARGET} The result of the function call.\n     * @template TARGET\n     * @suppress {reportUnknownTypes}\n     */\n    var patchedConstruct = function(target, argList, opt_newTarget) {\n      var out = brokenConstruct(target, argList);\n      if (opt_newTarget) Reflect.setPrototypeOf(out, opt_newTarget.prototype);\n      return out;\n    };\n    return patchedConstruct;\n  }\n\n  /**\n   * @param {function(new: ?, ...?)} target The constructor to call.\n   * @param {!Array} argList The arguments as a list.\n   * @param {function(new: TARGET, ...?)=} opt_newTarget The constructor to\n   *     instantiate.\n   * @return {TARGET} The result of the function call.\n   * @template TARGET\n   * @suppress {reportUnknownTypes}\n   */\n  function construct(target, argList, opt_newTarget) {\n    if (opt_newTarget === undefined) opt_newTarget = target;\n    var proto = opt_newTarget.prototype || Object.prototype;\n    var obj = $jscomp.objectCreate(proto);\n    var apply = Function.prototype.apply;\n    var out = apply.call(target, obj, argList);\n    return out || obj;\n  }\n  return construct;\n};\n\n/**\n * Polyfill for Reflect.construct() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/construct\n *\n * The call to `$jscomp.getConstructImplementation()` is wrapped up as an object\n * literal `valueOf()` call in order to hide the (meaningless) side-effects\n * it contains that would otherwise prevent its definition from being removed,\n * even when nothing refers to `$jscomp.construct`.\n * @const\n */\n$jscomp.construct =\n    /** @type {typeof Reflect.construct} */ (\n        {valueOf: $jscomp.getConstructImplementation}.valueOf());\n", "/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * @suppress {uselessCode}\n */\n\n'require util/defines';\n'require util/polyfill';\n'require util/shouldpolyfill';\n\n/**\n * @suppress {missingProperties,reportUnknownTypes}\n * @return {boolean}\n */\n$jscomp.underscoreProtoCanBeSet = function() {\n  var x = {a: true};\n  var y = {};\n  try {\n    y.__proto__ = x;\n    return y.a;\n  } catch (e) {\n    // __proto__ property is readonly (possibly IE 10?)\n  }\n  return false;\n};\n\n/**\n * If we can implement it, this will be a function that attempts to set the\n * prototype of an object, otherwise it will be `null`.\n *\n * It returns the first argument if successful. Throws a `TypeError` if the\n * object is not extensible.\n *\n * @type {null|function(!Object, ?Object): !Object}\n */\n$jscomp.setPrototypeOf = ($jscomp.TRUST_ES6_POLYFILLS &&\n                          typeof Object.setPrototypeOf == 'function') ?\n    Object.setPrototypeOf :\n    $jscomp.underscoreProtoCanBeSet() ? function(target, proto) {\n      target.__proto__ = proto;\n      if (target.__proto__ !== proto) {\n        throw new TypeError(target + ' is not extensible');\n      }\n      return target;\n    } : null;\n", "", "/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for ES6 extends keyword.\n * @suppress {uselessCode}\n */\n'require base';\n'require util/objectcreate';\n'require es6/util/setprototypeof';\n\n\n/**\n * Inherit the prototype methods and static methods from one constructor\n * into another.\n *\n * This wires up the prototype chain (like goog.inherits) and copies static\n * properties, for ES6-to-ES{3,5} transpilation.\n *\n * Usage:\n * <pre>\n *   function ParentClass() {}\n *\n *   // Regular method.\n *   ParentClass.prototype.foo = function(a) {};\n *\n *   // Static method.\n *   ParentClass.bar = function() {};\n *\n *   function ChildClass() {\n *     ParentClass.call(this);\n *   }\n *   $jscomp.inherits(ChildClass, ParentClass);\n *\n *   var child = new ChildClass();\n *   child.foo();\n *   ChildClass.bar();  // Static inheritance.\n * </pre>\n *\n * @param {!Function} childCtor Child class.\n * @param {!Function} parentCtor Parent class.\n * @suppress {strictMissingProperties} 'superClass_' is not defined on Function\n */\n$jscomp.inherits = function(childCtor, parentCtor) {\n  childCtor.prototype = $jscomp.objectCreate(parentCtor.prototype);\n  /** @override */ childCtor.prototype.constructor = childCtor;\n  if ($jscomp.setPrototypeOf) {\n    // avoid null dereference warning\n    /** @const {!Function} */\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    setPrototypeOf(childCtor, parentCtor);\n  } else {\n    // setPrototypeOf is not available so we need to copy the static\n    // methods to the child\n    for (var p in parentCtor) {\n      if (p == 'prototype') {\n        // Don't copy parentCtor.prototype to childCtor.\n        continue;\n      }\n      if (Object.defineProperties) {\n        var descriptor = Object.getOwnPropertyDescriptor(parentCtor, p);\n        if (descriptor) {\n          Object.defineProperty(childCtor, p, descriptor);\n        }\n      } else {\n        // Pre-ES5 browser. Just copy with an assignment.\n        childCtor[p] = parentCtor[p];\n      }\n    }\n  }\n\n  childCtor.superClass_ = parentCtor.prototype;\n};\n", "/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport type {LitElement} from 'lit';\nimport {adoptStyles} from '@lit/reactive-element/css-tag.js';\n\n// Proposed interface changes\ndeclare global {\n  interface ShadowRootInit {\n    customElements?: CustomElementRegistry;\n  }\n  interface ShadowRoot {\n    importNode(node: Node, deep?: boolean): Node;\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype LitElementConstructor = new (...args: any[]) => LitElement;\n\nexport type ElementDefinitionsMap = {\n  [key: string]: typeof HTMLElement;\n};\n\nexport function ScopedRegistryHost<SuperClass extends LitElementConstructor>(\n  superclass: SuperClass\n): SuperClass {\n  return class ScopedRegistryMixin extends superclass {\n    /**\n     * Obtains the scoped elements definitions map\n     */\n    static elementDefinitions?: ElementDefinitionsMap;\n    static registry?: CustomElementRegistry;\n\n    override createRenderRoot() {\n      const constructor = this.constructor as typeof ScopedRegistryMixin &\n        typeof LitElement;\n\n      const {registry, elementDefinitions, shadowRootOptions} = constructor;\n\n      if (elementDefinitions && !registry) {\n        constructor.registry = new CustomElementRegistry();\n\n        Object.entries(elementDefinitions).forEach(([tagName, klass]) =>\n          constructor.registry!.define(tagName, klass)\n        );\n      }\n\n      const renderRoot = (this.renderOptions.creationScope = this.attachShadow({\n        ...shadowRootOptions,\n        customElements: constructor.registry,\n      }));\n\n      adoptStyles(\n        renderRoot,\n        (this.constructor as typeof LitElement).elementStyles!\n      );\n\n      return renderRoot;\n    }\n  };\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\ntype Falsy = null | undefined | false | 0 | -0 | 0n | '';\n\n/**\n * When `condition` is true, returns the result of calling `trueCase()`, else\n * returns the result of calling `falseCase()` if `falseCase` is defined.\n *\n * This is a convenience wrapper around a ternary expression that makes it a\n * little nicer to write an inline conditional without an else.\n *\n * @example\n *\n * ```ts\n * render() {\n *   return html`\n *     ${when(this.user, () => html`User: ${this.user.username}`, () => html`Sign In...`)}\n *   `;\n * }\n * ```\n */\nexport function when<C extends Falsy, T, F = undefined>(\n  condition: C,\n  trueCase: (c: C) => T,\n  falseCase?: (c: C) => F\n): F;\nexport function when<C, T, F>(\n  condition: C extends Falsy ? never : C,\n  trueCase: (c: C) => T,\n  falseCase?: (c: C) => F\n): T;\nexport function when<C, T, F = undefined>(\n  condition: C,\n  trueCase: (c: Exclude<C, Falsy>) => T,\n  falseCase?: (c: Extract<C, Falsy>) => F\n): C extends Falsy ? F : T;\nexport function when(\n  condition: unknown,\n  trueCase: (c: unknown) => unknown,\n  falseCase?: (c: unknown) => unknown\n): unknown {\n  return condition ? trueCase(condition) : falseCase?.(condition);\n}\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nimport {notEqual} from '@lit/reactive-element';\nimport {ReactiveControllerHost} from '@lit/reactive-element/reactive-controller.js';\n\nexport interface TaskFunctionOptions {\n  signal: AbortSignal;\n}\n\nexport type TaskFunction<D extends ReadonlyArray<unknown>, R = unknown> = (\n  args: D,\n  options: TaskFunctionOptions\n) => R | typeof initialState | Promise<R | typeof initialState>;\nexport type ArgsFunction<D extends ReadonlyArray<unknown>> = () => D;\n\n// `DepsFunction` is being maintained for BC with its previous name.\nexport {ArgsFunction as DepsFunction};\n\n/**\n * States for task status\n */\nexport const TaskStatus = {\n  INITIAL: 0,\n  PENDING: 1,\n  COMPLETE: 2,\n  ERROR: 3,\n} as const;\n\n/**\n * A special value that can be returned from task functions to reset the task\n * status to INITIAL.\n */\nexport const initialState = Symbol();\n\nexport type TaskStatus = (typeof TaskStatus)[keyof typeof TaskStatus];\n\nexport type StatusRenderer<R> = {\n  initial?: () => unknown;\n  pending?: () => unknown;\n  complete?: (value: R) => unknown;\n  error?: (error: unknown) => unknown;\n};\n\nexport interface TaskConfig<T extends ReadonlyArray<unknown>, R> {\n  task: TaskFunction<T, R>;\n  args?: ArgsFunction<T>;\n\n  /**\n   * Determines if the task is run automatically when arguments change after a\n   * host update. Default to `true`.\n   *\n   * If `true`, the task checks arguments during the host update (after\n   * `willUpdate()` and before `update()` in Lit) and runs if they change. For\n   * a task to see argument changes they must be done in `willUpdate()` or\n   * earlier. The host element can see task status changes caused by its own\n   * current update.\n   *\n   * If `'afterUpdate'`, the task checks arguments and runs _after_ the host\n   * update. This means that the task can see host changes done in update, such\n   * as rendered DOM. The host element can not see task status changes caused\n   * by its own update, so the task must trigger a second host update to make\n   * those changes renderable.\n   *\n   * Note: `'afterUpdate'` is unlikely to be SSR compatible in the future.\n   *\n   * If `false`, the task is not run automatically, and must be run with the\n   * {@linkcode run} method.\n   */\n  autoRun?: boolean | 'afterUpdate';\n\n  /**\n   * A function that determines if the current arg and previous args arrays are\n   * equal. If the argsEqual function returns true, the task will not auto-run.\n   *\n   * The default is {@linkcode shallowArrayEquals}. {@linkcode deepArrayEquals}\n   * is also available.\n   */\n  argsEqual?: (oldArgs: T, newArgs: T) => boolean;\n\n  /**\n   * If initialValue is provided, the task is initialized to the COMPLETE\n   * status and the value is set to initialData.\n   *\n   * Initial args should be coherent with the initialValue, since they are\n   * assumed to be the args that would produce that value. When autoRun is\n   * `true` the task will not auto-run again until the args change.\n   */\n  initialValue?: R;\n  onComplete?: (value: R) => unknown;\n  onError?: (error: unknown) => unknown;\n}\n\n// TODO(sorvell / justinfagnani): Some issues:\n// 1. With the task triggered in `update`, there is no ReactiveElement\n// change-in-update warning in the common case that the update itself does not change\n// the deps; however, Task's `requestUpdate` call to render pending state  will not\n// trigger another update since the element is updating. This `requestUpdate`\n// could be triggered in updated, but that results a change-in-update warning.\n// 2. There is no good signal for when the task has resolved and rendered other\n// than requestAnimationFrame. The user would need to store a promise for the\n// task and then wait for that and the element to update. (Update just justinfagnani:\n// Why isn't waiting taskComplete and updateComplete sufficient? This comment is\n// from before taskComplete existed!)\n\n/**\n * A controller that performs an asynchronous task (like a fetch) when its\n * host element updates.\n *\n * Task requests an update on the host element when the task starts and\n * completes so that the host can render the task status, value, and error as\n * the task runs.\n *\n * The task function must be supplied and can take a list of arguments. The\n * arguments are given to the Task as a function that returns a list of values,\n * which is run and checked for changes on every host update.\n *\n * The `value` property reports the completed value, and the `error` property\n * an error state if one occurs. The `status` property can be checked for\n * status and is of type `TaskStatus` which has states for initial, pending,\n * complete, and error.\n *\n * The `render` method accepts an object with optional methods corresponding\n * to the task statuses to easily render different templates for each task\n * status.\n *\n * The task is run automatically when its arguments change; however, this can\n * be customized by setting `autoRun` to false and calling `run` explicitly\n * to run the task.\n *\n * For a task to see state changes in the current update pass of the host\n * element, those changes must be made in `willUpdate()`. State changes in\n * `update()` or `updated()` will not be visible to the task until the next\n * update pass.\n *\n * @example\n *\n * ```ts\n * class MyElement extends LitElement {\n *   url = 'example.com/api';\n *   id = 0;\n *\n *   task = new Task(\n *     this,\n *     {\n *       task: async ([url, id]) => {\n *         const response = await fetch(`${this.url}?id=${this.id}`);\n *         if (!response.ok) {\n *           throw new Error(response.statusText);\n *         }\n *         return response.json();\n *       },\n *       args: () => [this.id, this.url],\n *     }\n *   );\n *\n *   render() {\n *     return this.task.render({\n *       pending: () => html`<p>Loading...</p>`,\n *       complete: (value) => html`<p>Result: ${value}</p>`\n *     });\n *   }\n * }\n * ```\n */\nexport class Task<\n  const T extends ReadonlyArray<unknown> = ReadonlyArray<unknown>,\n  const R = unknown,\n> {\n  private _previousArgs?: T;\n  private _task: TaskFunction<T, R>;\n  private _argsFn?: ArgsFunction<T>;\n  private _argsEqual: (oldArgs: T, newArgs: T) => boolean;\n  private _callId = 0;\n  private _host: ReactiveControllerHost;\n  private _value?: R;\n  private _error?: unknown;\n  private _abortController?: AbortController;\n  private _onComplete?: (result: R) => unknown;\n  private _onError?: (error: unknown) => unknown;\n  private _status: TaskStatus = TaskStatus.INITIAL;\n\n  /**\n   * Determines if the task is run automatically when arguments change after a\n   * host update. Default to `true`.\n   *\n   * @see {@link TaskConfig.autoRun} for more information.\n   */\n  autoRun: boolean | 'afterUpdate';\n\n  /**\n   * A Promise that resolve when the current task run is complete.\n   *\n   * If a new task run is started while a previous run is pending, the Promise\n   * is kept and only resolved when the new run is completed.\n   */\n  get taskComplete(): Promise<R> {\n    // If a task run exists, return the cached promise. This is true in the case\n    // where the user has called taskComplete in pending or completed state\n    // before and has not started a new task run since.\n    if (this._taskComplete) {\n      return this._taskComplete;\n    }\n\n    // Generate an in-progress promise if the status is pending and has been\n    // cleared by .run().\n    if (this._status === TaskStatus.PENDING) {\n      this._taskComplete = new Promise((res, rej) => {\n        this._resolveTaskComplete = res;\n        this._rejectTaskComplete = rej;\n      });\n      // If the status is error, return a rejected promise.\n    } else if (this._status === TaskStatus.ERROR) {\n      this._taskComplete = Promise.reject(this._error);\n      // Otherwise we are at a task run's completion or this is the first\n      // request and we are not in the middle of a task (i.e. INITIAL).\n    } else {\n      this._taskComplete = Promise.resolve(this._value!);\n    }\n\n    return this._taskComplete;\n  }\n\n  private _resolveTaskComplete?: (value: R) => void;\n  private _rejectTaskComplete?: (e: unknown) => void;\n  private _taskComplete?: Promise<R>;\n\n  constructor(host: ReactiveControllerHost, task: TaskConfig<T, R>);\n  constructor(\n    host: ReactiveControllerHost,\n    task: TaskFunction<T, R>,\n    args?: ArgsFunction<T>\n  );\n  constructor(\n    host: ReactiveControllerHost,\n    task: TaskFunction<T, R> | TaskConfig<T, R>,\n    args?: ArgsFunction<T>\n  ) {\n    (this._host = host).addController(this);\n    const taskConfig =\n      typeof task === 'object' ? task : ({task, args} as TaskConfig<T, R>);\n    this._task = taskConfig.task;\n    this._argsFn = taskConfig.args;\n    this._argsEqual = taskConfig.argsEqual ?? shallowArrayEquals;\n    this._onComplete = taskConfig.onComplete;\n    this._onError = taskConfig.onError;\n    this.autoRun = taskConfig.autoRun ?? true;\n    // Providing initialValue puts the task in COMPLETE state and stores the\n    // args immediately so it only runs when they change again.\n    if ('initialValue' in taskConfig) {\n      this._value = taskConfig.initialValue;\n      this._status = TaskStatus.COMPLETE;\n      this._previousArgs = this._getArgs?.();\n    }\n  }\n\n  hostUpdate() {\n    if (this.autoRun === true) {\n      this._performTask();\n    }\n  }\n\n  hostUpdated() {\n    if (this.autoRun === 'afterUpdate') {\n      this._performTask();\n    }\n  }\n\n  private _getArgs() {\n    if (this._argsFn === undefined) {\n      return undefined;\n    }\n    const args = this._argsFn();\n    if (!Array.isArray(args)) {\n      throw new Error('The args function must return an array');\n    }\n    return args;\n  }\n\n  /**\n   * Determines if the task should run when it's triggered because of a\n   * host update, and runs the task if it should.\n   *\n   * A task should run when its arguments change from the previous run, based on\n   * the args equality function.\n   *\n   * This method is side-effectful: it stores the new args as the previous args.\n   */\n  private async _performTask() {\n    const args = this._getArgs();\n    const prev = this._previousArgs;\n    this._previousArgs = args;\n    if (\n      args !== prev &&\n      args !== undefined &&\n      (prev === undefined || !this._argsEqual(prev, args))\n    ) {\n      await this.run(args);\n    }\n  }\n\n  /**\n   * Runs a task manually.\n   *\n   * This can be useful for running tasks in response to events as opposed to\n   * automatically running when host element state changes.\n   *\n   * @param args an optional set of arguments to use for this task run. If args\n   *     is not given, the args function is called to get the arguments for\n   *     this run.\n   */\n  async run(args?: T) {\n    args ??= this._getArgs();\n\n    // Remember the args for potential future automatic runs.\n    // TODO (justinfagnani): add test\n    this._previousArgs = args;\n\n    if (this._status === TaskStatus.PENDING) {\n      this._abortController?.abort();\n    } else {\n      // Clear the last complete task run in INITIAL because it may be a resolved\n      // promise. Also clear if COMPLETE or ERROR because the value returned by\n      // awaiting taskComplete may have changed since last run.\n      this._taskComplete = undefined;\n      this._resolveTaskComplete = undefined;\n      this._rejectTaskComplete = undefined;\n    }\n\n    this._status = TaskStatus.PENDING;\n    let result!: R | typeof initialState;\n    let error: unknown;\n\n    // Request an update to report pending state.\n    if (this.autoRun === 'afterUpdate') {\n      // Avoids a change-in-update warning\n      queueMicrotask(() => this._host.requestUpdate());\n    } else {\n      this._host.requestUpdate();\n    }\n\n    const key = ++this._callId;\n    this._abortController = new AbortController();\n    let errored = false;\n    try {\n      result = await this._task(args!, {signal: this._abortController.signal});\n    } catch (e) {\n      errored = true;\n      error = e;\n    }\n    // If this is the most recent task call, process this value.\n    if (this._callId === key) {\n      if (result === initialState) {\n        this._status = TaskStatus.INITIAL;\n      } else {\n        if (errored === false) {\n          try {\n            this._onComplete?.(result as R);\n          } catch {\n            // Ignore user errors from onComplete.\n          }\n          this._status = TaskStatus.COMPLETE;\n          this._resolveTaskComplete?.(result as R);\n        } else {\n          try {\n            this._onError?.(error);\n          } catch {\n            // Ignore user errors from onError.\n          }\n          this._status = TaskStatus.ERROR;\n          this._rejectTaskComplete?.(error);\n        }\n        this._value = result as R;\n        this._error = error;\n      }\n      // Request an update with the final value.\n      this._host.requestUpdate();\n    }\n  }\n\n  /**\n   * Aborts the currently pending task run by aborting the AbortSignal\n   * passed to the task function.\n   *\n   * Aborting a task does nothing if the task is not running: ie, in the\n   * complete, error, or initial states.\n   *\n   * Aborting a task does not automatically cancel the task function. The task\n   * function must be written to accept the AbortSignal and either forward it\n   * to other APIs like `fetch()`, or handle cancellation manually by using\n   * [`signal.throwIfAborted()`]{@link https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/throwIfAborted}\n   * or the\n   * [`abort`]{@link https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/abort_event}\n   * event.\n   *\n   * @param reason The reason for aborting. Passed to\n   *     `AbortController.abort()`.\n   */\n  abort(reason?: unknown) {\n    if (this._status === TaskStatus.PENDING) {\n      this._abortController?.abort(reason);\n    }\n  }\n\n  /**\n   * The result of the previous task run, if it resolved.\n   *\n   * Is `undefined` if the task has not run yet, or if the previous run errored.\n   */\n  get value() {\n    return this._value;\n  }\n\n  /**\n   * The error from the previous task run, if it rejected.\n   *\n   * Is `undefined` if the task has not run yet, or if the previous run\n   * completed successfully.\n   */\n  get error() {\n    return this._error;\n  }\n\n  get status() {\n    return this._status;\n  }\n\n  render<T extends StatusRenderer<R>>(renderer: T) {\n    switch (this._status) {\n      case TaskStatus.INITIAL:\n        return renderer.initial?.() as MaybeReturnType<T['initial']>;\n      case TaskStatus.PENDING:\n        return renderer.pending?.() as MaybeReturnType<T['pending']>;\n      case TaskStatus.COMPLETE:\n        return renderer.complete?.(this.value!) as MaybeReturnType<\n          T['complete']\n        >;\n      case TaskStatus.ERROR:\n        return renderer.error?.(this.error) as MaybeReturnType<T['error']>;\n      default:\n        throw new Error(`Unexpected status: ${this._status}`);\n    }\n  }\n}\n\ntype MaybeReturnType<F> = F extends (...args: never[]) => infer R\n  ? R\n  : undefined;\n\nexport const shallowArrayEquals = <T extends ReadonlyArray<unknown>>(\n  oldArgs: T,\n  newArgs: T\n) =>\n  oldArgs === newArgs ||\n  (oldArgs.length === newArgs.length &&\n    oldArgs.every((v, i) => !notEqual(v, newArgs[i])));\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { ReactiveElement } from 'lit';\nimport { MultiStoreController } from '@nanostores/lit';\nimport type { DAppKit } from '../core/index.js';\n\ntype ValueOf<T> = T[keyof T];\ntype StoreValues = ValueOf<DAppKit['stores']>[];\n\n/**\n * Property decorator that creates a property that can be assigned different dApp Kit instances.\n * When a property in the internal store changes, it will automatically disconnect the old store's\n * controller and create a new one for the new store.\n *\n * Inspired by https://github.com/nanostores/lit/issues/10#issuecomment-2781516844 :)\n */\nexport function storeProperty() {\n\treturn function (target: any, propertyKey: PropertyKey) {\n\t\t// Create unique symbols for storing the controller and value:\n\t\tconst controllerKey = Symbol();\n\t\tconst valueKey = Symbol();\n\n\t\tinterface Target extends ReactiveElement {\n\t\t\t[controllerKey]: MultiStoreController<StoreValues> | undefined;\n\t\t\t[valueKey]: DAppKit | undefined;\n\t\t}\n\n\t\tObject.defineProperty(target, propertyKey, {\n\t\t\tget(this: Target): DAppKit | undefined {\n\t\t\t\treturn this[valueKey];\n\t\t\t},\n\t\t\tset(this: Target, newInstance: DAppKit | undefined) {\n\t\t\t\tconst oldInstance = this[valueKey];\n\t\t\t\tif (oldInstance === newInstance) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis[valueKey] = newInstance;\n\n\t\t\t\tconst existingController = this[controllerKey];\n\t\t\t\tif (existingController) {\n\t\t\t\t\texistingController.hostDisconnected();\n\t\t\t\t\tthis.removeController(existingController);\n\t\t\t\t}\n\n\t\t\t\tconst newController = newInstance\n\t\t\t\t\t? new MultiStoreController(this, Object.values(newInstance.stores))\n\t\t\t\t\t: undefined;\n\t\t\t\tthis[controllerKey] = newController;\n\n\t\t\t\tif (existingController && !newController) {\n\t\t\t\t\t// If the instance is removed, request an update. Otherwise the controller should handle it.\n\t\t\t\t\tthis.requestUpdate(propertyKey, oldInstance);\n\t\t\t\t}\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\n\nexport const resetStyles = css`\n\t* {\n\t\tbox-sizing: border-box;\n\t\t-webkit-font-smoothing: antialiased;\n\t\tfont-family: var(--dapp-kit-font-sans);\n\t\toutline-color: color-mix(in oklab, var(--dapp-kit-ring) 50%, transparent);\n\t}\n\n\tbutton {\n\t\tappearance: none;\n\t\tbackground-color: transparent;\n\t\tfont-size: inherit;\n\t\tfont-family: inherit;\n\t\tline-height: inherit;\n\t\tletter-spacing: inherit;\n\t\tcolor: inherit;\n\t\tborder: 0;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\tp,\n\th1,\n\th2,\n\th3,\n\th4,\n\th5,\n\th6 {\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: var(--dapp-kit-foreground);\n\t\tmargin: 0;\n\t}\n`;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\n\nexport const themeStyles = css`\n\t:host {\n\t\t/** Colors */\n\t\t--dapp-kit-background: var(--background, oklch(1 0 0));\n\t\t--dapp-kit-foreground: var(--foreground, oklch(0.145 0 0));\n\t\t--dapp-kit-primary: var(--primary, oklch(0.216 0.006 56.043));\n\t\t--dapp-kit-primary-foreground: var(--primary-foreground, oklch(0.985 0.001 106.423));\n\t\t--dapp-kit-secondary: var(--secondary, oklch(0.97 0.001 106.424));\n\t\t--dapp-kit-secondary-foreground: var(--secondary-foreground, oklch(0.216 0.006 56.043));\n\t\t--dapp-kit-border: var(--border, oklch(0.922 0 0));\n\t\t--dapp-kit-accent: var(--accent, oklch(0.97 0.001 106.424));\n\t\t--dapp-kit-accent-foreground: var(--accent-foreground, oklch(0.205 0 0));\n\t\t--dapp-kit-muted: var(--muted, oklch(0.97 0.001 106.424));\n\t\t--dapp-kit-muted-foreground: var(--muted-foreground, oklch(0.553 0.013 58.071));\n\t\t--dapp-kit-popover: var(--popover, oklch(1 0 0));\n\t\t--dapp-kit-popover-foreground: var(--popover-foreground, oklch(0.145 0 0));\n\t\t--dapp-kit-destructive: var(--destructive, oklch(0.577 0.245 27.325));\n\t\t--dapp-kit-positive: var(--positive, oklch(0.862 0.127 146.2));\n\t\t--dapp-kit-ring: var(--ring, oklch(0.708 0 0));\n\t\t--dapp-kit-input: var(--input, oklch(0.922 0 0));\n\n\t\t/** Radii */\n\t\t--dapp-kit-radius: var(--radius, 12px);\n\t\t--dapp-kit-radius-xs: calc(var(--dapp-kit-radius) - 4px);\n\t\t--dapp-kit-radius-sm: calc(var(--dapp-kit-radius) - 4px);\n\t\t--dapp-kit-radius-md: calc(var(--dapp-kit-radius) - 2px);\n\t\t--dapp-kit-radius-lg: var(--dapp-kit-radius);\n\t\t--dapp-kit-radius-xl: calc(var(--dapp-kit-radius) + 4px);\n\n\t\t/** Typography */\n\t\t--dapp-kit-font-sans: var(\n\t\t\t--font-sans,\n\t\t\tui-sans-serif,\n\t\t\tsystem-ui,\n\t\t\t-apple-system,\n\t\t\tBlinkMacSystemFont,\n\t\t\t'Segoe UI',\n\t\t\tRoboto,\n\t\t\t'Helvetica Neue',\n\t\t\tArial,\n\t\t\t'Noto Sans',\n\t\t\tsans-serif,\n\t\t\t'Apple Color Emoji',\n\t\t\t'Segoe UI Emoji',\n\t\t\t'Segoe UI Symbol',\n\t\t\t'Noto Color Emoji'\n\t\t);\n\t\t--dapp-kit-font-weight-medium: var(--font-medium, 500);\n\t\t--dapp-kit-font-weight-semibold: var(--font-semibold, 600);\n\t}\n`;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { resetStyles } from './reset.js';\nimport { themeStyles } from './theme.js';\n\nexport const sharedStyles = [themeStyles, resetStyles];\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t.wallet-button {\n\t\t\ttransition-property: background-color;\n\t\t\ttransition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\ttransition-duration: 0.15s;\n\t\t\ttext-decoration: none;\n\t\t\tbackground-color: var(--dapp-kit-secondary);\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 12px;\n\t\t\twidth: 100%;\n\t\t\tpadding: 12px;\n\t\t}\n\n\t\t.wallet-button:hover {\n\t\t\tbackground-color: oklab(from var(--dapp-kit-secondary) calc(l - 0.01) a b);\n\t\t}\n\n\t\timg {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t}\n\n\t\tp {\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t}\n\t`,\n];\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { styles } from './wallet-list-item.styles.js';\n\nexport type WalletSelectedEvent = CustomEvent<{ wallet: UiWallet }>;\n\nexport class WalletListItem extends LitElement {\n\tstatic override styles = styles;\n\n\t@property()\n\twallet!: UiWallet;\n\n\t@property({ type: Boolean, reflect: true })\n\toverride autofocus = false;\n\n\toverride render() {\n\t\treturn html`\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"wallet-button\"\n\t\t\t\t\t@click=${this.#walletClicked}\n\t\t\t\t\t?autofocus=${this.autofocus}\n\t\t\t\t>\n\t\t\t\t\t<img src=${this.wallet.icon} alt=${`${this.wallet.name} logo`} />\n\t\t\t\t\t<p>${this.wallet.name}</p>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t`;\n\t}\n\n\t#walletClicked() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent<WalletSelectedEvent['detail']>('wallet-selected', {\n\t\t\t\tdetail: { wallet: this.wallet },\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\tul {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.no-wallets-container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\t.no-wallets-content {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 32px;\n\t\t}\n\n\t\t.title {\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\ttext-align: center;\n\t\t\tfont-size: 28px;\n\t\t}\n\n\t\t.wallet-cta {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 100%;\n\t\t}\n\t`,\n];\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t.button {\n\t\t\ttransition-property: background-color;\n\t\t\ttransition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\ttransition-duration: 0.15s;\n\t\t\tborder-radius: var(--dapp-kit-radius-md);\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\ttext-decoration: none;\n\t\t\toutline-style: none;\n\t\t\tdisplay: inline-flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tgap: 12px;\n\t\t\tpadding-left: 16px;\n\t\t\tpadding-right: 16px;\n\t\t\tpadding-top: 8px;\n\t\t\tpadding-bottom: 8px;\n\t\t\theight: 40px;\n\t\t}\n\n\t\t.button:focus-visible {\n\t\t\tborder-color: var(--dapp-kit-ring);\n\t\t\tbox-shadow:\n\t\t\t\t0 0 0 3px color-mix(in oklab, var(--dapp-kit-ring) 50%, transparent),\n\t\t\t\trgba(0, 0, 0, 0.05) 0px 1px 2px 0px;\n\t\t}\n\n\t\t.button.primary {\n\t\t\tbackground-color: var(--dapp-kit-primary);\n\t\t\tcolor: var(--dapp-kit-primary-foreground);\n\t\t}\n\n\t\t.button.primary:hover:not(:disabled) {\n\t\t\tbackground-color: color-mix(in oklab, var(--dapp-kit-primary) 90%, transparent);\n\t\t}\n\n\t\t.button.secondary {\n\t\t\tbackground-color: var(--dapp-kit-secondary);\n\t\t\tcolor: var(--dapp-kit-secondary-foreground);\n\t\t}\n\n\t\t.button.secondary:hover:not(:disabled) {\n\t\t\tbackground-color: color-mix(in oklab, var(--dapp-kit-secondary) 80%, transparent);\n\t\t}\n\t`,\n];\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { styles } from './button.styles.js';\n\nexport class Button extends LitElement {\n\tstatic override shadowRootOptions = {\n\t\t...LitElement.shadowRootOptions,\n\t\tdelegatesFocus: true,\n\t};\n\n\tstatic override styles = styles;\n\n\t@property({ type: String })\n\tvariant: 'primary' | 'secondary' = 'primary';\n\n\t@property({ type: String })\n\thref = '';\n\n\t@property({ type: Boolean, reflect: true })\n\tdisabled = false;\n\n\toverride render() {\n\t\treturn this.href\n\t\t\t? html`\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=${this.href}\n\t\t\t\t\t\t?disabled=${this.disabled}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\tclass=${classMap({ button: true, [this.variant]: true })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot part=\"button-content\"></slot>\n\t\t\t\t\t</a>\n\t\t\t\t`\n\t\t\t: html`\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t?disabled=${this.disabled}\n\t\t\t\t\t\tclass=${classMap({ button: true, [this.variant]: true })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot part=\"button-content\"></slot>\n\t\t\t\t\t</button>\n\t\t\t\t`;\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const downloadIcon = html`<svg\n\twidth=\"80\"\n\theight=\"80\"\n\tviewBox=\"0 0 80 80\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\td=\"M0 40C0 17.9086 17.9086 0 40 0C62.0914 0 80 17.9086 80 40C80 62.0914 62.0914 80 40 80C17.9086 80 0 62.0914 0 40Z\"\n\t\tfill=\"currentColor\"\n\t\tfill-opacity=\"0.08\"\n\t/>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M39.6881 28.8311C39.4347 28.9111 39.1675 29.1669 39.0607 29.4318L39.0041 29.572L38.9977 35.5349L38.9914 41.4978L37.8217 40.3324C36.5477 39.063 36.5486 39.0637 36.228 39.0138C35.7909 38.9458 35.3452 39.1858 35.1541 39.592C35.0986 39.7101 35.0921 39.7532 35.0921 40C35.0921 40.4608 34.9004 40.2321 37.3099 42.6471C39.1553 44.4968 39.4299 44.763 39.5579 44.8263C39.8344 44.9632 40.1614 44.9624 40.4441 44.8244C40.5705 44.7626 40.843 44.4987 42.679 42.659C45.0881 40.2451 44.9081 40.4599 44.9081 40C44.9081 39.7458 44.9027 39.7132 44.8403 39.586C44.6384 39.1748 44.2051 38.9438 43.7678 39.0142C43.4501 39.0654 43.4497 39.0657 42.1784 40.3324L41.0087 41.4978L41.0024 35.5349L40.9961 29.572L40.9395 29.4318C40.8294 29.1587 40.5615 28.9075 40.2964 28.8288C40.1444 28.7836 39.8347 28.7848 39.6881 28.8311ZM31.114 46.0981C30.9593 46.1346 30.7812 46.2398 30.647 46.374C30.4216 46.5994 30.3357 46.8708 30.3627 47.272C30.3949 47.7507 30.4603 48.0732 30.6081 48.484C31.0707 49.7693 32.1522 50.7474 33.4841 51.0852C33.9919 51.2141 33.6619 51.2078 39.9943 51.2079C46.331 51.208 46.0036 51.2142 46.5161 51.085C47.8428 50.7503 48.9303 49.7668 49.392 48.484C49.5851 47.9478 49.6896 47.2429 49.6266 46.9026C49.5428 46.4495 49.1756 46.1129 48.7285 46.0791C48.3302 46.0489 47.9715 46.2363 47.7705 46.5793C47.687 46.7218 47.6625 46.8267 47.6335 47.1663C47.5846 47.7384 47.4064 48.16 47.0574 48.5289C46.6981 48.9088 46.2476 49.1338 45.7272 49.1934C45.5791 49.2103 43.6721 49.2161 39.8441 49.2112L34.1801 49.204L33.9966 49.1516C33.5867 49.0347 33.3159 48.8845 33.0317 48.6166C32.6281 48.2363 32.4192 47.7806 32.3667 47.1663C32.3377 46.8267 32.3132 46.7218 32.2297 46.5793C32.1479 46.4397 31.9572 46.2518 31.8327 46.1882C31.6225 46.0807 31.3388 46.0451 31.114 46.0981Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg>`;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const arrowRightUpIcon = html`<svg\n\twidth=\"17\"\n\theight=\"16\"\n\tviewBox=\"0 0 17 16\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M4.19888 1.05645C4.0026 1.08501 3.7911 1.24624 3.706 1.43215C3.62348 1.61237 3.62622 1.84103 3.71297 2.01403C3.79982 2.18722 3.99089 2.3325 4.17827 2.36781C4.23528 2.37855 5.77091 2.38405 8.71417 2.38405H13.1639L7.41745 8.13205C2.23561 13.3153 1.66614 13.8898 1.62155 13.9796C1.48908 14.2462 1.5436 14.5657 1.75579 14.7664C1.95884 14.9584 2.23582 15.003 2.50305 14.8868C2.59953 14.8449 2.8643 14.5828 8.36009 9.0896L14.1161 3.33629V7.78598C14.1161 10.7292 14.1216 12.2649 14.1323 12.3219C14.1819 12.5852 14.4093 12.8046 14.6761 12.8467C15.0449 12.9048 15.3918 12.6521 15.4446 12.2868C15.4668 12.1329 15.465 1.71239 15.4427 1.59173C15.3934 1.32528 15.1749 1.10672 14.9084 1.05746C14.7978 1.03703 4.33916 1.03603 4.19888 1.05645Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg> `;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { WalletListItem } from './wallet-list-item.js';\nimport { styles } from './wallet-list.styles.js';\nimport { Button } from './button.js';\nimport { downloadIcon } from './icons/download-icon.js';\nimport { arrowRightUpIcon } from './icons/arrow-right-up-icon.js';\n\nexport class WalletList extends ScopedRegistryHost(LitElement) {\n\tstatic elementDefinitions = {\n\t\t'wallet-list-item': WalletListItem,\n\t\t'internal-button': Button,\n\t};\n\n\tstatic override styles = styles;\n\n\t@property({ type: Object })\n\twallets: UiWallet[] = [];\n\n\toverride render() {\n\t\treturn this.wallets.length === 0\n\t\t\t? html`<div class=\"no-wallets-container\">\n\t\t\t\t\t<div class=\"no-wallets-content\">\n\t\t\t\t\t\t${downloadIcon}\n\t\t\t\t\t\t<h2 class=\"title\">Install a wallet to get started on Sui</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<internal-button class=\"wallet-cta\" href=\"https://sui.io/get-started\">\n\t\t\t\t\t\tSelect a wallet to install ${arrowRightUpIcon}\n\t\t\t\t\t</internal-button>\n\t\t\t\t</div>`\n\t\t\t: html`<ul class=\"wallet-list\">\n\t\t\t\t\t${this.wallets.map(\n\t\t\t\t\t\t(wallet, index) =>\n\t\t\t\t\t\t\thtml`<wallet-list-item\n\t\t\t\t\t\t\t\t.wallet=${wallet}\n\t\t\t\t\t\t\t\t?autofocus=${index === 0}\n\t\t\t\t\t\t\t></wallet-list-item>`,\n\t\t\t\t\t)}\n\t\t\t\t</ul>`;\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { LitElement } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { promiseWithResolvers } from '@mysten/utils';\n\nexport class BaseModal extends LitElement {\n\t#isOpen = false;\n\t#isOpening = false;\n\t#isConnected = promiseWithResolvers<void>();\n\n\t#returnValue: string | undefined;\n\t#nextClickIsFromContent = false;\n\n\tstatic override shadowRootOptions = {\n\t\t...LitElement.shadowRootOptions,\n\t\tdelegatesFocus: true,\n\t};\n\n\t/**\n\t * Opens the dialog when set to `true` and closes it when set to `false`.\n\t */\n\t@property({ type: Boolean })\n\tget open() {\n\t\treturn this.#isOpen;\n\t}\n\n\tset open(open: boolean) {\n\t\tif (open === this.#isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#isOpen = open;\n\t\tif (this.#isOpen) {\n\t\t\tthis.setAttribute('open', '');\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tthis.removeAttribute('open');\n\t\t\tthis.close();\n\t\t}\n\t}\n\n\t@query('dialog')\n\tprivate readonly _dialog!: HTMLDialogElement;\n\n\t/**\n\t * Opens the dialog and fires a cancelable `open` event. An `opened` event\n\t * is fired after the dialog opens.\n\t *\n\t * @returns A `Promise` that resolves after the `opened` event was fired.\n\t */\n\tasync show() {\n\t\tthis.#isOpening = true;\n\n\t\t// Dialogs can be opened before being attached to the DOM, so we need to\n\t\t// wait until we're connected before calling `showModal()`.\n\t\tawait this.#isConnected.promise;\n\t\tawait this.updateComplete;\n\n\t\t// Check if already opened or if `dialog.close()` was called while awaiting.\n\t\tif (this._dialog.open || !this.#isOpening) {\n\t\t\tthis.#isOpening = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst wasDispatched = this.dispatchEvent(new Event('open', { cancelable: true }));\n\t\tif (!wasDispatched) {\n\t\t\tthis.open = false;\n\t\t\tthis.#isOpening = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._dialog.showModal();\n\t\tthis.open = true;\n\n\t\tthis.dispatchEvent(new Event('opened'));\n\t\tthis.#isOpening = false;\n\t}\n\n\t/**\n\t * Closes the dialog and fires a cancelable `close` event. After a dialog's\n\t * animation, a `closed` event is fired.\n\t *\n\t * @param returnValue A return value usually indicating which button was used\n\t *     to close a dialog. If a dialog is canceled by clicking the backdrop or\n\t *     pressing Escape, it will not change the return value after closing.\n\t * @returns A Promise that resolves after the `closed` event was fired.\n\t */\n\tasync close(returnValue = this.#returnValue) {\n\t\tthis.#isOpening = false;\n\n\t\tif (!this.isConnected) {\n\t\t\t// Disconnected dialogs do not fire close events or animate.\n\t\t\tthis.open = false;\n\t\t\treturn;\n\t\t}\n\n\t\tawait this.updateComplete;\n\n\t\t// Check if already closed or if `dialog.show()` was called while awaiting.\n\t\tif (!this._dialog.open || this.#isOpening) {\n\t\t\tthis.open = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevReturnValue = this.#returnValue;\n\t\tthis.#returnValue = returnValue;\n\n\t\tconst wasDispatched = this.dispatchEvent(new Event('close', { cancelable: true }));\n\t\tif (!wasDispatched) {\n\t\t\tthis.#returnValue = prevReturnValue;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._dialog.close(this.#returnValue);\n\t\tthis.open = false;\n\t\tthis.dispatchEvent(new Event('closed'));\n\t}\n\n\toverride connectedCallback() {\n\t\tsuper.connectedCallback();\n\t\tthis.#isConnected.resolve();\n\t}\n\n\toverride disconnectedCallback() {\n\t\tsuper.disconnectedCallback();\n\t\tthis.#isConnected = Promise.withResolvers<void>();\n\t}\n\n\tprotected handleContentClick() {\n\t\tthis.#nextClickIsFromContent = true;\n\t}\n\n\tprotected handleDialogClick() {\n\t\tif (this.#nextClickIsFromContent) {\n\t\t\t// This trick uses event bubbling to determine whether or not the click originated\n\t\t\t// from the dialog content or dialog backdrop psuedo-element. If you click the dialog\n\t\t\t// content, then `nextClickIsFromContent` will be set to true and we'll early exit.\n\t\t\tthis.#nextClickIsFromContent = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst wasDispatched = this.dispatchEvent(new Event('cancel', { cancelable: true }));\n\t\tif (!wasDispatched) return;\n\n\t\tthis.close();\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const closeIcon = html`<svg\n\twidth=\"16\"\n\theight=\"16\"\n\tviewBox=\"0 0 16 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M2.04841 1.59812C2.00001 1.61375 1.93695 1.63878 1.90828 1.65375C1.83709 1.69091 1.68775 1.84287 1.65047 1.91606C1.54047 2.13201 1.54381 2.37028 1.6597 2.57601C1.68564 2.62206 2.66404 3.61254 4.37417 5.32401L7.04809 8.00001L4.37417 10.676C2.67052 12.381 1.68551 13.3781 1.65959 13.424C1.49234 13.7201 1.56607 14.0843 1.83583 14.2945C2.04141 14.4547 2.34161 14.4734 2.57641 14.3408C2.62228 14.3149 3.61943 13.3299 5.32441 11.6262L8.00041 8.95233L10.6764 11.6262C12.3814 13.3299 13.3785 14.3149 13.4244 14.3408C13.6592 14.4734 13.9594 14.4547 14.165 14.2945C14.4347 14.0843 14.5085 13.7201 14.3412 13.424C14.3153 13.3781 13.3303 12.381 11.6266 10.676L8.95273 8.00001L11.6266 5.32401C13.3303 3.61903 14.3153 2.62188 14.3412 2.57601C14.4738 2.34121 14.4551 2.04102 14.2949 1.83543C14.0847 1.56567 13.7205 1.49195 13.4244 1.65919C13.3785 1.68511 12.3814 2.67012 10.6764 4.37377L8.00041 7.04769L5.32441 4.37377C3.61293 2.66364 2.62245 1.68524 2.57641 1.65931C2.41372 1.56766 2.21439 1.54457 2.04841 1.59812Z\"\n\t/>\n</svg> `;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const backIcon = html`<svg\n\twidth=\"15\"\n\theight=\"16\"\n\tviewBox=\"0 0 15 16\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M6.90786 1.05824C6.70479 1.08877 6.91965 0.871204 3.62561 4.38197C0.943351 7.24072 0.593731 7.6189 0.554431 7.70397C0.501166 7.81932 0.480376 7.96424 0.497641 8.09997C0.525721 8.32084 0.315931 8.08477 3.59808 11.5887C5.25324 13.3557 6.6377 14.8229 6.67466 14.8493C6.76715 14.9153 6.88374 14.9481 7.01883 14.9464C7.19993 14.9441 7.32822 14.8862 7.45368 14.7503C7.6404 14.5479 7.68581 14.2362 7.56597 13.9793C7.53443 13.9117 7.06523 13.403 5.08008 11.2841L2.63307 8.67231L8.31776 8.66796C13.6185 8.66392 14.0073 8.6618 14.0739 8.63648C14.173 8.59888 14.3009 8.50512 14.3625 8.425C14.5276 8.21008 14.553 7.89213 14.4239 7.65714C14.3438 7.51138 14.1733 7.38224 14.013 7.34596C13.9549 7.33282 12.4096 7.32797 8.28312 7.32797H2.63276L5.07993 4.71597C7.0652 2.59698 7.53443 2.08824 7.56597 2.02063C7.68584 1.76365 7.6404 1.452 7.45358 1.24956C7.30854 1.09239 7.1201 1.02632 6.90786 1.05824Z\"\n\t\tfill=\"currentColor\"\n\t/>\n</svg> `;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\ttext-align: center;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 40px;\n\t\t}\n\n\t\t.logo {\n\t\t\twidth: 120px;\n\t\t\theight: 120px;\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t}\n\n\t\t.container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.title {\n\t\t\tfont-size: 24px;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t}\n\n\t\t.copy {\n\t\t\tcolor: var(--dapp-kit-muted-foreground);\n\t\t}\n\n\t\t::slotted(*) {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 100%;\n\t\t}\n\t`,\n];\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { styles } from './connection-status.styles.js';\n\nexport class ConnectionStatus extends LitElement {\n\tstatic override styles = styles;\n\n\t@property({ type: Object })\n\twallet!: UiWallet;\n\n\t@property({ type: String })\n\ttitle = '';\n\n\t@property({ type: String })\n\tcopy = '';\n\n\toverride render() {\n\t\treturn html`\n\t\t\t<img class=\"logo\" src=${this.wallet.icon} alt=${`${this.wallet.name} logo`} />\n\t\t\t<div class=\"container\">\n\t\t\t\t<h3 class=\"title\">${this.title}</h3>\n\t\t\t\t<p class=\"copy\">${this.copy}</p>\n\t\t\t</div>\n\t\t\t<slot name=\"call-to-action\"></slot>\n\t\t`;\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from './styles/index.js';\n\nexport const styles = [\n\tsharedStyles,\n\tcss`\n\t\tdialog {\n\t\t\twidth: 360px;\n\t\t\theight: 480px;\n\t\t\tborder: 1px solid var(--dapp-kit-border);\n\t\t\tpadding: 0;\n\t\t\tbackground: var(--dapp-kit-background);\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t}\n\n\t\t.content {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\theight: 100%;\n\t\t\tgap: 32px;\n\t\t\tpadding: 24px;\n\t\t}\n\n\t\t.connect-header {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tgap: 8px;\n\t\t}\n\n\t\t.title {\n\t\t\tfont-size: 18px;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t.close-button {\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t.cancel-button {\n\t\t\tmargin-top: auto;\n\t\t}\n\t`,\n];\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\n\nexport const iconButtonStyles = css`\n\t.icon-button {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tborder-radius: 50%;\n\t\tbackground: inherit;\n\t\tcolor: var(--dapp-kit-foreground);\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition:\n\t\t\tbackground-color 200ms,\n\t\t\ttransform 100ms;\n\t}\n\n\t.icon-button:hover {\n\t\tbackground-color: var(--dapp-kit-accent);\n\t}\n\n\t.icon-button:active {\n\t\ttransform: scale(0.9);\n\t}\n`;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\nimport { html, nothing } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { storeProperty } from '../utils/lit.js';\nimport { WalletList } from './internal/wallet-list.js';\nimport { BaseModal } from './internal/base-modal.js';\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { closeIcon } from './internal/icons/close-icon.js';\nimport { backIcon } from './internal/icons/back-icon.js';\nimport type { WalletSelectedEvent } from './internal/wallet-list-item.js';\nimport { ConnectionStatus } from './internal/connection-status.js';\nimport {\n\tisWalletStandardError,\n\tWALLET_STANDARD_ERROR__USER__REQUEST_REJECTED,\n} from '@mysten/wallet-standard';\nimport { styles } from './dapp-kit-connect-modal.styles.js';\nimport { Button } from './internal/button.js';\nimport { iconButtonStyles } from './styles/icon-button.js';\nimport type { DefaultExpectedDppKit } from '../types.js';\n\ntype ModalViewState =\n\t| { view: 'wallet-selection' }\n\t| { view: 'connecting'; wallet: UiWallet }\n\t| { view: 'error'; wallet: UiWallet; error: unknown };\n\nexport type DAppKitConnectModalOptions = {\n\tfilterFn?: (value: UiWallet, index: number, array: UiWallet[]) => boolean;\n\tsortFn?: (a: UiWallet, b: UiWallet) => number;\n};\n\n/**\n * A modal component for connecting to a Sui wallet, meant to be opened via a trigger button.\n *\n * Opens a modal to let the user select and connect to a wallet.\n *\n * @element mysten-dapp-kit-connect-modal\n *\n * @fires open - Fired *before* the dialog opens (cancelable).\n * @fires opened - Fired *after* the dialog has fully opened.\n * @fires close - Fired *before* the dialog closes (cancelable).\n * @fires closed - Fired *after* the dialog has fully closed.\n * @fires cancel - Fired when clicking the backdrop or pressing Escape (cancelable).\n *\n * @prop {Boolean} open - Programmatic access to the open state of the dialog.\n * @prop {DAppKitConnectModalOptions['filterFn']} filterFn - Function to filter the list of shown wallets (optional).\n * @prop {DAppKitConnectModalOptions['sortFn']} sortFn - Function to sort the list of available wallets (optional).\n * @prop {RegisteredDAppKit} instance - The dApp Kit instance used for state management.\n *\n * @cssprop --background - Background color of the component. Used as the default background for UI elements.\n * @cssprop --foreground - Foreground color of the component. Used as the default text color.\n * @cssprop --primary - Primary color used for interactive elements such as buttons and links.\n * @cssprop --primary-foreground - Text or icon color placed on top of primary elements.\n * @cssprop --secondary - Secondary color used for less prominent interactive elements.\n * @cssprop --secondary-foreground - Text or icon color placed on top of secondary elements.\n * @cssprop --border - Border color for UI elements.\n * @cssprop --accent - Accent color used for highlights and decorative elements.\n * @cssprop --accent-foreground - Text or icon color placed on top of accent elements.\n * @cssprop --muted - Background color for subtle or muted UI elements (e.g., placeholders, disabled states).\n * @cssprop --muted-foreground - Text or icon color for muted UI elements.\n * @cssprop --popover - Background color for floating elements such as popovers, dropdowns, or tooltips.\n * @cssprop --popover-foreground - Text or icon color inside popover elements.\n * @cssprop --ring - Color used for focus rings (visible focus indicators on interactive elements).\n * @cssprop --radius - Border radius used for UI elements.\n * @cssprop --font-sans - Font family used for text content.\n * @cssprop --font-weight-medium - Medium font weight for text (typically used for buttons and interactive elements).\n * @cssprop --font-weight-semibold - Semibold font weight for text (typically used for headings or emphasized text).\n */\n@customElement('mysten-dapp-kit-connect-modal')\nexport class DAppKitConnectModal\n\textends ScopedRegistryHost(BaseModal)\n\timplements DAppKitConnectModalOptions\n{\n\tstatic override styles = [styles, iconButtonStyles];\n\n\tstatic elementDefinitions = {\n\t\t'wallet-list': WalletList,\n\t\t'internal-button': Button,\n\t\t'connection-status': ConnectionStatus,\n\t};\n\n\t/**\n\t * The dApp Kit instance used for state management.\n\t */\n\t@storeProperty()\n\tinstance!: DefaultExpectedDppKit;\n\n\t@state()\n\tprivate _state: ModalViewState = { view: 'wallet-selection' };\n\n\t/**\n\t * Function to filter the list of shown wallets.\n\t */\n\t@property({ attribute: false })\n\tfilterFn: DAppKitConnectModalOptions['filterFn'];\n\n\t/**\n\t * Function to sort the list of shown wallets.\n\t */\n\t@property({ attribute: false })\n\tsortFn: DAppKitConnectModalOptions['sortFn'];\n\n\t#abortController?: AbortController;\n\n\toverride render() {\n\t\tconst showBackButton = this._state.view === 'connecting' || this._state.view === 'error';\n\t\tconst wallets = this.#getWallets();\n\n\t\treturn html`<dialog @click=${this.handleDialogClick} @close=${this.#resetSelection}>\n\t\t\t<div class=\"content\" @click=${this.handleContentClick}>\n\t\t\t\t<div class=\"connect-header\">\n\t\t\t\t\t${showBackButton\n\t\t\t\t\t\t? html`<button\n\t\t\t\t\t\t\t\tclass=\"icon-button back-button\"\n\t\t\t\t\t\t\t\taria-label=\"Go back\"\n\t\t\t\t\t\t\t\t@click=${this.#resetSelection}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${backIcon}\n\t\t\t\t\t\t\t</button>`\n\t\t\t\t\t\t: nothing}\n\t\t\t\t\t<h2 class=\"title\">${wallets.length > 0 ? 'Connect a wallet' : 'No wallets installed'}</h2>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"icon-button close-button\"\n\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t@click=${() => {\n\t\t\t\t\t\t\t// oxlint-disable @typescript-eslint/no-floating-promises\n\t\t\t\t\t\t\tthis.close('cancel');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t${closeIcon}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t${this.#renderModalView(wallets)}\n\t\t\t</div>\n\t\t</dialog>`;\n\t}\n\n\t#renderModalView(wallets: UiWallet[]) {\n\t\tswitch (this._state.view) {\n\t\t\tcase 'wallet-selection':\n\t\t\t\treturn html`<wallet-list\n\t\t\t\t\t.wallets=${wallets}\n\t\t\t\t\t@wallet-selected=${async (event: WalletSelectedEvent) => {\n\t\t\t\t\t\tthis.#attemptConnect(event.detail.wallet);\n\t\t\t\t\t}}\n\t\t\t\t></wallet-list>`;\n\t\t\tcase 'connecting':\n\t\t\t\treturn html`<connection-status\n\t\t\t\t\t.title=${'Awaiting connection...'}\n\t\t\t\t\t.copy=${`Accept the request from ${this._state.wallet.name} in order to proceed`}\n\t\t\t\t\t.wallet=${this._state.wallet}\n\t\t\t\t>\n\t\t\t\t\t<internal-button\n\t\t\t\t\t\tslot=\"call-to-action\"\n\t\t\t\t\t\t.variant=${'secondary'}\n\t\t\t\t\t\t@click=${this.#resetSelection}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</internal-button>\n\t\t\t\t</connection-status>`;\n\t\t\tcase 'error':\n\t\t\t\tconst { wallet, error } = this._state;\n\t\t\t\tconst wasRequestCancelled = isWalletStandardError(\n\t\t\t\t\terror,\n\t\t\t\t\tWALLET_STANDARD_ERROR__USER__REQUEST_REJECTED,\n\t\t\t\t);\n\n\t\t\t\treturn html`<connection-status\n\t\t\t\t\t.title=${wasRequestCancelled ? 'Request canceled' : 'Connection failed'}\n\t\t\t\t\t.copy=${wasRequestCancelled\n\t\t\t\t\t\t? `You canceled the request`\n\t\t\t\t\t\t: 'Something went wrong. Please try again'}\n\t\t\t\t\t.wallet=${wallet}\n\t\t\t\t>\n\t\t\t\t\t<internal-button\n\t\t\t\t\t\tslot=\"call-to-action\"\n\t\t\t\t\t\t@click=${() => {\n\t\t\t\t\t\t\tthis.#attemptConnect(wallet);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tRetry\n\t\t\t\t\t</internal-button>\n\t\t\t\t</connection-status>`;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Encountered unknown view state: ${this._state}`);\n\t\t}\n\t}\n\n\tasync #attemptConnect(wallet: UiWallet) {\n\t\tlet delayTimeout: ReturnType<typeof setTimeout> | undefined;\n\n\t\ttry {\n\t\t\tconst abortPromise = new Promise((_, reject) => {\n\t\t\t\tthis.#abortController = new AbortController();\n\t\t\t\tthis.#abortController.signal.addEventListener(\n\t\t\t\t\t'abort',\n\t\t\t\t\t() => reject(new DOMException('Aborted', 'AbortError')),\n\t\t\t\t\t{ once: true },\n\t\t\t\t);\n\t\t\t});\n\n\t\t\t// Connection attempts can sometimes be instantaneous when accounts are\n\t\t\t// already authorized or the wallet isn't setup yet, so we'll introduce\n\t\t\t// a tiny delay to prevent the UI flickering on the loading state.\n\t\t\tdelayTimeout = setTimeout(() => {\n\t\t\t\tthis._state = { view: 'connecting', wallet };\n\t\t\t}, 100);\n\n\t\t\tawait Promise.race([abortPromise, this.instance.connectWallet({ wallet })]);\n\t\t\tthis.close('successful-connection');\n\t\t} catch (error) {\n\t\t\tif (error instanceof Error && error.name === 'AbortError') {\n\t\t\t\tthis._state = { view: 'wallet-selection' };\n\t\t\t} else {\n\t\t\t\tthis._state = { view: 'error', wallet, error };\n\t\t\t}\n\t\t} finally {\n\t\t\tclearTimeout(delayTimeout);\n\t\t}\n\t}\n\n\t#resetSelection() {\n\t\tif (this._state.view === 'connecting') {\n\t\t\tthis.#abortController?.abort('cancelled');\n\t\t} else {\n\t\t\tthis._state = { view: 'wallet-selection' };\n\t\t}\n\t}\n\n\t#getWallets() {\n\t\tconst wallets = this.instance.stores.$wallets.get();\n\t\tconst filtered = this.filterFn ? wallets.filter(this.filterFn) : wallets;\n\t\tconst sorted = this.sortFn ? filtered.toSorted(this.sortFn) : filtered;\n\t\treturn sorted;\n\t}\n}\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'mysten-dapp-kit-connect-modal': DAppKitConnectModal;\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const unlinkIcon = html`<svg\n\twidth=\"17\"\n\theight=\"16\"\n\tviewBox=\"0 0 17 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M11.22 0.538749C10.6265 0.598285 10.1912 0.722509 9.66001 0.983949C9.37775 1.12286 9.12319 1.28297 8.87601 1.47704C8.69228 1.62129 6.93319 3.37158 6.85697 3.48597C6.78033 3.60101 6.75383 3.69451 6.75437 3.84801C6.75508 4.04564 6.81122 4.18171 6.94887 4.31936C7.14239 4.51288 7.43207 4.56667 7.68401 4.45585C7.78109 4.41317 7.84866 4.34988 8.70001 3.50432C9.20161 3.00612 9.65881 2.56196 9.71601 2.51731C10.0519 2.25499 10.4706 2.05141 10.892 1.94537C11.2092 1.86557 11.7213 1.84326 12.0514 1.89489C12.9243 2.03139 13.651 2.49584 14.1437 3.23201C14.3077 3.47704 14.4669 3.8423 14.5477 4.15877C14.6587 4.59373 14.6616 5.18297 14.5546 5.60801C14.4471 6.03561 14.2443 6.45003 13.9762 6.79022C13.9268 6.85281 13.489 7.30361 13.0031 7.79201C12.5173 8.28041 12.1015 8.7095 12.0793 8.74557C12.0217 8.83864 11.988 8.96494 11.9882 9.08693C11.9885 9.27032 12.0513 9.42179 12.1808 9.55125C12.3159 9.68635 12.4532 9.74419 12.644 9.74638C12.7905 9.74808 12.9047 9.71592 13.016 9.64171C13.1301 9.56558 14.864 7.82219 15.0147 7.63201C15.502 7.01705 15.8117 6.30936 15.9321 5.53601C15.9672 5.31038 15.9813 4.73297 15.9576 4.48801C15.9054 3.94678 15.7771 3.48822 15.5414 3.00001C15.3126 2.52614 15.0685 2.18312 14.6927 1.80733C13.9789 1.09355 13.1035 0.668781 12.1059 0.552077C11.9206 0.530397 11.3837 0.522333 11.22 0.538749ZM5.2445 1.05827C5.0433 1.08664 4.84421 1.23966 4.75012 1.43825L4.70001 1.54401L4.69549 2.46219C4.69154 3.26985 4.69412 3.39117 4.71692 3.47019C4.76266 3.62872 4.85655 3.75208 5.00476 3.84838C5.20802 3.98045 5.48217 3.98582 5.69402 3.8619C5.77233 3.81611 5.90889 3.67566 5.94727 3.60145C6.01841 3.46387 6.01965 3.44486 6.01983 2.49262C6.02001 1.61425 6.01895 1.58238 5.98692 1.49678C5.87002 1.18435 5.57716 1.01137 5.2445 1.05827ZM2.59673 1.58549C2.4178 1.62057 2.22357 1.77176 2.14122 1.94009C2.08143 2.06232 2.05881 2.21302 2.08055 2.34425C2.11277 2.53877 2.15631 2.60016 2.52401 2.96969C2.81721 3.26435 2.87423 3.31429 2.97162 3.36169C3.07791 3.41342 3.09167 3.41601 3.25962 3.41601C3.4238 3.41601 3.44327 3.41257 3.541 3.36627C3.67756 3.30155 3.80154 3.17757 3.86626 3.04101C3.91257 2.94328 3.91601 2.9238 3.91601 2.75963C3.91601 2.59168 3.91341 2.57792 3.86169 2.47163C3.81428 2.37424 3.76434 2.31721 3.46969 2.02401C3.10991 1.66603 3.04322 1.61725 2.86836 1.58408C2.77031 1.56549 2.69684 1.56587 2.59673 1.58549ZM2.02801 4.21445C1.85482 4.26936 1.69453 4.40416 1.61634 4.56062C1.53162 4.73012 1.5306 4.97821 1.61388 5.14899C1.67375 5.27179 1.8045 5.39857 1.93497 5.46037L2.04401 5.51201L2.96401 5.51667C3.92485 5.52155 3.95385 5.51987 4.09084 5.45173C4.17271 5.41101 4.31301 5.27763 4.36189 5.19403C4.57817 4.82427 4.38473 4.33845 3.97309 4.21753C3.89789 4.19545 3.76553 4.19216 2.98909 4.19309C2.31132 4.19389 2.07636 4.19912 2.02801 4.21445ZM10.4794 5.24865C10.4373 5.25573 10.3545 5.28401 10.2954 5.3115C10.1935 5.35891 10.0767 5.47275 8.02474 7.52475C5.98373 9.56576 5.85868 9.694 5.81218 9.794C5.68556 10.0662 5.73263 10.3648 5.93393 10.5661C6.13521 10.7674 6.4338 10.8145 6.70602 10.6878C6.80602 10.6413 6.93426 10.5163 8.97527 8.47528C11.0163 6.43427 11.1413 6.30603 11.1878 6.20603C11.2829 6.00173 11.2838 5.80633 11.1907 5.61C11.1022 5.42347 10.9104 5.28238 10.6982 5.24763C10.5933 5.23045 10.5875 5.23048 10.4794 5.24865ZM4.25201 6.25709C4.13005 6.27627 4.07709 6.29624 3.98469 6.35787C3.87025 6.43421 2.13679 8.17691 1.98524 8.36801C1.7866 8.61848 1.62597 8.87236 1.48417 9.16001C1.25775 9.61931 1.14644 9.96928 1.0669 10.472C1.03255 10.6891 1.01855 11.2894 1.04242 11.5218C1.13201 12.3938 1.44233 13.1559 1.99106 13.8515C2.11753 14.0118 2.48823 14.3825 2.64853 14.509C3.34417 15.0577 4.10626 15.368 4.9782 15.4576C5.21338 15.4818 5.80996 15.4674 6.03601 15.4322C6.811 15.3113 7.51625 15.0026 8.13201 14.5147C8.32218 14.364 10.0656 12.6301 10.1417 12.516C10.2159 12.4047 10.2481 12.2905 10.2464 12.144C10.2442 11.9532 10.1863 11.8159 10.0512 11.6808C9.92178 11.5513 9.77031 11.4885 9.58692 11.4882C9.46493 11.488 9.33863 11.5217 9.24556 11.5793C9.20949 11.6015 8.78041 12.0173 8.29201 12.5031C7.80361 12.989 7.35281 13.4268 7.29021 13.4762C6.95002 13.7443 6.53561 13.9471 6.10801 14.0547C5.68297 14.1616 5.09372 14.1587 4.65876 14.0477C4.1114 13.9079 3.64604 13.6439 3.25109 13.2489C2.7846 12.7824 2.49877 12.2158 2.39489 11.5514C2.35978 11.3269 2.35981 10.8808 2.39497 10.656C2.47809 10.1242 2.69338 9.62913 3.02385 9.20981C3.07317 9.14721 3.51778 8.68921 4.01186 8.19201C4.85073 7.34785 4.91322 7.28113 4.95589 7.18401C5.06609 6.93325 5.01277 6.6423 4.82162 6.45115C4.66466 6.29419 4.45981 6.2244 4.25201 6.25709ZM13.548 10.5024C13.3666 10.56 13.2147 10.6922 13.1337 10.863C13.0874 10.9607 13.084 10.9802 13.084 11.1444C13.084 11.3106 13.0869 11.3268 13.1354 11.4252C13.2206 11.5981 13.3733 11.7304 13.5493 11.7838C13.6613 11.8178 14.8548 11.819 14.9659 11.7852C15.1861 11.7184 15.3611 11.5473 15.4232 11.3381C15.455 11.2312 15.4542 11.0513 15.4215 10.9388C15.3698 10.7611 15.1977 10.5858 15.0032 10.5131C14.919 10.4816 14.8842 10.4801 14.2634 10.4811C13.7842 10.4819 13.5951 10.4875 13.548 10.5024ZM11.4431 12.5983C11.2533 12.6712 11.1165 12.7929 11.0377 12.959L10.988 13.064L10.9834 13.7377C10.9789 14.3897 10.9798 14.4143 11.0124 14.5015C11.0858 14.6977 11.2604 14.8696 11.4388 14.9215C11.8061 15.0283 12.1748 14.8298 12.2852 14.4659C12.319 14.3548 12.3177 13.1613 12.2838 13.0494C12.2305 12.8735 12.0981 12.7206 11.9257 12.6357C11.8326 12.5899 11.8052 12.5842 11.6609 12.5806C11.5544 12.5779 11.4808 12.5839 11.4431 12.5983ZM13.5391 12.5983C13.3493 12.6712 13.2125 12.7929 13.1337 12.959C13.0874 13.0567 13.084 13.0762 13.084 13.2404C13.084 13.4083 13.0866 13.4221 13.1383 13.5284C13.1857 13.6258 13.2357 13.6828 13.5303 13.976C13.9023 14.3462 13.9559 14.3839 14.1582 14.4172C14.3748 14.453 14.5719 14.3886 14.7303 14.2303C14.8886 14.0719 14.953 13.8748 14.9172 13.6582C14.8838 13.4559 14.8462 13.4023 14.476 13.0303C14.1833 12.7362 14.1257 12.6857 14.0289 12.6386C13.9283 12.5896 13.9028 12.5842 13.7569 12.5806C13.6504 12.5779 13.5768 12.5839 13.5391 12.5983Z\"\n\t/>\n</svg>`;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { css } from 'lit';\nimport { sharedStyles } from '../styles/index.js';\nimport { iconButtonStyles } from '../styles/icon-button.js';\n\nexport const styles = [\n\tsharedStyles,\n\ticonButtonStyles,\n\tcss`\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t\twidth: fit-content;\n\t\t}\n\n\t\t.menu {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t[aria-expanded='true'] + .menu {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmax-width: fit-content;\n\t\t\tmin-width: 396px;\n\t\t\tgap: 16px;\n\t\t\tpadding: 16px;\n\t\t\tposition: absolute;\n\t\t\toutline: none;\n\t\t\tbackground-color: var(--dapp-kit-popover);\n\t\t\tcolor: var(--dapp-kit-popover-foreground);\n\t\t\tborder-radius: var(--dapp-kit-radius-lg);\n\t\t\tborder: 1px solid var(--dapp-kit-border);\n\t\t\tbox-shadow:\n\t\t\t\t0 4px 6px -1px rgba(0, 0, 0, 0.1),\n\t\t\t\t0 2px 4px -2px rgba(0, 0, 0, 0.1);\n\t\t}\n\n\t\t.header-container {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t}\n\n\t\t.header-title {\n\t\t\tfont-size: 18px;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\tletter-spacing: -0.18px;\n\t\t}\n\n\t\timg {\n\t\t\twidth: 24px;\n\t\t\theight: 24px;\n\t\t\tborder-radius: 96px;\n\t\t}\n\n\t\t[aria-expanded='true'] .chevron {\n\t\t\ttransition: transform 0.3s ease;\n\t\t\ttransform: rotate(180deg);\n\t\t}\n\n\t\t.chevron {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.chevron svg {\n\t\t\twidth: 12px;\n\t\t\theight: 12px;\n\t\t}\n\n\t\t.trigger-content {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.accounts-list {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 12px;\n\t\t\tmax-height: 240px;\n\t\t\toverflow-y: auto;\n\t\t}\n\n\t\t.disconnect-button {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.8);\n\t\t\tdisplay: inline-flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\twidth: 100%;\n\t\t\tbackground-color: var(--dapp-kit-secondary);\n\t\t\tcolor: var(--dapp-kit-destructive);\n\t\t\tborder-radius: var(--dapp-kit-radius-md);\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t\theight: 48px;\n\t\t\tpadding: 16px;\n\t\t\tgap: 8px;\n\t\t}\n\n\t\t.disconnect-button:hover {\n\t\t\tbackground-color: color-mix(in oklab, var(--dapp-kit-secondary) 80%, transparent);\n\t\t}\n\n\t\t.container {\n\t\t\tpadding-top: 12px;\n\t\t\tpadding-bottom: 12px;\n\t\t\tpadding-left: 16px;\n\t\t\tpadding-right: 16px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tgap: 8px;\n\t\t\twidth: 100%;\n\t\t\tborder-radius: var(--dapp-kit-radius-sm);\n\t\t}\n\n\t\t.container[data-checked='true'] {\n\t\t\tbackground-color: var(--dapp-kit-accent);\n\t\t}\n\n\t\t.account-title {\n\t\t\tfont-weight: var(--dapp-kit-font-weight-semibold);\n\t\t}\n\n\t\t.account-subtitle {\n\t\t\tcolor: var(--dapp-kit-muted-foreground);\n\t\t\tfont-weight: var(--dapp-kit-font-weight-medium);\n\t\t\tfont-size: 14px;\n\t\t}\n\n\t\t.account-info {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 4px;\n\t\t}\n\n\t\t.content {\n\t\t\tdisplay: flex;\n\t\t\tflex-grow: 1;\n\t\t\tgap: 12px;\n\t\t}\n\n\t\t.copy-address-button {\n\t\t\tdisplay: inline-flex;\n\t\t}\n\n\t\t.copy-address-button svg {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t}\n\n\t\t.radio-indicator {\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\tborder-radius: 100%;\n\t\t\tbackground-color: var(--dapp-kit-input);\n\t\t\tborder: 1px solid var(--dapp-kit-border);\n\t\t\tdisplay: inline-flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t.content:focus-visible .radio-indicator {\n\t\t\tborder-color: var(--dapp-kit-ring);\n\t\t\tbox-shadow: 0 0 0 3px var(--dapp-kit-ring) / 0.5;\n\t\t\toutline: none;\n\t\t}\n\n\t\t[data-checked='true'] .radio-indicator {\n\t\t\tcolor: var(--dapp-kit-positive);\n\t\t\tborder-color: var(--dapp-kit-positive);\n\t\t}\n\n\t\t.radio-input {\n\t\t\tappearance: none;\n\t\t\t-webkit-appearance: none;\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\tmargin: 0;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: var(--dapp-kit-input);\n\t\t\tborder: 1px solid var(--dapp-kit-input);\n\t\t\tcursor: pointer;\n\t\t\tposition: relative;\n\t\t\toutline: none;\n\t\t\ttransition: box-shadow 0.2s;\n\t\t}\n\n\t\t.radio-input::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\twidth: 8px;\n\t\t\theight: 8px;\n\t\t\tbackground-color: var(--dapp-kit-positive);\n\t\t\tborder-radius: 100%;\n\t\t\ttransform: translate(-50%, -50%) scale(0);\n\t\t\ttransition: transform 0.2s ease;\n\t\t}\n\n\t\t.radio-input:checked {\n\t\t\tbackground-color: transparent;\n\t\t\tborder-color: var(--dapp-kit-positive);\n\t\t}\n\n\t\t.radio-input:checked::before {\n\t\t\ttransform: translate(-50%, -50%) scale(1);\n\t\t}\n\n\t\t.radio-input:focus-visible {\n\t\t\tborder-color: var(--dapp-kit-ring);\n\t\t\tbox-shadow: 0 0 0 3px var(--dapp-kit-ring);\n\t\t}\n\t`,\n];\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const copyIcon = html`<svg\n\twidth=\"16\"\n\theight=\"16\"\n\tviewBox=\"0 0 16 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M2.57602 1.05841C1.96473 1.12213 1.42869 1.52667 1.18005 2.11198C1.1061 2.28603 1.0777 2.39982 1.05682 2.60568C1.03369 2.83379 1.03361 9.476 1.05673 9.71992C1.12471 10.4367 1.60071 11.0082 2.31202 11.227L2.45602 11.2713L3.58402 11.2796L4.71202 11.288L4.72098 12.416C4.7307 13.6405 4.7262 13.5765 4.82061 13.8331C4.95698 14.2037 5.26674 14.5566 5.62014 14.7439C5.85567 14.8688 6.02999 14.9204 6.29721 14.9443C6.5825 14.9699 13.4137 14.9564 13.544 14.9301C14.2457 14.7881 14.7885 14.2454 14.9301 13.544C14.9564 13.4135 14.9699 6.582 14.9444 6.29717C14.9204 6.02992 14.8688 5.8556 14.744 5.62009C14.5566 5.2667 14.2038 4.95694 13.8332 4.82057C13.5766 4.72616 13.6405 4.73065 12.416 4.72094L11.288 4.71198L11.2797 3.58398L11.2713 2.45598L11.227 2.31198C11.1329 2.00597 10.9791 1.74963 10.7655 1.54273C10.4634 1.25013 10.1311 1.09568 9.71996 1.05669C9.50114 1.03595 2.77607 1.03757 2.57602 1.05841ZM2.64002 2.40489C2.56149 2.42965 2.42756 2.56833 2.40348 2.64984C2.38845 2.70067 2.3841 3.50549 2.38437 6.17784C2.38473 9.62633 2.38485 9.64027 2.41732 9.71198C2.45749 9.80075 2.51625 9.86424 2.60002 9.90945C2.66343 9.94366 2.67351 9.94403 3.69159 9.94843L4.71916 9.95288L4.72359 8.03643L4.72802 6.11998L4.77265 5.97758C4.96105 5.37641 5.37855 4.9584 5.97602 4.77273L6.12002 4.72798L8.03647 4.72355L9.95292 4.71912L9.94847 3.69155C9.94407 2.67347 9.9437 2.66339 9.9095 2.59998C9.86428 2.51621 9.80079 2.45745 9.71202 2.41728C9.64026 2.3848 9.62818 2.38469 6.16802 2.38597C3.68466 2.38688 2.68007 2.39227 2.64002 2.40489ZM6.33593 6.06286C6.22594 6.09651 6.14185 6.16683 6.08585 6.27198C6.05701 6.32613 6.05602 6.44379 6.05602 9.83198V13.336L6.09108 13.4015C6.1358 13.4851 6.21761 13.5568 6.30634 13.5904C6.37039 13.6146 6.65799 13.6164 9.86402 13.6124C13.1284 13.6083 13.3553 13.6062 13.4023 13.5804C13.4667 13.5452 13.5453 13.4666 13.5805 13.4023C13.6063 13.3552 13.6083 13.1283 13.6124 9.86398C13.6164 6.65795 13.6146 6.37035 13.5904 6.3063C13.5569 6.21757 13.4851 6.13576 13.4015 6.09104L13.336 6.05598L9.85602 6.05328C7.94202 6.05181 6.35798 6.05611 6.33593 6.06286Z\"\n\t/>\n</svg> `;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { normalizeSuiNSName } from '@mysten/sui/utils';\nimport type { DAppKitCompatibleClient } from '../core/types.js';\n\nconst cache = new Map<string, string | null>();\n\nexport async function resolveNameServiceName(client: DAppKitCompatibleClient, address: string) {\n\tif (cache.has(address)) {\n\t\treturn cache.get(address)!;\n\t}\n\n\ttry {\n\t\tconst result = await client.core.defaultNameServiceName?.({\n\t\t\taddress,\n\t\t});\n\n\t\tconst name = result?.data.name;\n\t\tcache.set(address, name ? normalizeSuiNSName(name, 'at') : null);\n\t\treturn name;\n\t} catch {\n\t\tcache.set(address, null);\n\t\treturn null;\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const circleCheckIcon = html`<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\twidth=\"24\"\n\theight=\"24\"\n\tviewBox=\"0 0 24 24\"\n\tfill=\"none\"\n\tstroke=\"var(--dapp-kit-positive)\"\n\tstroke-width=\"2\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n>\n\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t<path d=\"m9 12 2 2 4-4\" />\n</svg> `;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { when } from 'lit/directives/when.js';\nimport { html, LitElement } from 'lit';\nimport { formatAddress } from '@mysten/sui/utils';\nimport { property, state } from 'lit/decorators.js';\nimport type { UiWalletAccount } from '@wallet-standard/ui';\nimport { copyIcon } from './icons/copy-icon.js';\nimport { Task } from '@lit/task';\nimport type { DAppKitCompatibleClient } from '../../core/types.js';\nimport { resolveNameServiceName } from '../../utils/name.js';\nimport { circleCheckIcon } from './icons/circle-check-icon.js';\n\nexport type AccountSelectedEvent = CustomEvent<{ account: UiWalletAccount }>;\n\nexport class AccountMenuItem extends LitElement {\n\toverride createRenderRoot() {\n\t\treturn this;\n\t}\n\n\t@property({ type: Object })\n\taccount!: UiWalletAccount;\n\n\t@property({ type: Object })\n\tclient!: DAppKitCompatibleClient;\n\n\t@property({ type: Boolean })\n\tselected = false;\n\n\t@state()\n\tprivate _wasCopySuccessful = false;\n\n\t#resolveNameTask = new Task(this, {\n\t\targs: () => [this.client, this.account.address],\n\t\ttask: async ([client, address]) => resolveNameServiceName(client, address),\n\t});\n\n\toverride connectedCallback() {\n\t\tsuper.connectedCallback();\n\t\tthis.addEventListener('click', this.#accountSelected);\n\t}\n\n\toverride disconnectedCallback() {\n\t\tsuper.disconnectedCallback();\n\t\tthis.removeEventListener('click', this.#accountSelected);\n\t}\n\n\toverride render() {\n\t\treturn html`\n\t\t\t<div class=\"container\" data-checked=${this.selected}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"wallet-address\"\n\t\t\t\t\ttabindex=\"${this.selected ? '0' : '-1'}\"\n\t\t\t\t\tvalue=${this.account.address}\n\t\t\t\t\t?checked=${this.selected}\n\t\t\t\t\t@change=${this.#accountSelected}\n\t\t\t\t\tclass=\"radio-input\"\n\t\t\t\t\tid=${this.account.address}\n\t\t\t\t/>\n\t\t\t\t<label class=\"content\" for=${this.account.address}>\n\t\t\t\t\t${when(this.account.icon, (icon) => html`<img src=${icon} alt=\"\" />`)}\n\t\t\t\t\t${this.#resolveNameTask.render({\n\t\t\t\t\t\tpending: this.#renderAccountInfo,\n\t\t\t\t\t\tcomplete: this.#renderAccountInfo,\n\t\t\t\t\t\terror: () => this.#renderAccountInfo(),\n\t\t\t\t\t})}\n\t\t\t\t</label>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"copy-address-button\"\n\t\t\t\t\t@click=${this.#copyAddressToClipboard}\n\t\t\t\t\taria-label=\"Copy address\"\n\t\t\t\t>\n\t\t\t\t\t${this._wasCopySuccessful ? circleCheckIcon : copyIcon}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tasync #copyAddressToClipboard(event: Event) {\n\t\tevent.stopPropagation();\n\n\t\ttry {\n\t\t\tawait navigator.clipboard.writeText(this.account.address);\n\t\t\tthis._wasCopySuccessful = true;\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._wasCopySuccessful = false;\n\t\t\t}, 2000);\n\t\t} catch {\n\t\t\t// Do nothing here\n\t\t}\n\t}\n\n\t#renderAccountInfo = (name?: string | null) => {\n\t\tconst { address, label } = this.account;\n\t\tconst formattedAddress = formatAddress(address);\n\t\tconst title = name || label;\n\n\t\treturn html`<div class=\"account-info\">\n\t\t\t<div class=\"account-title\">${title || formattedAddress}</div>\n\t\t\t${when(title, () => html`<div class=\"account-subtitle\">${formattedAddress}</div>`)}\n\t\t</div>`;\n\t};\n\n\t#accountSelected() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent<AccountSelectedEvent['detail']>('account-selected', {\n\t\t\t\tdetail: { account: this.account },\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const chevronDownIcon = html`<svg\n\twidth=\"12\"\n\theight=\"12\"\n\tviewBox=\"0 0 12 12\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M0.749783 3.16083C0.616367 3.20313 0.499715 3.30493 0.439031 3.432C0.404351 3.50463 0.401783 3.5191 0.401783 3.642C0.401783 3.8842 0.122795 3.58063 2.91474 6.3763C4.25842 7.72175 5.39718 8.85432 5.44534 8.8931C5.61112 9.02664 5.77771 9.084 5.99978 9.084C6.22186 9.084 6.38845 9.02664 6.55423 8.8931C6.60239 8.85432 7.74115 7.72175 9.08483 6.3763C11.8768 3.58063 11.5978 3.8842 11.5978 3.642C11.5978 3.5191 11.5952 3.50463 11.5605 3.432C11.512 3.33045 11.4169 3.23542 11.3163 3.18797C11.2247 3.14475 11.0777 3.13074 10.9826 3.15618C10.8399 3.19439 10.9127 3.12454 8.39678 5.63854L5.99978 8.03374L3.60278 5.6387C1.98712 4.02436 1.18712 3.23308 1.14854 3.21119C1.11707 3.19332 1.06577 3.17095 1.03454 3.16149C0.965327 3.14049 0.815051 3.14014 0.749783 3.16083Z\"\n\t/>\n</svg>`;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html } from 'lit';\n\nexport const plusIcon = html`<svg\n\twidth=\"16\"\n\theight=\"16\"\n\tviewBox=\"0 0 16 16\"\n\tfill=\"currentColor\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\tclip-rule=\"evenodd\"\n\t\td=\"M7.89082 1.05657C7.62439 1.0948 7.38895 1.33323 7.34347 1.61086C7.33421 1.66737 7.32818 2.80358 7.32813 4.49999L7.32803 7.296H4.4625C1.27722 7.296 1.51488 7.28764 1.34404 7.40553C1.22967 7.48444 1.11213 7.63921 1.07837 7.75534C1.04733 7.86214 1.04613 8.06073 1.07597 8.15199C1.1289 8.3138 1.2622 8.47769 1.39693 8.54657C1.55365 8.62668 1.43055 8.6236 4.47604 8.6238L7.32803 8.62399L7.32813 11.46C7.32818 13.2384 7.33408 14.3318 7.34392 14.392C7.38999 14.6737 7.62421 14.9044 7.90416 14.944C8.26109 14.9945 8.59807 14.7471 8.65615 14.392C8.66599 14.3318 8.67189 13.2384 8.67194 11.46L8.67203 8.62399L11.524 8.6238C14.5695 8.6236 14.4464 8.62668 14.6031 8.54657C14.7379 8.47769 14.8712 8.3138 14.9241 8.15199C14.9539 8.06073 14.9527 7.86214 14.9217 7.75534C14.8879 7.63921 14.7704 7.48444 14.656 7.40553C14.4852 7.28764 14.7229 7.296 11.5376 7.296H8.67203L8.67194 4.49999C8.67189 2.80358 8.66586 1.66737 8.65659 1.61086C8.6172 1.37032 8.44339 1.16228 8.21551 1.08292C8.12912 1.05284 7.99355 1.04184 7.89082 1.05657Z\"\n\t/>\n</svg>`;\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\n\nimport { html, LitElement } from 'lit';\nimport { Button } from './button.js';\nimport { formatAddress } from '@mysten/sui/utils';\nimport { property, query, state } from 'lit/decorators.js';\nimport { unlinkIcon } from './icons/unlink-icon.js';\nimport { styles } from './connected-account-menu.styles.js';\nimport type { DAppKitCompatibleClient } from '../../core/types.js';\nimport { autoPlacement, autoUpdate, computePosition, flip, offset, shift } from '@floating-ui/dom';\nimport { AccountMenuItem } from './connected-account-menu-item.js';\nimport { chevronDownIcon } from './icons/chevron-down-icon.js';\nimport type { WalletConnection } from '../../core/store.js';\nimport { plusIcon } from './icons/plus-icon.js';\nimport { SLUSH_WALLET_NAME } from '@mysten/slush-wallet';\nimport { when } from 'lit/directives/when.js';\nimport { Task } from '@lit/task';\nimport { resolveNameServiceName } from '../../utils/name.js';\n\nexport class ConnectedAccountMenu extends ScopedRegistryHost(LitElement) {\n\tstatic elementDefinitions = {\n\t\t'internal-button': Button,\n\t\t'account-menu-item': AccountMenuItem,\n\t};\n\n\tstatic override styles = styles;\n\n\t@property({ type: Object })\n\tconnection!: Extract<WalletConnection, { status: 'connected' }>;\n\n\t@property({ type: Object })\n\tclient!: DAppKitCompatibleClient;\n\n\t@query('#menu-button')\n\tprivate _trigger!: HTMLElement;\n\n\t@query('#menu')\n\tprivate _menu!: HTMLElement;\n\n\t@state()\n\tprivate _open = false;\n\n\t#unsubscribeFromAutoUpdate?: () => void;\n\n\t#resolveNameTask = new Task(this, {\n\t\targs: () => [this.client, this.connection.account.address],\n\t\ttask: async ([client, address]) => resolveNameServiceName(client, address),\n\t});\n\n\toverride connectedCallback() {\n\t\tsuper.connectedCallback();\n\t\tdocument.addEventListener('click', this.#onDocumentClick);\n\t}\n\n\toverride disconnectedCallback() {\n\t\tsuper.disconnectedCallback();\n\t\tthis.#stopPositioning();\n\t\tdocument.removeEventListener('click', this.#onDocumentClick);\n\t}\n\n\toverride render() {\n\t\treturn html`<internal-button\n\t\t\t\tid=\"menu-button\"\n\t\t\t\taria-haspopup=\"true\"\n\t\t\t\taria-controls=\"menu\"\n\t\t\t\taria-expanded=\"${this._open}\"\n\t\t\t\t@click=${this.#toggleMenu}\n\t\t\t>\n\t\t\t\t<div class=\"trigger-content\">\n\t\t\t\t\t<img src=${this.connection.account.icon ?? this.connection.wallet.icon} alt=\"\" />\n\t\t\t\t\t${this.#resolveNameTask.render({\n\t\t\t\t\t\tpending: this.#getAccountTitle,\n\t\t\t\t\t\tcomplete: this.#getAccountTitle,\n\t\t\t\t\t\terror: () => this.#getAccountTitle,\n\t\t\t\t\t})}\n\t\t\t\t\t<div class=\"chevron\">${chevronDownIcon}</div>\n\t\t\t\t</div>\n\t\t\t</internal-button>\n\t\t\t<div class=\"menu\" id=\"menu\" tabindex=\"-1\" aria-labelledby=\"menu-button\">\n\t\t\t\t<div class=\"header-container\">\n\t\t\t\t\t<h2 class=\"header-title\">Connected accounts</h2>\n\t\t\t\t\t${when(\n\t\t\t\t\t\t// NOTE: No compatible wallets conform with the standard\n\t\t\t\t\t\t// in a way to allow selecting other accounts besides Slush\n\t\t\t\t\t\t// so we'll just hardcode this for now.\n\t\t\t\t\t\tthis.connection.wallet.name.startsWith(SLUSH_WALLET_NAME),\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\thtml`<button\n\t\t\t\t\t\t\t\tclass=\"icon-button\"\n\t\t\t\t\t\t\t\taria-label=\"Add more accounts\"\n\t\t\t\t\t\t\t\t@click=${this.#onManageConnectionClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${plusIcon}\n\t\t\t\t\t\t\t</button>`,\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"accounts-container\" role=\"radiogroup\">\n\t\t\t\t\t<ul class=\"accounts-list\">\n\t\t\t\t\t\t${this.connection.wallet.accounts.map(\n\t\t\t\t\t\t\t(account) => html`\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<account-menu-item\n\t\t\t\t\t\t\t\t\t\t.account=${account}\n\t\t\t\t\t\t\t\t\t\t.client=${this.client}\n\t\t\t\t\t\t\t\t\t\t.selected=${account.address === this.connection.account.address}\n\t\t\t\t\t\t\t\t\t></account-menu-item>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<button class=\"disconnect-button\" @click=${this.#onDisconnectClick}>\n\t\t\t\t\t${unlinkIcon} Disconnect all\n\t\t\t\t</button>\n\t\t\t</div>`;\n\t}\n\n\t#onDisconnectClick() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent('disconnect-click', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n\n\t#onManageConnectionClick() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent('manage-connection-click', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true,\n\t\t\t}),\n\t\t);\n\t}\n\n\t#getAccountTitle = (name?: string | null) => {\n\t\treturn name || this.connection.account.label || formatAddress(this.connection.account.address);\n\t};\n\n\t#onDocumentClick = (event: MouseEvent) => {\n\t\tif (!this._open) return;\n\n\t\tconst path = event.composedPath();\n\t\tif (!path.includes(this)) {\n\t\t\tthis.#closeMenu();\n\t\t}\n\t};\n\n\t#toggleMenu() {\n\t\tif (this._open) {\n\t\t\tthis.#closeMenu();\n\t\t} else {\n\t\t\tthis.#openMenu();\n\t\t}\n\t}\n\n\tasync #openMenu() {\n\t\tthis._open = true;\n\n\t\tawait this.updateComplete;\n\t\tthis._menu.focus();\n\t\tthis.#startPositioning();\n\t}\n\n\t#closeMenu() {\n\t\tthis._open = false;\n\t\tthis.#stopPositioning();\n\t}\n\n\t#startPositioning() {\n\t\tthis.#unsubscribeFromAutoUpdate = autoUpdate(this._trigger, this._menu, async () => {\n\t\t\tconst result = await computePosition(this._trigger, this._menu, {\n\t\t\t\tplacement: 'bottom-end',\n\t\t\t\tmiddleware: [offset(12), flip(), shift({ padding: 16 }), autoPlacement()],\n\t\t\t});\n\n\t\t\tObject.assign(this._menu.style, {\n\t\t\t\tleft: `${result.x}px`,\n\t\t\t\ttop: `${result.y}px`,\n\t\t\t});\n\t\t});\n\t}\n\n\t#stopPositioning() {\n\t\tif (this.#unsubscribeFromAutoUpdate) {\n\t\t\tthis.#unsubscribeFromAutoUpdate();\n\t\t\tthis.#unsubscribeFromAutoUpdate = undefined;\n\t\t}\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { html, LitElement } from 'lit';\nimport { customElement, property, query } from 'lit/decorators.js';\nimport { storeProperty } from '../utils/lit.js';\nimport type { DAppKitConnectModalOptions } from './dapp-kit-connect-modal.js';\nimport { DAppKitConnectModal } from './dapp-kit-connect-modal.js';\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\nimport { Button } from './internal/button.js';\nimport { sharedStyles } from './styles/index.js';\nimport type { DefaultExpectedDppKit } from '../types.js';\nimport { ConnectedAccountMenu } from './internal/connected-account-menu.js';\nimport type { AccountSelectedEvent } from './internal/connected-account-menu-item.js';\n\n/**\n * A button component for connecting to a Sui wallet.\n *\n * Displays a \"Connect Wallet\" button when no wallet is connected or a connected account menu when a wallet is active.\n *\n * @element mysten-dapp-kit-connect-button\n *\n * @prop {DAppKitConnectModalOptions} modalOptions - Options to configure the connect modal.\n * @prop {RegisteredDAppKit} instance - The dApp Kit instance used for state management.\n *\n * @slot - The default slot used to customize the button content (shown when not connected).\n *\n * @cssprop --background - Background color of the component. Used as the default background for UI elements.\n * @cssprop --foreground - Foreground color of the component. Used as the default text color.\n * @cssprop --primary - Primary color used for interactive elements such as buttons and links.\n * @cssprop --primary-foreground - Text or icon color placed on top of primary elements.\n * @cssprop --secondary - Secondary color used for less prominent interactive elements.\n * @cssprop --secondary-foreground - Text or icon color placed on top of secondary elements.\n * @cssprop --border - Border color for UI elements.\n * @cssprop --accent - Accent color used for highlights and decorative elements.\n * @cssprop --accent-foreground - Text or icon color placed on top of accent elements.\n * @cssprop --muted - Background color for subtle or muted UI elements (e.g., placeholders, disabled states).\n * @cssprop --muted-foreground - Text or icon color for muted UI elements.\n * @cssprop --popover - Background color for floating elements such as popovers, dropdowns, or tooltips.\n * @cssprop --popover-foreground - Text or icon color inside popover elements.\n * @cssprop --ring - Color used for focus rings (visible focus indicators on interactive elements).\n * @cssprop --radius - Border radius used for UI elements.\n * @cssprop --font-sans - Font family used for text content.\n * @cssprop --font-weight-medium - Medium font weight for text (typically used for buttons and interactive elements).\n * @cssprop --font-weight-semibold - Semibold font weight for text (typically used for headings or emphasized text).\n */\n@customElement('mysten-dapp-kit-connect-button')\nexport class DAppKitConnectButton extends ScopedRegistryHost(LitElement) {\n\tstatic elementDefinitions = {\n\t\t'internal-button': Button,\n\t\t'mysten-dapp-kit-connect-modal': DAppKitConnectModal,\n\t\t'connected-account-menu': ConnectedAccountMenu,\n\t};\n\n\tstatic override shadowRootOptions = {\n\t\t...LitElement.shadowRootOptions,\n\t\tdelegatesFocus: true,\n\t};\n\n\tstatic override styles = sharedStyles;\n\n\t/**\n\t * Options to configure the connect modal.\n\t */\n\t@property({ type: Object })\n\tmodalOptions?: DAppKitConnectModalOptions;\n\n\t/**\n\t * The dApp Kit instance used for state management.\n\t */\n\t@storeProperty()\n\tinstance!: DefaultExpectedDppKit;\n\n\t@query('mysten-dapp-kit-connect-modal')\n\tprivate readonly _modal!: DAppKitConnectModal;\n\n\toverride render() {\n\t\tconst connection = this.instance.stores.$connection.get();\n\t\tconst client = this.instance.stores.$currentClient.get();\n\n\t\treturn connection.account\n\t\t\t? html`<connected-account-menu\n\t\t\t\t\t.connection=${connection}\n\t\t\t\t\t.client=${client}\n\t\t\t\t\t@account-selected=${(event: AccountSelectedEvent) => {\n\t\t\t\t\t\tthis.instance.switchAccount({ account: event.detail.account });\n\t\t\t\t\t}}\n\t\t\t\t\t@disconnect-click=${() => {\n\t\t\t\t\t\tthis.instance.disconnectWallet();\n\t\t\t\t\t}}\n\t\t\t\t\t@manage-connection-click=${() => {\n\t\t\t\t\t\tthis.instance.connectWallet({ wallet: connection.wallet });\n\t\t\t\t\t}}\n\t\t\t\t></connected-account-menu>`\n\t\t\t: html`<internal-button @click=${this.#openModal}>\n\t\t\t\t\t\t<slot>Connect Wallet</slot>\n\t\t\t\t\t</internal-button>\n\t\t\t\t\t<mysten-dapp-kit-connect-modal\n\t\t\t\t\t\t.instance=${this.instance}\n\t\t\t\t\t\t.filterFn=${this.modalOptions?.filterFn}\n\t\t\t\t\t\t.sortFn=${this.modalOptions?.sortFn}\n\t\t\t\t\t></mysten-dapp-kit-connect-modal>`;\n\t}\n\n\t#openModal() {\n\t\tthis._modal.show();\n\t}\n}\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'mysten-dapp-kit-connect-button': DAppKitConnectButton;\n\t}\n}\n", "let tasks = 0\nlet resolves = []\n\nexport function startTask() {\n  tasks += 1\n  return () => {\n    tasks -= 1\n    if (tasks === 0) {\n      let prevResolves = resolves\n      resolves = []\n      for (let i of prevResolves) i()\n    }\n  }\n}\n\nexport function task(cb) {\n  let endTask = startTask()\n  let promise = cb().finally(endTask)\n  promise.t = true\n  return promise\n}\n\nexport function allTasks() {\n  if (tasks === 0) {\n    return Promise.resolve()\n  } else {\n    return new Promise(resolve => {\n      resolves.push(resolve)\n    })\n  }\n}\n\nexport function cleanTasks() {\n  tasks = 0\n}\n", "import { cleanTasks } from '../task/index.js'\n\nexport let clean = Symbol('clean')\n\nexport let cleanStores = (...stores) => {\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error(\n      'cleanStores() can be used only during development or tests'\n    )\n  }\n  cleanTasks()\n  for (let $store of stores) {\n    if ($store) {\n      if ($store.mocked) delete $store.mocked\n      if ($store[clean]) $store[clean]()\n    }\n  }\n}\n", "import { clean } from '../clean-stores/index.js'\n\nlet listenerQueue = []\nlet lqIndex = 0\nconst QUEUE_ITEMS_PER_LISTENER = 4\nexport let epoch = 0\n\n/* @__NO_SIDE_EFFECTS__ */\nexport const atom = initialValue => {\n  let listeners = []\n  let $atom = {\n    get() {\n      if (!$atom.lc) {\n        $atom.listen(() => {})()\n      }\n      return $atom.value\n    },\n    lc: 0,\n    listen(listener) {\n      $atom.lc = listeners.push(listener)\n\n      return () => {\n        for (\n          let i = lqIndex + QUEUE_ITEMS_PER_LISTENER;\n          i < listenerQueue.length;\n\n        ) {\n          if (listenerQueue[i] === listener) {\n            listenerQueue.splice(i, QUEUE_ITEMS_PER_LISTENER)\n          } else {\n            i += QUEUE_ITEMS_PER_LISTENER\n          }\n        }\n\n        let index = listeners.indexOf(listener)\n        if (~index) {\n          listeners.splice(index, 1)\n          if (!--$atom.lc) $atom.off()\n        }\n      }\n    },\n    notify(oldValue, changedKey) {\n      epoch++\n      let runListenerQueue = !listenerQueue.length\n      for (let listener of listeners) {\n        listenerQueue.push(listener, $atom.value, oldValue, changedKey)\n      }\n\n      if (runListenerQueue) {\n        for (\n          lqIndex = 0;\n          lqIndex < listenerQueue.length;\n          lqIndex += QUEUE_ITEMS_PER_LISTENER\n        ) {\n          listenerQueue[lqIndex](\n            listenerQueue[lqIndex + 1],\n            listenerQueue[lqIndex + 2],\n            listenerQueue[lqIndex + 3]\n          )\n        }\n        listenerQueue.length = 0\n      }\n    },\n    /* It will be called on last listener unsubscribing.\n       We will redefine it in onMount and onStop. */\n    off() {},\n    set(newValue) {\n      let oldValue = $atom.value\n      if (oldValue !== newValue) {\n        $atom.value = newValue\n        $atom.notify(oldValue)\n      }\n    },\n    subscribe(listener) {\n      let unbind = $atom.listen(listener)\n      listener($atom.value)\n      return unbind\n    },\n    value: initialValue\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    $atom[clean] = () => {\n      listeners = []\n      $atom.lc = 0\n      $atom.off()\n    }\n  }\n\n  return $atom\n}\n\nexport const readonlyType = store => store\n", "import { clean } from '../clean-stores/index.js'\n\nconst START = 0\nconst STOP = 1\nconst SET = 2\nconst NOTIFY = 3\nconst MOUNT = 5\nconst UNMOUNT = 6\nconst REVERT_MUTATION = 10\n\nexport let on = (object, listener, eventKey, mutateStore) => {\n  object.events = object.events || {}\n  if (!object.events[eventKey + REVERT_MUTATION]) {\n    object.events[eventKey + REVERT_MUTATION] = mutateStore(eventProps => {\n      // eslint-disable-next-line no-sequences\n      object.events[eventKey].reduceRight((event, l) => (l(event), event), {\n        shared: {},\n        ...eventProps\n      })\n    })\n  }\n  object.events[eventKey] = object.events[eventKey] || []\n  object.events[eventKey].push(listener)\n  return () => {\n    let currentListeners = object.events[eventKey]\n    let index = currentListeners.indexOf(listener)\n    currentListeners.splice(index, 1)\n    if (!currentListeners.length) {\n      delete object.events[eventKey]\n      object.events[eventKey + REVERT_MUTATION]()\n      delete object.events[eventKey + REVERT_MUTATION]\n    }\n  }\n}\n\nexport let onStart = ($store, listener) =>\n  on($store, listener, START, runListeners => {\n    let originListen = $store.listen\n    $store.listen = arg => {\n      if (!$store.lc && !$store.starting) {\n        $store.starting = true\n        runListeners()\n        delete $store.starting\n      }\n      return originListen(arg)\n    }\n    return () => {\n      $store.listen = originListen\n    }\n  })\n\nexport let onStop = ($store, listener) =>\n  on($store, listener, STOP, runListeners => {\n    let originOff = $store.off\n    $store.off = () => {\n      runListeners()\n      originOff()\n    }\n    return () => {\n      $store.off = originOff\n    }\n  })\n\nexport let onSet = ($store, listener) =>\n  on($store, listener, SET, runListeners => {\n    let originSet = $store.set\n    let originSetKey = $store.setKey\n    if ($store.setKey) {\n      $store.setKey = (changed, changedValue) => {\n        let isAborted\n        let abort = () => {\n          isAborted = true\n        }\n\n        runListeners({\n          abort,\n          changed,\n          newValue: { ...$store.value, [changed]: changedValue }\n        })\n        if (!isAborted) return originSetKey(changed, changedValue)\n      }\n    }\n    $store.set = newValue => {\n      let isAborted\n      let abort = () => {\n        isAborted = true\n      }\n\n      runListeners({ abort, newValue })\n      if (!isAborted) return originSet(newValue)\n    }\n    return () => {\n      $store.set = originSet\n      $store.setKey = originSetKey\n    }\n  })\n\nexport let onNotify = ($store, listener) =>\n  on($store, listener, NOTIFY, runListeners => {\n    let originNotify = $store.notify\n    $store.notify = (oldValue, changed) => {\n      let isAborted\n      let abort = () => {\n        isAborted = true\n      }\n\n      runListeners({ abort, changed, oldValue })\n      if (!isAborted) return originNotify(oldValue, changed)\n    }\n    return () => {\n      $store.notify = originNotify\n    }\n  })\n\nexport let STORE_UNMOUNT_DELAY = 1000\n\nexport let onMount = ($store, initialize) => {\n  let listener = payload => {\n    let destroy = initialize(payload)\n    if (destroy) $store.events[UNMOUNT].push(destroy)\n  }\n  return on($store, listener, MOUNT, runListeners => {\n    let originListen = $store.listen\n    $store.listen = (...args) => {\n      if (!$store.lc && !$store.active) {\n        $store.active = true\n        runListeners()\n      }\n      return originListen(...args)\n    }\n\n    let originOff = $store.off\n    $store.events[UNMOUNT] = []\n    $store.off = () => {\n      originOff()\n      setTimeout(() => {\n        if ($store.active && !$store.lc) {\n          $store.active = false\n          for (let destroy of $store.events[UNMOUNT]) destroy()\n          $store.events[UNMOUNT] = []\n        }\n      }, STORE_UNMOUNT_DELAY)\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      let originClean = $store[clean]\n      $store[clean] = () => {\n        for (let destroy of $store.events[UNMOUNT]) destroy()\n        $store.events[UNMOUNT] = []\n        $store.active = false\n        originClean()\n      }\n    }\n\n    return () => {\n      $store.listen = originListen\n      $store.off = originOff\n    }\n  })\n}\n", "import { atom, epoch } from '../atom/index.js'\nimport { onMount } from '../lifecycle/index.js'\n\nlet computedStore = (stores, cb, batched) => {\n  if (!Array.isArray(stores)) stores = [stores]\n\n  let previousArgs\n  let currentEpoch\n  let set = () => {\n    if (currentEpoch === epoch) return\n    currentEpoch = epoch\n    let args = stores.map($store => $store.get())\n    if (!previousArgs || args.some((arg, i) => arg !== previousArgs[i])) {\n      previousArgs = args\n      let value = cb(...args)\n      if (value && value.then && value.t) {\n        value.then(asyncValue => {\n          if (previousArgs === args) {\n            // Prevent a stale set\n            $computed.set(asyncValue)\n          }\n        })\n      } else {\n        $computed.set(value)\n        currentEpoch = epoch\n      }\n    }\n  }\n  let $computed = atom(undefined)\n  let get = $computed.get\n  $computed.get = () => {\n    set()\n    return get()\n  }\n\n  let timer\n  let run = batched\n    ? () => {\n        clearTimeout(timer)\n        timer = setTimeout(set)\n      }\n    : set\n\n  onMount($computed, () => {\n    let unbinds = stores.map($store => $store.listen(run))\n    set()\n    return () => {\n      for (let unbind of unbinds) unbind()\n    }\n  })\n\n  return $computed\n}\n\n/* @__NO_SIDE_EFFECTS__ */\nexport const computed = (stores, fn) => computedStore(stores, fn)\n\n/* @__NO_SIDE_EFFECTS__ */\nexport const batched = (stores, fn) => computedStore(stores, fn, true)\n", "export function listenKeys($store, keys, listener) {\n  let keysSet = new Set(keys).add(undefined)\n  return $store.listen((value, oldValue, changed) => {\n    if (keysSet.has(changed)) {\n      listener(value, oldValue, changed)\n    }\n  })\n}\n\nexport function subscribeKeys($store, keys, listener) {\n  let unbind = listenKeys($store, keys, listener)\n  listener($store.value)\n  return unbind\n}\n", "import { atom } from '../atom/index.js'\n\n/* @__NO_SIDE_EFFECTS__ */\nexport const map = (initial = {}) => {\n  let $map = atom(initial)\n\n  $map.setKey = function (key, value) {\n    let oldMap = $map.value\n    if (typeof value === 'undefined' && key in $map.value) {\n      $map.value = { ...$map.value }\n      delete $map.value[key]\n      $map.notify(oldMap, key)\n    } else if ($map.value[key] !== value) {\n      $map.value = {\n        ...$map.value,\n        [key]: value\n      }\n      $map.notify(oldMap, key)\n    }\n  }\n\n  return $map\n}\n", "import { listenKeys } from 'nanostores'\nimport { useCallback, useRef, useSyncExternalStore } from 'react'\n\nlet emit = (snapshotRef, onChange) => value => {\n  if (snapshotRef.current === value) return\n  snapshotRef.current = value\n  onChange()\n}\n\nexport function useStore(store, { keys, deps = [store, keys] } = {}) {\n  let snapshotRef = useRef()\n  snapshotRef.current = store.get()\n\n  let subscribe = useCallback(onChange => {\n    emit(snapshotRef, onChange)(store.value)\n\n    return keys?.length > 0\n      ? listenKeys(store, keys, emit(snapshotRef, onChange))\n      : store.listen(emit(snapshotRef, onChange))\n  }, deps)\n  let get = () => snapshotRef.current\n\n  return useSyncExternalStore(subscribe, get, get)\n}\n", "import type { Wallet, WalletAccount } from '@wallet-standard/base';\nimport {\n    WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND,\n    WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND,\n    WalletStandardError,\n    safeCaptureStackTrace,\n} from '@wallet-standard/errors';\nimport type { UiWalletAccount, UiWalletHandle } from '@wallet-standard/ui-core';\n\nconst uiWalletHandlesToWallets = new WeakMap<UiWalletHandle, Wallet>();\n\n/**\n * DO NOT USE THIS OR YOU WILL BE FIRED\n *\n * This method is for exclusive use by Wallet Standard UI library authors. Use this to associate a\n * `UiWallet` or `UiWalletAccount` object with a Wallet Standard `Wallet` in the central registry.\n *\n * @internal\n */\nexport function registerWalletHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(\n    uiWalletHandle: UiWalletHandle,\n    wallet: Wallet\n): void {\n    uiWalletHandlesToWallets.set(uiWalletHandle, wallet);\n}\n\n/**\n * DO NOT USE THIS OR YOU WILL BE FIRED\n *\n * This method is for exclusive use by Wallet Standard UI library authors. If you are building APIs\n * that need to materialize account-based features given a `UiWalletAccount` UI object, this\n * function will vend you the underlying `WalletAccount` object associated with it.\n *\n * @internal\n */\nexport function getWalletAccountForUiWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(\n    uiWalletAccount: UiWalletAccount\n): WalletAccount {\n    const wallet = getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(uiWalletAccount);\n    const account = wallet.accounts.find(({ address }) => address === uiWalletAccount.address);\n    if (!account) {\n        const err = new WalletStandardError(WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND, {\n            address: uiWalletAccount.address,\n            walletName: wallet.name,\n        });\n        safeCaptureStackTrace(err, getWalletAccountForUiWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED);\n        throw err;\n    }\n    return account;\n}\n\n/**\n * DO NOT USE THIS OR YOU WILL BE FIRED\n *\n * This method is for exclusive use by Wallet Standard UI library authors. If you are building APIs\n * that need to materialize wallet-based features given a `UiWalletAccount` UI object, this\n * function will vend you the underlying `Wallet` object associated with it.\n *\n * @internal\n */\nexport function getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(uiWalletHandle: UiWalletHandle): Wallet {\n    const wallet = uiWalletHandlesToWallets.get(uiWalletHandle);\n    if (!wallet) {\n        const err = new WalletStandardError(WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND);\n        safeCaptureStackTrace(err, getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED);\n        throw err;\n    }\n    return wallet;\n}\n", "import type { IdentifierArray } from '@wallet-standard/base';\n\nexport function identifierArraysAreDifferent(a: IdentifierArray, b: IdentifierArray): boolean {\n    // NOTE: Do not optimize this with an `a.length !== b.length` check. A length check does not\n    // take into consideration that the array might contain duplicate items.\n    const itemsSetA = new Set(a);\n    const itemsSetB = new Set(b);\n    if (itemsSetA.size !== itemsSetB.size) {\n        return true;\n    }\n    for (const itemFromA of itemsSetA) {\n        if (!itemsSetB.has(itemFromA)) {\n            return true;\n        }\n    }\n    return false;\n}\n", "import type { Wallet, WalletAccount } from '@wallet-standard/base';\nimport type { UiWalletAccount } from '@wallet-standard/ui-core';\n\nimport {\n    getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n    registerWalletHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n} from './UiWalletHandleRegistry_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.js';\nimport { identifierArraysAreDifferent } from './compare.js';\n\nconst walletAccountsToUiWalletAccounts = new WeakMap<WalletAccount, UiWalletAccount>();\n\ntype Mutable<T> = { -readonly [P in keyof T]: T[P] };\n\n/**\n * DO NOT USE THIS OR YOU WILL BE FIRED\n *\n * This method is for exclusive use by Wallet Standard UI library authors. Use this if you need to\n * create or obtain the existing `UiWalletAccount` object associated with a Wallet Standard\n * `WalletAccount`.\n *\n * @internal\n */\nexport function getOrCreateUiWalletAccountForStandardWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED<\n    TWallet extends Wallet,\n>(wallet: TWallet, account: WalletAccount): UiWalletAccount {\n    let existingUiWalletAccount = walletAccountsToUiWalletAccounts.get(account);\n    if (existingUiWalletAccount) {\n        try {\n            if (getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(existingUiWalletAccount) !== wallet) {\n                existingUiWalletAccount = undefined;\n            }\n        } catch {\n            existingUiWalletAccount = undefined;\n        }\n    }\n    const mustInitialize = !existingUiWalletAccount;\n    let uiWalletAccount: Mutable<UiWalletAccount> = existingUiWalletAccount ?? ({} as Mutable<UiWalletAccount>);\n    let isDirty = !existingUiWalletAccount;\n    function dirtyUiWallet() {\n        if (!isDirty) {\n            uiWalletAccount = { ...uiWalletAccount } as Mutable<UiWalletAccount>;\n            isDirty = true;\n        }\n    }\n    if (mustInitialize || identifierArraysAreDifferent(uiWalletAccount.chains, account.chains)) {\n        dirtyUiWallet();\n        uiWalletAccount.chains = Object.freeze([...account.chains]);\n    }\n    if (mustInitialize || identifierArraysAreDifferent(uiWalletAccount.features, account.features)) {\n        dirtyUiWallet();\n        uiWalletAccount.features = Object.freeze([...account.features]);\n    }\n    if (\n        mustInitialize ||\n        uiWalletAccount.address !== account.address ||\n        uiWalletAccount.icon !== account.icon ||\n        uiWalletAccount.label !== account.label ||\n        uiWalletAccount.publicKey !== account.publicKey\n    ) {\n        dirtyUiWallet();\n        uiWalletAccount.address = account.address;\n        uiWalletAccount.icon = account.icon;\n        uiWalletAccount.label = account.label;\n        uiWalletAccount.publicKey = account.publicKey;\n    }\n    if (isDirty) {\n        walletAccountsToUiWalletAccounts.set(account, uiWalletAccount);\n        registerWalletHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(uiWalletAccount, wallet);\n    }\n    return Object.freeze(uiWalletAccount);\n}\n", "import type { IdentifierArray, Wallet } from '@wallet-standard/base';\nimport type { UiWalletAccount, UiWallet } from '@wallet-standard/ui-core';\n\nimport { getOrCreateUiWalletAccountForStandardWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from './UiWalletAccountRegistry_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.js';\nimport { registerWalletHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from './UiWalletHandleRegistry_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.js';\nimport { identifierArraysAreDifferent } from './compare.js';\n\nconst walletsToUiWallets = new WeakMap<Wallet, UiWallet>();\n\ntype Mutable<T> = { -readonly [P in keyof T]: T[P] };\n\n/**\n * DO NOT USE THIS OR YOU WILL BE FIRED\n *\n * This method is for exclusive use by Wallet Standard UI library authors. Use this if you need to\n * create or obtain the existing `UiWallet` object associated with a Wallet Standard `Wallet`.\n *\n * @internal\n */\nexport function getOrCreateUiWalletForStandardWallet_DO_NOT_USE_OR_YOU_WILL_BE_FIRED<TWallet extends Wallet>(\n    wallet: TWallet\n): UiWallet {\n    const existingUiWallet = walletsToUiWallets.get(wallet);\n    const mustInitialize = !existingUiWallet;\n    let uiWallet: Mutable<UiWallet> = existingUiWallet ?? ({} as Mutable<UiWallet>);\n    let isDirty = !existingUiWallet;\n    function dirtyUiWallet() {\n        if (!isDirty) {\n            uiWallet = { ...uiWallet } as Mutable<UiWallet>;\n            isDirty = true;\n        }\n    }\n    const nextUiWalletAccounts = {\n        _cache: [] as UiWalletAccount[],\n        *[Symbol.iterator]() {\n            if (this._cache.length) {\n                yield* this._cache;\n            }\n            for (const walletAccount of wallet.accounts.slice(this._cache.length)) {\n                const uiWalletAccount =\n                    getOrCreateUiWalletAccountForStandardWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(\n                        wallet,\n                        walletAccount\n                    );\n                this._cache.push(uiWalletAccount);\n                yield uiWalletAccount;\n            }\n        },\n        some(predicateFn: (uiWalletAccount: UiWalletAccount) => boolean) {\n            if (this._cache.some(predicateFn)) {\n                return true;\n            }\n            for (const walletAccount of wallet.accounts.slice(this._cache.length)) {\n                const uiWalletAccount =\n                    getOrCreateUiWalletAccountForStandardWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(\n                        wallet,\n                        walletAccount\n                    );\n                this._cache.push(uiWalletAccount);\n                if (predicateFn(uiWalletAccount)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        get length() {\n            return wallet.accounts.length;\n        },\n    };\n    if (\n        mustInitialize ||\n        uiWallet.accounts.length !== wallet.accounts.length ||\n        nextUiWalletAccounts.some((account) => !uiWallet.accounts.includes(account))\n    ) {\n        dirtyUiWallet();\n        uiWallet.accounts = Object.freeze(Array.from(nextUiWalletAccounts));\n    }\n    if (\n        mustInitialize ||\n        identifierArraysAreDifferent(uiWallet.features, Object.keys(wallet.features) as IdentifierArray)\n    ) {\n        dirtyUiWallet();\n        uiWallet.features = Object.freeze(Object.keys(wallet.features) as IdentifierArray);\n    }\n    if (mustInitialize || identifierArraysAreDifferent(uiWallet.chains, wallet.chains)) {\n        dirtyUiWallet();\n        uiWallet.chains = Object.freeze([...wallet.chains]);\n    }\n    if (\n        mustInitialize ||\n        uiWallet.icon !== wallet.icon ||\n        uiWallet.name !== wallet.name ||\n        uiWallet.version !== wallet.version\n    ) {\n        dirtyUiWallet();\n        uiWallet.icon = wallet.icon;\n        uiWallet.name = wallet.name;\n        uiWallet.version = wallet.version;\n    }\n    if (isDirty) {\n        walletsToUiWallets.set(wallet, uiWallet);\n        registerWalletHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(uiWallet, wallet);\n    }\n    return Object.freeze(uiWallet);\n}\n", "import type { UiWallet, UiWalletAccount } from '@wallet-standard/ui-core';\nimport { getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from '@wallet-standard/ui-registry';\n\n/**\n * Given two `UiWalletAccount` objects, this method will tell you if they represent the same\n * underlying `WalletAccount`.\n *\n * `UiWalletAccount` objects are meant to be used in client apps to render UI; they are not the\n * _actual_ underlying `WalletAccount` objects. In particular, they can change over time and you can\n * not presume that two `UiWalletAccount` objects will be referentially equal - even though they\n * represent the 'same' account.\n *\n * WARNING: It is insufficient to compare two accounts on the basis of their addresses; it's\n * possible for two different wallets to be configured with the same account. Use this method\n * whenever you need to know for sure that two `UiWalletAccount` objects represent the same\n * address _and_ belong to the same underlying `Wallet`.\n */\nexport function uiWalletAccountsAreSame(a: UiWalletAccount, b: UiWalletAccount): boolean {\n    if (a.address !== b.address) {\n        return false;\n    }\n    const underlyingWalletA = getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(a);\n    const underlyingWalletB = getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(b);\n    return underlyingWalletA === underlyingWalletB;\n}\n\n/**\n *\n * Given a `UiWalletAccount`, this method will tell you if the account belongs to a specific\n * `UiWallet`.\n *\n * WARNING: It's possible for two different wallets to be configured with the same account. Use this\n * method whenever you need to know for sure that a `UiWalletAccount` belongs to a particular\n * `UiWallet`.\n */\nexport function uiWalletAccountBelongsToUiWallet(account: UiWalletAccount, wallet: UiWallet): boolean {\n    const underlyingWalletForUiWallet = getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(wallet);\n    const underlyingWalletForUiWalletAccount = getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(account);\n    return underlyingWalletForUiWallet === underlyingWalletForUiWalletAccount;\n}\n", "import {\n    WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED,\n    WalletStandardError,\n    safeCaptureStackTrace,\n} from '@wallet-standard/errors';\nimport type { UiWalletHandle } from '@wallet-standard/ui-core';\nimport { getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from '@wallet-standard/ui-registry';\n\n/**\n * Returns the feature object from the Wallet Standard `Wallet` that underlies a `UiWalletHandle`.\n * If the wallet does not support the feature, a `WalletStandardError` will be thrown.\n */\nexport function getWalletFeature<TWalletHandle extends UiWalletHandle>(\n    uiWalletHandle: TWalletHandle,\n    featureName: TWalletHandle['features'][number]\n): unknown {\n    const wallet = getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(uiWalletHandle);\n    if (!(featureName in wallet.features)) {\n        const err = new WalletStandardError(WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED, {\n            featureName,\n            supportedChains: [...wallet.chains],\n            supportedFeatures: Object.keys(wallet.features),\n            walletName: wallet.name,\n        });\n        safeCaptureStackTrace(err, getWalletFeature);\n        throw err;\n    }\n    return wallet.features[featureName];\n}\n", "import {\n    WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED,\n    WalletStandardError,\n    safeCaptureStackTrace,\n} from '@wallet-standard/errors';\nimport type { UiWalletAccount } from '@wallet-standard/ui-core';\n\nimport { getWalletFeature } from './getWalletFeature.js';\n\n/**\n * Returns the feature object from the Wallet Standard `Wallet` that underlies a\n * `UiWalletAccount`. In the event that either the wallet or the account do not support the\n * feature, a `WalletStandardError` will be thrown.\n */\nexport function getWalletAccountFeature<TWalletAccount extends UiWalletAccount>(\n    walletAccount: TWalletAccount,\n    featureName: TWalletAccount['features'][number]\n): unknown {\n    if (!walletAccount.features.includes(featureName)) {\n        const err = new WalletStandardError(WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED, {\n            address: walletAccount.address,\n            featureName,\n            supportedChains: [...walletAccount.chains],\n            supportedFeatures: [...walletAccount.features],\n        });\n        safeCaptureStackTrace(err, getWalletAccountFeature);\n        throw err;\n    }\n    return getWalletFeature(walletAccount, featureName);\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport class DAppKitError extends Error {}\n\n/**\n * Thown when someone attempts to perform an action that requires an active wallet connection.\n */\nexport class WalletNotConnectedError extends DAppKitError {}\n\n/**\n * Thown when an account tries to invoke a feature on a chain that doesn't support it.\n */\nexport class ChainNotSupportedError extends DAppKitError {}\n\n/**\n * Thown when an account tries to invoke a feature that it doesn't support.\n */\nexport class FeatureNotSupportedError extends DAppKitError {}\n\n/**\n * Thown when a wallet is connected but no accounts are authorized.\n */\nexport class WalletNoAccountsConnectedError extends DAppKitError {}\n\n/**\n * Thown when an account can't be found for a specific wallet.\n */\nexport class WalletAccountNotFoundError extends DAppKitError {}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { SuiClientTypes } from '@mysten/sui/client';\nimport type { IdentifierString } from '@mysten/wallet-standard';\nimport { DAppKitError } from './errors.js';\nimport type { DAppKitCompatibleClient } from '../core/types.js';\n\nexport type Networks = SuiClientTypes.Network[];\n\nexport function getChain(network: SuiClientTypes.Network): IdentifierString {\n\treturn `sui:${network}`;\n}\n\nexport function createNetworkConfig<\n\tTNetworks extends Networks,\n\tClient extends DAppKitCompatibleClient,\n>(networks: TNetworks, createClient: (network: TNetworks[number]) => Client) {\n\tif (networks.length === 0) {\n\t\tthrow new DAppKitError('You must specify at least one Sui network for your application.');\n\t}\n\n\tconst networkConfig = new Map<TNetworks[number], Client>();\n\tfunction getClient<T extends TNetworks[number]>(network: T | TNetworks[number]) {\n\t\tif (networkConfig.has(network)) {\n\t\t\treturn networkConfig.get(network)!;\n\t\t}\n\n\t\tconst client = createClient(network);\n\t\tnetworkConfig.set(network, client);\n\t\treturn client;\n\t}\n\n\treturn { networkConfig: Object.freeze(networkConfig), getClient };\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n\tStandardConnect,\n\tStandardEvents,\n\tSuiSignTransaction,\n\tSuiSignTransactionBlock,\n\tWALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED,\n\tWalletStandardError,\n} from '@mysten/wallet-standard';\nimport type { UiWallet, UiWalletAccount, UiWalletHandle } from '@wallet-standard/ui';\nimport { getWalletAccountFeature, uiWalletAccountBelongsToUiWallet } from '@wallet-standard/ui';\nimport { getWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as getWalletForHandle } from '@wallet-standard/ui-registry';\nimport { ChainNotSupportedError, DAppKitError, FeatureNotSupportedError } from './errors.js';\n\nexport const requiredWalletFeatures = [StandardConnect, StandardEvents] as const;\n\nexport const signingFeatures = [SuiSignTransaction, SuiSignTransactionBlock] as const;\n\nexport function getAssociatedWalletOrThrow(account: UiWalletAccount, wallets: UiWallet[]) {\n\tconst wallet = wallets.find((wallet) => uiWalletAccountBelongsToUiWallet(account, wallet));\n\tif (!wallet) {\n\t\tthrow new DAppKitError(`Wallet not found for account ${account.address}.`);\n\t}\n\treturn wallet;\n}\n\nexport function getWalletUniqueIdentifier(walletHandle: UiWalletHandle) {\n\tconst underlyingWallet = getWalletForHandle(walletHandle);\n\treturn underlyingWallet.id ?? underlyingWallet.name;\n}\n\nexport function getAccountFeature<TAccount extends UiWalletAccount>({\n\taccount,\n\tfeatureName,\n\tchain,\n}: {\n\taccount: TAccount;\n\tfeatureName: TAccount['features'][number];\n\tchain: TAccount['chains'][number];\n}) {\n\tif (!account.chains.includes(chain)) {\n\t\tconst cause = new WalletStandardError(\n\t\t\tWALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED,\n\t\t\t{\n\t\t\t\tchain,\n\t\t\t\tfeatureName,\n\t\t\t\tsupportedChains: [...account.chains],\n\t\t\t\tsupportedFeatures: [...account.features],\n\t\t\t\taddress: account.address,\n\t\t\t},\n\t\t);\n\n\t\tthrow new ChainNotSupportedError(\n\t\t\t`The account ${cause.context.address} does not support the chain \"${cause.context.chain}\".`,\n\t\t\t{ cause },\n\t\t);\n\t}\n\n\ttry {\n\t\treturn getWalletAccountFeature(account, featureName);\n\t} catch (error) {\n\t\tthrow new FeatureNotSupportedError(\n\t\t\t`The account ${account.address} does not support the feature \"${featureName}\".`,\n\t\t\t{ cause: error },\n\t\t);\n\t}\n}\n\nexport function tryGetAccountFeature<TAccount extends UiWalletAccount>(\n\t...args: Parameters<typeof getAccountFeature<TAccount>>\n) {\n\ttry {\n\t\treturn getAccountFeature(...args);\n\t} catch (error) {\n\t\tif (error instanceof FeatureNotSupportedError) {\n\t\t\treturn null;\n\t\t}\n\t\tthrow error;\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { UiWallet, UiWalletAccount } from '@wallet-standard/ui';\nimport type { StoreValue } from 'nanostores';\nimport { atom, computed, map } from 'nanostores';\nimport { getChain } from '../utils/networks.js';\nimport type { Networks } from '../utils/networks.js';\nimport {\n\tgetAssociatedWalletOrThrow,\n\trequiredWalletFeatures,\n\tsigningFeatures,\n} from '../utils/wallets.js';\nimport type { DAppKitCompatibleClient } from './types.js';\n\ntype InternalWalletConnection =\n\t| {\n\t\t\tstatus: 'disconnected' | 'connecting';\n\t\t\tcurrentAccount: null;\n\t  }\n\t| {\n\t\t\tstatus: 'reconnecting' | 'connected';\n\t\t\tcurrentAccount: UiWalletAccount;\n\t\t\tsupportedIntents: string[];\n\t  };\n\nexport type DAppKitStores<\n\tTNetworks extends Networks = Networks,\n\tClient extends DAppKitCompatibleClient = DAppKitCompatibleClient,\n> = ReturnType<typeof createStores<TNetworks, Client>>;\n\nexport type WalletConnection = StoreValue<DAppKitStores['$connection']>;\n\nexport function createStores<\n\tTNetworks extends Networks = [],\n\tClient extends DAppKitCompatibleClient = DAppKitCompatibleClient,\n>({\n\tdefaultNetwork,\n\tgetClient,\n}: {\n\tdefaultNetwork: TNetworks[number];\n\tgetClient: (network: TNetworks[number]) => Client;\n}) {\n\tconst $baseConnection = map<InternalWalletConnection>({\n\t\tstatus: 'disconnected',\n\t\tcurrentAccount: null,\n\t});\n\n\tconst $currentNetwork = atom<TNetworks[number]>(defaultNetwork);\n\tconst $registeredWallets = atom<UiWallet[]>([]);\n\n\tconst $compatibleWallets = computed(\n\t\t[$registeredWallets, $currentNetwork],\n\t\t(wallets, currentNetwork) => {\n\t\t\treturn wallets.filter((wallet) => {\n\t\t\t\tconst areChainsCompatible = wallet.chains.some(\n\t\t\t\t\t(chain) => getChain(currentNetwork) === chain,\n\t\t\t\t);\n\n\t\t\t\tconst hasRequiredFeatures = requiredWalletFeatures.every((featureName) =>\n\t\t\t\t\twallet.features.includes(featureName),\n\t\t\t\t);\n\n\t\t\t\tconst canSignTransactions = signingFeatures.some((featureName) =>\n\t\t\t\t\twallet.features.includes(featureName),\n\t\t\t\t);\n\n\t\t\t\treturn areChainsCompatible && hasRequiredFeatures && canSignTransactions;\n\t\t\t});\n\t\t},\n\t);\n\n\treturn {\n\t\t$currentNetwork,\n\t\t$registeredWallets,\n\t\t$compatibleWallets,\n\t\t$baseConnection,\n\t\t$currentClient: computed($currentNetwork, getClient),\n\t\t$connection: computed([$baseConnection, $compatibleWallets], (connection, wallets) => {\n\t\t\tswitch (connection.status) {\n\t\t\t\tcase 'connected':\n\t\t\t\t\treturn {\n\t\t\t\t\t\twallet: getAssociatedWalletOrThrow(connection.currentAccount, wallets),\n\t\t\t\t\t\taccount: connection.currentAccount,\n\t\t\t\t\t\tstatus: connection.status,\n\t\t\t\t\t\tsupportedIntents: connection.supportedIntents,\n\t\t\t\t\t\tisConnected: true,\n\t\t\t\t\t\tisConnecting: false,\n\t\t\t\t\t\tisReconnecting: false,\n\t\t\t\t\t\tisDisconnected: false,\n\t\t\t\t\t} as const;\n\t\t\t\tcase 'connecting':\n\t\t\t\t\treturn {\n\t\t\t\t\t\twallet: null,\n\t\t\t\t\t\taccount: connection.currentAccount,\n\t\t\t\t\t\tstatus: connection.status,\n\t\t\t\t\t\tsupportedIntents: [],\n\t\t\t\t\t\tisConnected: false,\n\t\t\t\t\t\tisConnecting: true,\n\t\t\t\t\t\tisReconnecting: false,\n\t\t\t\t\t\tisDisconnected: false,\n\t\t\t\t\t} as const;\n\t\t\t\tcase 'reconnecting':\n\t\t\t\t\treturn {\n\t\t\t\t\t\twallet: getAssociatedWalletOrThrow(connection.currentAccount, wallets),\n\t\t\t\t\t\taccount: connection.currentAccount,\n\t\t\t\t\t\tstatus: connection.status,\n\t\t\t\t\t\tsupportedIntents: connection.supportedIntents,\n\t\t\t\t\t\tisConnected: false,\n\t\t\t\t\t\tisConnecting: false,\n\t\t\t\t\t\tisReconnecting: true,\n\t\t\t\t\t\tisDisconnected: false,\n\t\t\t\t\t} as const;\n\t\t\t\tcase 'disconnected':\n\t\t\t\t\treturn {\n\t\t\t\t\t\twallet: null,\n\t\t\t\t\t\taccount: connection.currentAccount,\n\t\t\t\t\t\tstatus: connection.status,\n\t\t\t\t\t\tsupportedIntents: [],\n\t\t\t\t\t\tisConnected: false,\n\t\t\t\t\t\tisConnecting: false,\n\t\t\t\t\t\tisReconnecting: false,\n\t\t\t\t\t\tisDisconnected: true,\n\t\t\t\t\t} as const;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Encountered unknown connection status: ${connection}`);\n\t\t\t}\n\t\t}),\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { getWallets, StandardEvents } from '@mysten/wallet-standard';\nimport { onMount } from 'nanostores';\nimport type { DAppKitStores } from '../store.js';\n\nimport { getOrCreateUiWalletForStandardWallet_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as getOrCreateUiWalletForStandardWallet } from '@wallet-standard/ui-registry';\nimport type { StandardEventsFeature, Wallet, WalletWithFeatures } from '@mysten/wallet-standard';\n\n/**\n * Handles updating the store in response to wallets being added, removed, and their properties changing.\n */\nexport function syncRegisteredWallets({ $registeredWallets }: DAppKitStores) {\n\tonMount($registeredWallets, () => {\n\t\tconst walletsApi = getWallets();\n\t\tconst unsubscribeCallbacksByWallet = new Map<Wallet, () => void>();\n\n\t\tconst onWalletsChanged = () => {\n\t\t\tconst wallets = walletsApi.get();\n\t\t\t$registeredWallets.set(wallets.map(getOrCreateUiWalletForStandardWallet));\n\t\t};\n\n\t\tconst subscribeToWalletEvents = (wallet: WalletWithFeatures<StandardEventsFeature>) => {\n\t\t\tconst unsubscribeFromChange = wallet.features[StandardEvents].on('change', () => {\n\t\t\t\tonWalletsChanged();\n\t\t\t});\n\n\t\t\t// NOTE: The underlying wallet entities returned from the Wallet Standard are\n\t\t\t// referentially equal even when the properties of a wallet change. Thus, it is\n\t\t\t// safe to use the wallet object itself as the key for the unsubscribe mapping.\n\t\t\tunsubscribeCallbacksByWallet.set(wallet, unsubscribeFromChange);\n\t\t};\n\n\t\tconst unsubscribeFromRegister = walletsApi.on('register', (...addedWallets) => {\n\t\t\taddedWallets.filter(hasStandardEvents).forEach(subscribeToWalletEvents);\n\t\t\tonWalletsChanged();\n\t\t});\n\n\t\tconst unsubscribeFromUnregister = walletsApi.on('unregister', (...removedWallets) => {\n\t\t\tremovedWallets.filter(hasStandardEvents).forEach((wallet) => {\n\t\t\t\tconst unsubscribeFromChange = unsubscribeCallbacksByWallet.get(wallet);\n\t\t\t\tif (unsubscribeFromChange) {\n\t\t\t\t\tunsubscribeCallbacksByWallet.delete(wallet);\n\t\t\t\t\tunsubscribeFromChange();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tonWalletsChanged();\n\t\t});\n\n\t\tconst wallets = walletsApi.get();\n\t\twallets.filter(hasStandardEvents).forEach(subscribeToWalletEvents);\n\t\tonWalletsChanged();\n\n\t\treturn () => {\n\t\t\tunsubscribeFromRegister();\n\t\t\tunsubscribeFromUnregister();\n\n\t\t\tunsubscribeCallbacksByWallet.forEach((unsubscribe) => unsubscribe());\n\t\t\tunsubscribeCallbacksByWallet.clear();\n\t\t};\n\t});\n}\n\nfunction hasStandardEvents(wallet: Wallet): wallet is WalletWithFeatures<StandardEventsFeature> {\n\treturn StandardEvents in wallet.features;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKitStores } from '../store.js';\nimport { task } from 'nanostores';\nimport type { UiWallet, UiWalletAccount } from '@wallet-standard/ui';\nimport type { StandardConnectInput, SuiWalletFeatures } from '@mysten/wallet-standard';\nimport type { StandardConnectFeature } from '@mysten/wallet-standard';\nimport { StandardConnect } from '@mysten/wallet-standard';\nimport { getWalletFeature, uiWalletAccountBelongsToUiWallet } from '@wallet-standard/ui';\nimport {\n\tgetOrCreateUiWalletAccountForStandardWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as getOrCreateUiWalletAccountForStandardWalletAccount,\n\tgetWalletForHandle_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as getWalletForHandle,\n} from '@wallet-standard/ui-registry';\nimport { WalletAccountNotFoundError, WalletNoAccountsConnectedError } from '../../utils/errors.js';\nimport { getChain } from '../../utils/networks.js';\nimport type { Networks } from '../../utils/networks.js';\n\nexport type ConnectWalletArgs = {\n\t/** The wallet to connect to. */\n\twallet: UiWallet;\n\n\t/**\n\t * An optional account to set as the selected account.\n\t * @default The first authorized account.\n\t */\n\taccount?: UiWalletAccount;\n} & Omit<StandardConnectInput, 'silent'>;\n\nexport function connectWalletCreator(\n\t{ $baseConnection }: DAppKitStores,\n\tsupportedNetworks: Networks,\n) {\n\t/**\n\t * Prompts the specified wallet to connect and authorize new accounts for the current domain.\n\t */\n\treturn async function connectWallet({\n\t\twallet,\n\t\taccount,\n\t\t...standardConnectArgs\n\t}: ConnectWalletArgs) {\n\t\treturn await task(async () => {\n\t\t\tconst connection = $baseConnection.get();\n\t\t\tconst isAlreadyConnected = connection.status === 'connected';\n\n\t\t\ttry {\n\t\t\t\t$baseConnection.setKey('status', isAlreadyConnected ? 'reconnecting' : 'connecting');\n\n\t\t\t\tconst { accounts: suiAccounts, supportedIntents } = await internalConnectWallet(\n\t\t\t\t\twallet,\n\t\t\t\t\tsupportedNetworks,\n\t\t\t\t\tstandardConnectArgs,\n\t\t\t\t);\n\n\t\t\t\tif (!isAlreadyConnected && suiAccounts.length === 0) {\n\t\t\t\t\tthrow new WalletNoAccountsConnectedError('No accounts were authorized.');\n\t\t\t\t}\n\n\t\t\t\tif (account && !uiWalletAccountBelongsToUiWallet(account, wallet)) {\n\t\t\t\t\tthrow new WalletAccountNotFoundError(\n\t\t\t\t\t\t`No account with address ${account.address} is authorized for ${wallet.name}.`,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t$baseConnection.set({\n\t\t\t\t\tstatus: 'connected',\n\t\t\t\t\tcurrentAccount: account ?? suiAccounts[0],\n\t\t\t\t\tsupportedIntents: supportedIntents ?? [],\n\t\t\t\t});\n\n\t\t\t\treturn { accounts: suiAccounts };\n\t\t\t} catch (error) {\n\t\t\t\t$baseConnection.setKey('status', isAlreadyConnected ? 'connected' : 'disconnected');\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport async function internalConnectWallet(\n\twallet: UiWallet,\n\tsupportedNetworks: Networks,\n\targs: StandardConnectInput,\n) {\n\tconst { connect } = getWalletFeature(\n\t\twallet,\n\t\tStandardConnect,\n\t) as StandardConnectFeature[typeof StandardConnect];\n\n\tconst result = await connect(args);\n\n\tconst underlyingWallet = getWalletForHandle(wallet);\n\tconst supportedChains = supportedNetworks.map(getChain);\n\tconst supportedIntents =\n\t\tresult.supportedIntents ?? (await getSupportedIntentsFromFeature(wallet));\n\tconst accounts = result.accounts\n\t\t.filter((account) => account.chains.some((chain) => supportedChains.includes(chain)))\n\t\t.map(getOrCreateUiWalletAccountForStandardWalletAccount.bind(null, underlyingWallet));\n\n\treturn {\n\t\taccounts,\n\t\tsupportedIntents,\n\t};\n}\n\nexport async function getSupportedIntentsFromFeature(wallet: UiWallet) {\n\tif (!wallet.features.includes('sui:getCapabilities')) {\n\t\treturn [];\n\t}\n\n\tconst getCapabilitiesFeature = getWalletFeature(\n\t\twallet,\n\t\t'sui:getCapabilities',\n\t) as SuiWalletFeatures['sui:getCapabilities'];\n\n\treturn (await getCapabilitiesFeature?.getCapabilities())?.supportedIntents ?? [];\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { onMount, task } from 'nanostores';\nimport type { DAppKitStores } from '../store.js';\nimport type { StateStorage } from '../../utils/storage.js';\nimport type { UiWallet } from '@wallet-standard/ui';\nimport { getWalletUniqueIdentifier } from '../../utils/wallets.js';\n\nimport {\n\tgetSupportedIntentsFromFeature,\n\tinternalConnectWallet,\n} from '../actions/connect-wallet.js';\nimport type { Networks } from '../../utils/networks.js';\n\n/**\n * Attempts to connect to a previously authorized wallet account on mount and when new wallets are registered.\n */\nexport function autoConnectWallet({\n\tnetworks,\n\tstores: { $baseConnection, $compatibleWallets },\n\tstorage,\n\tstorageKey,\n}: {\n\tnetworks: Networks;\n\tstores: DAppKitStores;\n\tstorage: StateStorage;\n\tstorageKey: string;\n}) {\n\tonMount($compatibleWallets, () => {\n\t\treturn $compatibleWallets.listen(\n\t\t\tasync (wallets, oldWallets: readonly UiWallet[] | undefined) => {\n\t\t\t\tif (oldWallets && oldWallets.length > wallets.length) return;\n\n\t\t\t\tconst connection = $baseConnection.get();\n\t\t\t\tif (connection.status !== 'disconnected') return;\n\n\t\t\t\tconst savedWalletAccount = await task(() => {\n\t\t\t\t\treturn getSavedWalletAccount({\n\t\t\t\t\t\tnetworks,\n\t\t\t\t\t\tstorage,\n\t\t\t\t\t\tstorageKey,\n\t\t\t\t\t\twallets,\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tif (savedWalletAccount) {\n\t\t\t\t\t$baseConnection.set({\n\t\t\t\t\t\tstatus: 'connected',\n\t\t\t\t\t\tcurrentAccount: savedWalletAccount.account,\n\t\t\t\t\t\tsupportedIntents: savedWalletAccount.supportedIntents,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t});\n}\n\nasync function getSavedWalletAccount({\n\tnetworks,\n\tstorage,\n\tstorageKey,\n\twallets,\n}: {\n\tnetworks: Networks;\n\tstorage: StateStorage;\n\tstorageKey: string;\n\twallets: readonly UiWallet[];\n}) {\n\tconst savedWalletIdAndAddress = await storage.getItem(storageKey);\n\tif (!savedWalletIdAndAddress) {\n\t\treturn null;\n\t}\n\n\tconst [savedWalletId, savedAccountAddress, savedIntents] = savedWalletIdAndAddress.split(':');\n\tif (!savedWalletId || !savedAccountAddress) {\n\t\treturn null;\n\t}\n\n\tconst targetWallet = wallets.find(\n\t\t(wallet) => getWalletUniqueIdentifier(wallet) === savedWalletId,\n\t);\n\n\tif (!targetWallet) {\n\t\treturn null;\n\t}\n\n\tconst existingAccount = targetWallet.accounts.find(\n\t\t(account) => account.address === savedAccountAddress,\n\t);\n\n\tif (existingAccount) {\n\t\tconst supportedIntents = savedIntents ? savedIntents.split(',') : null;\n\n\t\treturn {\n\t\t\taccount: existingAccount,\n\t\t\tsupportedIntents: supportedIntents ?? (await getSupportedIntentsFromFeature(targetWallet)),\n\t\t};\n\t}\n\n\t// For wallets that don't pre-populate the accounts array on page load,\n\t// we need to silently request authorization and get the account directly.\n\tconst { accounts: alreadyAuthorizedAccounts, supportedIntents } = await internalConnectWallet(\n\t\ttargetWallet,\n\t\tnetworks,\n\t\t{\n\t\t\tsilent: true,\n\t\t},\n\t);\n\n\tconst account = alreadyAuthorizedAccounts.find(\n\t\t(account) => account.address === savedAccountAddress,\n\t);\n\n\treturn account ? { account, supportedIntents } : null;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport type StateStorage = {\n\tgetItem: (name: string) => string | null | Promise<string | null>;\n\tsetItem: (name: string, value: string) => unknown | Promise<unknown>;\n\tremoveItem: (name: string) => unknown | Promise<unknown>;\n};\n\nexport const DEFAULT_STORAGE_KEY = 'mysten-dapp-kit:selected-wallet-and-address';\n\nexport function getDefaultStorage() {\n\treturn isLocalStorageAvailable() ? localStorage : createInMemoryStorage();\n}\n\nexport function createInMemoryStorage(): StateStorage {\n\tconst store = new Map<string, string>();\n\treturn {\n\t\tgetItem(key: string) {\n\t\t\treturn store.get(key) ?? null;\n\t\t},\n\t\tsetItem(key: string, value: string) {\n\t\t\tstore.set(key, value);\n\t\t},\n\t\tremoveItem(key: string) {\n\t\t\tstore.delete(key);\n\t\t},\n\t};\n}\n\nfunction isLocalStorageAvailable() {\n\ttry {\n\t\tconst testKey = '__storage_test__';\n\t\tlocalStorage.setItem(testKey, 'test');\n\t\tlocalStorage.removeItem(testKey);\n\t\treturn true;\n\t} catch {\n\t\treturn false;\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { onMount } from 'nanostores';\nimport type { DAppKitStores } from '../store.js';\nimport type { StateStorage } from '../../utils/storage.js';\nimport type { UiWalletAccount } from '@wallet-standard/ui';\nimport { getWalletUniqueIdentifier } from '../../utils/wallets.js';\n\n/**\n * Syncs the most recently connected wallet name and address to storage.\n */\nexport function syncStateToStorage({\n\tstores: { $connection },\n\tstorage,\n\tstorageKey,\n}: {\n\tstores: DAppKitStores;\n\tstorage: StateStorage;\n\tstorageKey: string;\n}) {\n\tonMount($connection, () => {\n\t\treturn $connection.listen((connection, oldConnection) => {\n\t\t\tif (!oldConnection || oldConnection.status === connection.status) return;\n\n\t\t\tif (connection.account) {\n\t\t\t\tstorage.setItem(\n\t\t\t\t\tstorageKey,\n\t\t\t\t\tgetSavedAccountStorageKey(connection.account, connection.supportedIntents),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tstorage.removeItem(storageKey);\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport function getSavedAccountStorageKey(\n\taccount: UiWalletAccount,\n\tsupportedIntents: string[],\n): string {\n\tconst walletIdentifier = getWalletUniqueIdentifier(account);\n\treturn `${walletIdentifier.replace(':', '_')}:${account.address}:${supportedIntents.join(',')}:`;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { onMount } from 'nanostores';\nimport type { DAppKitStores } from '../store.js';\n\nimport type { UiWallet, UiWalletAccount } from '@wallet-standard/ui';\nimport { uiWalletAccountBelongsToUiWallet, uiWalletAccountsAreSame } from '@wallet-standard/ui';\n\n/**\n * Handles updating the connection state in response to wallets and their properties changing.\n */\nexport function manageWalletConnection({ $compatibleWallets, $baseConnection }: DAppKitStores) {\n\tonMount($compatibleWallets, () => {\n\t\treturn $compatibleWallets.listen(async (wallets) => {\n\t\t\tconst connection = $baseConnection.get();\n\t\t\tif (connection.status !== 'connected') return;\n\n\t\t\tconst resolvedAccount = resolveWalletAccount(connection.currentAccount, wallets);\n\t\t\tif (resolvedAccount) {\n\t\t\t\t// Update the current account in response to the account properties changing.\n\t\t\t\t// If the current account was deemed incompatible, we'll default to the\n\t\t\t\t// first account in the wallet:\n\t\t\t\t$baseConnection.setKey('currentAccount', resolvedAccount);\n\t\t\t} else {\n\t\t\t\t// Reset the connection if the underlying wallet was un-registered or deemed incompatible:\n\t\t\t\t$baseConnection.set({\n\t\t\t\t\tstatus: 'disconnected',\n\t\t\t\t\tcurrentAccount: null,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction resolveWalletAccount(currentAccount: UiWalletAccount, wallets: readonly UiWallet[]) {\n\tfor (const wallet of wallets) {\n\t\tfor (const walletAccount of wallet.accounts) {\n\t\t\tif (uiWalletAccountsAreSame(currentAccount, walletAccount)) {\n\t\t\t\treturn walletAccount;\n\t\t\t}\n\t\t}\n\n\t\tif (uiWalletAccountBelongsToUiWallet(currentAccount, wallet) && wallet.accounts[0]) {\n\t\t\treturn wallet.accounts[0];\n\t\t}\n\t}\n\n\treturn null;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKitStores } from '../store.js';\nimport type { Networks } from '../../utils/networks.js';\n\nexport function switchNetworkCreator<TNetworks extends Networks>({\n\t$currentNetwork,\n}: DAppKitStores<TNetworks>) {\n\t/**\n\t * Switches the currently selected network to the specified network.\n\t */\n\treturn function switchNetwork<T extends TNetworks[number]>(network: T | TNetworks[number]) {\n\t\t$currentNetwork.set(network);\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { StandardDisconnectFeature, StandardDisconnectMethod } from '@mysten/wallet-standard';\nimport { StandardDisconnect } from '@mysten/wallet-standard';\nimport type { DAppKitStores } from '../store.js';\nimport { task } from 'nanostores';\nimport { getWalletFeature } from '@wallet-standard/ui';\nimport { WalletNotConnectedError } from '../../utils/errors.js';\n\nexport type DisconnectWalletArgs = Parameters<StandardDisconnectMethod>;\n\nexport function disconnectWalletCreator({ $baseConnection, $connection }: DAppKitStores) {\n\t/**\n\t * Disconnects the current wallet from the application and prompts the current wallet\n\t * to deauthorize accounts from the current domain depending on the wallet's implemetation\n\t * of `standard:disconnect`.\n\t */\n\treturn async function disconnectWallet(...standardDisconnectArgs: DisconnectWalletArgs) {\n\t\treturn await task(async () => {\n\t\t\tconst { wallet } = $connection.get();\n\t\t\tif (!wallet) {\n\t\t\t\tthrow new WalletNotConnectedError('No wallet is connected.');\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst { disconnect } = getWalletFeature(\n\t\t\t\t\twallet,\n\t\t\t\t\tStandardDisconnect,\n\t\t\t\t) as StandardDisconnectFeature[typeof StandardDisconnect];\n\n\t\t\t\tawait disconnect(...standardDisconnectArgs);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.warn('Failed to disconnect the current wallet from the application.', error);\n\t\t\t} finally {\n\t\t\t\t$baseConnection.set({\n\t\t\t\t\tstatus: 'disconnected',\n\t\t\t\t\tcurrentAccount: null,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKitStores } from '../store.js';\nimport { uiWalletAccountBelongsToUiWallet } from '@wallet-standard/ui';\nimport type { UiWalletAccount } from '@wallet-standard/ui';\nimport { WalletNotConnectedError, WalletAccountNotFoundError } from '../../utils/errors.js';\n\nexport type SwitchAccountArgs = {\n\t/** The account to switch to. */\n\taccount: UiWalletAccount;\n};\n\nexport function switchAccountCreator({ $baseConnection, $connection }: DAppKitStores) {\n\t/**\n\t * Switches the currently selected account to the specified account.\n\t */\n\treturn function switchAccount({ account }: SwitchAccountArgs) {\n\t\tconst { wallet } = $connection.get();\n\t\tif (!wallet) {\n\t\t\tthrow new WalletNotConnectedError('No wallet is connected.');\n\t\t}\n\n\t\tif (!uiWalletAccountBelongsToUiWallet(account, wallet)) {\n\t\t\tthrow new WalletAccountNotFoundError(\n\t\t\t\t`No account with address ${account.address} is connected to ${wallet.name}.`,\n\t\t\t);\n\t\t}\n\n\t\t$baseConnection.setKey('currentAccount', account);\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKitStores } from '../store.js';\nimport { SuiSignPersonalMessage } from '@mysten/wallet-standard';\nimport type {\n\tSuiSignPersonalMessageFeature,\n\tSuiSignPersonalMessageInput,\n} from '@mysten/wallet-standard';\nimport { getWalletAccountForUiWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as getWalletAccountForUiWalletAccount } from '@wallet-standard/ui-registry';\nimport { WalletNotConnectedError } from '../../utils/errors.js';\nimport { getChain } from '../../utils/networks.js';\nimport { getAccountFeature } from '../../utils/wallets.js';\n\nexport type SignPersonalMessageArgs = Omit<SuiSignPersonalMessageInput, 'account' | 'chain'>;\n\nexport function signPersonalMessageCreator({ $connection, $currentNetwork }: DAppKitStores) {\n\t/**\n\t * Prompts the specified wallet account to sign a personal message.\n\t */\n\treturn async function signPersonalMessage({ ...standardArgs }: SignPersonalMessageArgs) {\n\t\tconst { account } = $connection.get();\n\t\tif (!account) {\n\t\t\tthrow new WalletNotConnectedError('No wallet is connected.');\n\t\t}\n\n\t\tconst currentNetwork = $currentNetwork.get();\n\t\tconst chain = getChain(currentNetwork);\n\n\t\tconst signPersonalMessageFeature = getAccountFeature({\n\t\t\taccount: account,\n\t\t\tchain,\n\t\t\tfeatureName: SuiSignPersonalMessage,\n\t\t}) as SuiSignPersonalMessageFeature[typeof SuiSignPersonalMessage];\n\n\t\treturn await signPersonalMessageFeature.signPersonalMessage({\n\t\t\t...standardArgs,\n\t\t\taccount: getWalletAccountForUiWalletAccount(account),\n\t\t\tchain,\n\t\t});\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n\textractStatusFromEffectsBcs,\n\tparseTransactionBcs,\n\tparseTransactionEffectsBcs,\n\ttype SuiClientTypes,\n} from '@mysten/sui/client';\n\nexport type TransactionResultWithEffects = SuiClientTypes.TransactionResult<{\n\teffects: true;\n\ttransaction: true;\n\tbcs: true;\n}>;\n\nexport function buildTransactionResult(\n\tdigest: string,\n\tsignature: string,\n\ttransactionBytes: Uint8Array,\n\teffectsBytes: Uint8Array,\n): TransactionResultWithEffects {\n\tconst status = extractStatusFromEffectsBcs(effectsBytes);\n\n\tlet effects: SuiClientTypes.TransactionEffects | null = null;\n\ttry {\n\t\teffects = parseTransactionEffectsBcs(effectsBytes);\n\t} catch {\n\t\tconsole.warn(\n\t\t\t'Parsing transaction effects failed, you may need to update the SDK to pickup the latest bcs types',\n\t\t);\n\t}\n\n\tconst txResult: SuiClientTypes.Transaction<{ effects: true; transaction: true; bcs: true }> = {\n\t\tdigest,\n\t\tsignatures: [signature],\n\t\tepoch: null,\n\t\tstatus,\n\t\teffects: effects as SuiClientTypes.TransactionEffects,\n\t\ttransaction: parseTransactionBcs(transactionBytes),\n\t\tbalanceChanges: undefined,\n\t\tevents: undefined,\n\t\tobjectTypes: undefined,\n\t\tbcs: transactionBytes,\n\t};\n\n\treturn status.success\n\t\t? { $kind: 'Transaction', Transaction: txResult }\n\t\t: { $kind: 'FailedTransaction', FailedTransaction: txResult };\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKitStores } from '../store.js';\nimport {\n\tSuiSignAndExecuteTransaction,\n\tSuiSignAndExecuteTransactionBlock,\n} from '@mysten/wallet-standard';\nimport type {\n\tSuiSignAndExecuteTransactionBlockFeature,\n\tSuiSignAndExecuteTransactionFeature,\n\tSuiSignAndExecuteTransactionInput,\n} from '@mysten/wallet-standard';\nimport { getWalletAccountForUiWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as getWalletAccountForUiWalletAccount } from '@wallet-standard/ui-registry';\nimport { FeatureNotSupportedError, WalletNotConnectedError } from '../../utils/errors.js';\nimport { getChain } from '../../utils/networks.js';\nimport { Transaction } from '@mysten/sui/transactions';\nimport { tryGetAccountFeature } from '../../utils/wallets.js';\nimport { bcs } from '@mysten/sui/bcs';\nimport { fromBase64 } from '@mysten/utils';\nimport {\n\tbuildTransactionResult,\n\ttype TransactionResultWithEffects,\n} from '../../utils/transaction-result.js';\n\nexport type SignAndExecuteTransactionArgs = {\n\ttransaction: Transaction | string;\n} & Omit<SuiSignAndExecuteTransactionInput, 'account' | 'chain' | 'transaction'>;\n\nexport type SignAndExecuteTransactionResult = TransactionResultWithEffects;\n\nexport function signAndExecuteTransactionCreator({ $connection, $currentClient }: DAppKitStores) {\n\t/**\n\t * Prompts the specified wallet account to sign and execute a transaction.\n\t */\n\treturn async function signAndExecuteTransaction({\n\t\ttransaction,\n\t\t...standardArgs\n\t}: SignAndExecuteTransactionArgs): Promise<SignAndExecuteTransactionResult> {\n\t\tconst { account, supportedIntents } = $connection.get();\n\t\tif (!account) {\n\t\t\tthrow new WalletNotConnectedError('No wallet is connected.');\n\t\t}\n\n\t\tconst underlyingAccount = getWalletAccountForUiWalletAccount(account);\n\t\tconst suiClient = $currentClient.get();\n\t\tconst chain = getChain(suiClient.network);\n\n\t\tconst transactionWrapper = {\n\t\t\ttoJSON: async () => {\n\t\t\t\tif (typeof transaction === 'string') {\n\t\t\t\t\treturn transaction;\n\t\t\t\t}\n\n\t\t\t\ttransaction.setSenderIfNotSet(account.address);\n\t\t\t\treturn await transaction.toJSON({ client: suiClient, supportedIntents });\n\t\t\t},\n\t\t};\n\n\t\tconst signAndExecuteTransactionFeature = tryGetAccountFeature({\n\t\t\taccount,\n\t\t\tchain,\n\t\t\tfeatureName: SuiSignAndExecuteTransaction,\n\t\t}) as SuiSignAndExecuteTransactionFeature[typeof SuiSignAndExecuteTransaction];\n\n\t\tif (signAndExecuteTransactionFeature) {\n\t\t\tconst result = await signAndExecuteTransactionFeature.signAndExecuteTransaction({\n\t\t\t\t...standardArgs,\n\t\t\t\taccount: underlyingAccount,\n\t\t\t\ttransaction: transactionWrapper,\n\t\t\t\tchain,\n\t\t\t});\n\n\t\t\tconst transactionBytes = fromBase64(result.bytes);\n\t\t\tconst effectsBytes = fromBase64(result.effects);\n\t\t\treturn buildTransactionResult(\n\t\t\t\tresult.digest,\n\t\t\t\tresult.signature,\n\t\t\t\ttransactionBytes,\n\t\t\t\teffectsBytes,\n\t\t\t);\n\t\t}\n\n\t\tconst signAndExecuteTransactionBlockFeature = tryGetAccountFeature({\n\t\t\taccount,\n\t\t\tchain,\n\t\t\tfeatureName: SuiSignAndExecuteTransactionBlock,\n\t\t}) as SuiSignAndExecuteTransactionBlockFeature[typeof SuiSignAndExecuteTransactionBlock];\n\n\t\tif (signAndExecuteTransactionBlockFeature) {\n\t\t\tconst transactionBlock = Transaction.from(await transactionWrapper.toJSON());\n\t\t\tconst { digest, rawEffects, rawTransaction } =\n\t\t\t\tawait signAndExecuteTransactionBlockFeature.signAndExecuteTransactionBlock({\n\t\t\t\t\taccount,\n\t\t\t\t\tchain,\n\t\t\t\t\ttransactionBlock,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tshowRawEffects: true,\n\t\t\t\t\t\tshowRawInput: true,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\tconst [\n\t\t\t\t{\n\t\t\t\t\ttxSignatures: [signature],\n\t\t\t\t\tintentMessage: { value: bcsTransaction },\n\t\t\t\t},\n\t\t\t] = bcs.SenderSignedData.parse(fromBase64(rawTransaction!));\n\n\t\t\tconst transactionBytes = bcs.TransactionData.serialize(bcsTransaction).toBytes();\n\t\t\tconst effectsBytes = new Uint8Array(rawEffects!);\n\t\t\treturn buildTransactionResult(digest, signature, transactionBytes, effectsBytes);\n\t\t}\n\n\t\tthrow new FeatureNotSupportedError(\n\t\t\t`The account ${account.address} does not support signing and executing transactions.`,\n\t\t);\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKitStores } from '../store.js';\nimport { SuiSignTransaction, SuiSignTransactionBlock } from '@mysten/wallet-standard';\nimport type {\n\tSuiSignTransactionBlockFeature,\n\tSuiSignTransactionFeature,\n\tSuiSignTransactionInput,\n} from '@mysten/wallet-standard';\nimport { getWalletAccountForUiWalletAccount_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as getWalletAccountForUiWalletAccount } from '@wallet-standard/ui-registry';\nimport { FeatureNotSupportedError, WalletNotConnectedError } from '../../utils/errors.js';\nimport { getChain } from '../../utils/networks.js';\nimport { Transaction } from '@mysten/sui/transactions';\nimport { tryGetAccountFeature } from '../../utils/wallets.js';\n\nexport type SignTransactionArgs = {\n\ttransaction: Transaction | string;\n} & Omit<SuiSignTransactionInput, 'account' | 'chain' | 'transaction'>;\n\nexport function signTransactionCreator({ $connection, $currentClient }: DAppKitStores) {\n\t/**\n\t * Prompts the specified wallet account to sign a transaction.\n\t */\n\treturn async function signTransaction({ transaction, ...standardArgs }: SignTransactionArgs) {\n\t\tconst { account, supportedIntents } = $connection.get();\n\t\tif (!account) {\n\t\t\tthrow new WalletNotConnectedError('No wallet is connected.');\n\t\t}\n\n\t\tconst underlyingAccount = getWalletAccountForUiWalletAccount(account);\n\t\tconst suiClient = $currentClient.get();\n\t\tconst chain = getChain(suiClient.network);\n\n\t\tconst transactionWrapper = {\n\t\t\ttoJSON: async () => {\n\t\t\t\tif (typeof transaction === 'string') {\n\t\t\t\t\treturn transaction;\n\t\t\t\t}\n\n\t\t\t\ttransaction.setSenderIfNotSet(account.address);\n\t\t\t\treturn await transaction.toJSON({ client: suiClient, supportedIntents });\n\t\t\t},\n\t\t};\n\n\t\tconst signTransactionFeature = tryGetAccountFeature({\n\t\t\taccount,\n\t\t\tchain,\n\t\t\tfeatureName: SuiSignTransaction,\n\t\t}) as SuiSignTransactionFeature[typeof SuiSignTransaction];\n\n\t\tif (signTransactionFeature) {\n\t\t\treturn await signTransactionFeature.signTransaction({\n\t\t\t\t...standardArgs,\n\t\t\t\ttransaction: transactionWrapper,\n\t\t\t\taccount: underlyingAccount,\n\t\t\t\tchain,\n\t\t\t});\n\t\t}\n\n\t\tconst signTransactionBlockFeature = tryGetAccountFeature({\n\t\t\taccount,\n\t\t\tchain,\n\t\t\tfeatureName: SuiSignTransactionBlock,\n\t\t}) as SuiSignTransactionBlockFeature[typeof SuiSignTransactionBlock];\n\n\t\tif (signTransactionBlockFeature) {\n\t\t\tconst transaction = Transaction.from(await transactionWrapper.toJSON());\n\t\t\tconst { transactionBlockBytes, signature } =\n\t\t\t\tawait signTransactionBlockFeature.signTransactionBlock({\n\t\t\t\t\ttransactionBlock: transaction,\n\t\t\t\t\taccount: underlyingAccount,\n\t\t\t\t\tchain,\n\t\t\t\t});\n\n\t\t\treturn { bytes: transactionBlockBytes, signature };\n\t\t}\n\n\t\tthrow new FeatureNotSupportedError(\n\t\t\t`The account ${account.address} does not support signing transactions.`,\n\t\t);\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { registerSlushWallet } from '@mysten/slush-wallet';\nimport type { SlushWalletConfig } from '../core/types.js';\nimport type { WalletInitializer } from './index.js';\n\nexport function slushWebWalletInitializer(config?: SlushWalletConfig): WalletInitializer {\n\treturn {\n\t\tid: 'slush-web-wallet-initializer',\n\t\tasync initialize() {\n\t\t\tconst appName = config?.appName || getDefaultAppName();\n\t\t\tconst result = await registerSlushWallet(appName, {\n\t\t\t\torigin: config?.origin,\n\t\t\t\tmetadataApiUrl: config?.metadataApiUrl,\n\t\t\t});\n\n\t\t\tif (!result) throw new Error('Registration un-successful.');\n\t\t\treturn { unregister: result.unregister };\n\t\t},\n\t};\n}\n\nfunction getDefaultAppName() {\n\tconst appNameElement = document.querySelector<HTMLMetaElement>(`meta[name=\"application-name\"]`);\n\treturn appNameElement?.content || document.title;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Networks } from '../utils/networks.js';\nimport type { DAppKitCompatibleClient } from '../core/types.js';\n\nexport type UnregisterCallback = () => void;\n\ntype InitializeArgs = {\n\tnetworks: Networks;\n\tgetClient: (network?: Networks[number]) => DAppKitCompatibleClient;\n};\n\ntype InitializeResult = {\n\tunregister: () => void;\n};\n\nexport type WalletInitializer = {\n\tid: string;\n\tinitialize(input: InitializeArgs): InitializeResult | Promise<InitializeResult>;\n};\n\n// The wallet standard registers wallets globally and uses object references\n// to keep prevent duplicate wallets from being registered. For applications\n// that register interfaces with hot module replacement enabled locally, this\n// doesn't quite work as expected as the original object reference gets lost.\n//\n// To work around this and other complexities around when nanostore stores mount\n// and unmount, we can simply track initializers at the module level to ensure\n// that wallets get re-registered and de-duped properly when there are multiple\n// dApp Kit instances, across HMR reloads, etc.\nconst initializerMap = new Map<string, UnregisterCallback>();\n\nexport async function registerAdditionalWallets(\n\tinitializers: WalletInitializer[],\n\targs: InitializeArgs,\n) {\n\tinitializerMap.forEach((unregister) => unregister());\n\tinitializerMap.clear();\n\n\tconst uniqueInitializers = [...new Map(initializers.map((init) => [init.id, init])).values()];\n\tconst initializePromises = uniqueInitializers.map(async (initializer) => {\n\t\tconst result = await initializer.initialize(args);\n\t\treturn { initializer, result };\n\t});\n\n\tconst initializerResults = await Promise.allSettled(initializePromises);\n\tfor (const settledResult of initializerResults) {\n\t\tif (settledResult.status === 'fulfilled') {\n\t\t\tconst { initializer, result } = settledResult.value;\n\t\t\tinitializerMap.set(initializer.id, result.unregister);\n\t\t} else {\n\t\t\tconsole.warn(`Skipping wallet initializer: \"${settledResult.reason}\".`);\n\t\t}\n\t}\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Ed25519Keypair } from '@mysten/sui/keypairs/ed25519';\nimport { Transaction } from '@mysten/sui/transactions';\nimport type {\n\tIdentifierArray,\n\tIdentifierString,\n\tStandardConnectFeature,\n\tStandardConnectMethod,\n\tStandardEventsFeature,\n\tStandardEventsOnMethod,\n\tSuiFeatures,\n\tSuiSignAndExecuteTransactionMethod,\n\tSuiSignPersonalMessageMethod,\n\tSuiSignTransactionMethod,\n} from '@mysten/wallet-standard';\nimport {\n\tgetWallets,\n\tReadonlyWalletAccount,\n\tStandardConnect,\n\tStandardEvents,\n\tSuiSignAndExecuteTransaction,\n\tSuiSignPersonalMessage,\n\tSuiSignTransaction,\n} from '@mysten/wallet-standard';\nimport type { Wallet } from '@mysten/wallet-standard';\nimport { toBase64 } from '@mysten/utils';\nimport type { ClientWithCoreApi } from '@mysten/sui/client';\nimport type { WalletInitializer } from './index.js';\nimport { getChain } from '../utils/networks.js';\n\nexport function unsafeBurnerWalletInitializer(): WalletInitializer {\n\treturn {\n\t\tid: 'unsafe-burner-initalizer',\n\t\tasync initialize({ networks, getClient }) {\n\t\t\tconst wallet = new UnsafeBurnerWallet({ clients: networks.map(getClient) });\n\t\t\tconst unregister = getWallets().register(wallet);\n\t\t\treturn { unregister };\n\t\t},\n\t};\n}\n\nexport class UnsafeBurnerWallet implements Wallet {\n\t#chainConfig: Record<IdentifierString, ClientWithCoreApi>;\n\t#keypair = new Ed25519Keypair();\n\t#account: ReadonlyWalletAccount;\n\n\tconstructor({ clients }: { clients: ClientWithCoreApi[] }) {\n\t\tthis.#chainConfig = clients.reduce<Record<IdentifierString, ClientWithCoreApi>>(\n\t\t\t(accumulator, client) => {\n\t\t\t\tconst chain = getChain(client.network);\n\t\t\t\taccumulator[chain] = client;\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{},\n\t\t);\n\n\t\tthis.#account = new ReadonlyWalletAccount({\n\t\t\taddress: this.#keypair.getPublicKey().toSuiAddress(),\n\t\t\tpublicKey: this.#keypair.getPublicKey().toSuiBytes(),\n\t\t\tchains: this.chains,\n\t\t\tfeatures: [SuiSignTransaction, SuiSignAndExecuteTransaction, SuiSignPersonalMessage],\n\t\t});\n\n\t\tconsole.warn(\n\t\t\t'Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.',\n\t\t);\n\t}\n\n\tget version() {\n\t\treturn '1.0.0' as const;\n\t}\n\n\tget name() {\n\t\treturn 'Unsafe Burner Wallet' as const;\n\t}\n\n\tget icon() {\n\t\treturn 'data:image/png;base64,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' as const;\n\t}\n\n\tget chains() {\n\t\treturn Object.keys(this.#chainConfig) as IdentifierArray;\n\t}\n\n\tget accounts() {\n\t\treturn [this.#account];\n\t}\n\n\tget features(): StandardConnectFeature & StandardEventsFeature & SuiFeatures {\n\t\treturn {\n\t\t\t[StandardConnect]: {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\tconnect: this.#connect,\n\t\t\t},\n\t\t\t[StandardEvents]: {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\ton: this.#on,\n\t\t\t},\n\t\t\t[SuiSignPersonalMessage]: {\n\t\t\t\tversion: '1.1.0',\n\t\t\t\tsignPersonalMessage: this.#signPersonalMessage,\n\t\t\t},\n\t\t\t[SuiSignTransaction]: {\n\t\t\t\tversion: '2.0.0',\n\t\t\t\tsignTransaction: this.#signTransaction,\n\t\t\t},\n\t\t\t[SuiSignAndExecuteTransaction]: {\n\t\t\t\tversion: '2.0.0',\n\t\t\t\tsignAndExecuteTransaction: this.#signAndExecuteTransaction,\n\t\t\t},\n\t\t};\n\t}\n\n\t#on: StandardEventsOnMethod = () => {\n\t\treturn () => {};\n\t};\n\n\t#connect: StandardConnectMethod = async () => {\n\t\treturn { accounts: this.accounts };\n\t};\n\n\t#signPersonalMessage: SuiSignPersonalMessageMethod = async (messageInput) => {\n\t\treturn await this.#keypair.signPersonalMessage(messageInput.message);\n\t};\n\n\t#signTransaction: SuiSignTransactionMethod = async ({ transaction, signal, chain }) => {\n\t\tsignal?.throwIfAborted();\n\n\t\tconst client = this.#chainConfig[chain];\n\t\tif (!client) throw new Error(`Invalid chain \"${chain}\" specified.`);\n\n\t\tconst parsedTransaction = Transaction.from(await transaction.toJSON());\n\t\tconst builtTransaction = await parsedTransaction.build({ client });\n\t\treturn await this.#keypair.signTransaction(builtTransaction);\n\t};\n\n\t#signAndExecuteTransaction: SuiSignAndExecuteTransactionMethod = async ({\n\t\ttransaction,\n\t\tsignal,\n\t\tchain,\n\t}) => {\n\t\tsignal?.throwIfAborted();\n\n\t\tconst client = this.#chainConfig[chain];\n\t\tif (!client) throw new Error(`Invalid chain \"${chain}\" specified.`);\n\n\t\tconst parsedTransaction = Transaction.from(await transaction.toJSON());\n\t\tconst bytes = await parsedTransaction.build({ client });\n\n\t\tconst result = await this.#keypair.signAndExecuteTransaction({\n\t\t\ttransaction: parsedTransaction,\n\t\t\tclient,\n\t\t});\n\n\t\tconst tx = result.Transaction ?? result.FailedTransaction;\n\t\treturn {\n\t\t\tbytes: toBase64(bytes),\n\t\t\tsignature: tx.signatures[0],\n\t\t\tdigest: tx.digest,\n\t\t\teffects: toBase64(tx.effects.bcs!),\n\t\t};\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { ReadableAtom } from 'nanostores';\nimport { readonlyType } from 'nanostores';\nimport type { DAppKitStores } from './store.js';\nimport { createStores } from './store.js';\nimport { syncRegisteredWallets } from './initializers/registered-wallets.js';\nimport { autoConnectWallet } from './initializers/autoconnect-wallet.js';\nimport { createInMemoryStorage, DEFAULT_STORAGE_KEY, getDefaultStorage } from '../utils/storage.js';\nimport { syncStateToStorage } from './initializers/sync-state-to-storage.js';\nimport { manageWalletConnection } from './initializers/manage-connection.js';\nimport { createNetworkConfig } from '../utils/networks.js';\nimport type { Networks } from '../utils/networks.js';\nimport type { CreateDAppKitOptions, DAppKitCompatibleClient } from './types.js';\nimport { switchNetworkCreator } from './actions/switch-network.js';\nimport type { ConnectWalletArgs } from './actions/connect-wallet.js';\nimport { connectWalletCreator } from './actions/connect-wallet.js';\nimport { disconnectWalletCreator } from './actions/disconnect-wallet.js';\nimport type { SwitchAccountArgs } from './actions/switch-account.js';\nimport { switchAccountCreator } from './actions/switch-account.js';\nimport type { SignPersonalMessageArgs } from './actions/sign-personal-message.js';\nimport { signPersonalMessageCreator } from './actions/sign-personal-message.js';\nimport type {\n\tSignAndExecuteTransactionArgs,\n\tSignAndExecuteTransactionResult,\n} from './actions/sign-and-execute-transaction.js';\nimport { signAndExecuteTransactionCreator } from './actions/sign-and-execute-transaction.js';\nimport type { SignTransactionArgs } from './actions/sign-transaction.js';\nimport { signTransactionCreator } from './actions/sign-transaction.js';\nimport { slushWebWalletInitializer } from '../wallets/slush-web.js';\nimport { registerAdditionalWallets } from '../wallets/index.js';\nimport { unsafeBurnerWalletInitializer } from '../wallets/unsafe-burner.js';\nimport type { SignedPersonalMessage, SignedTransaction } from '@mysten/wallet-standard';\nimport type { UiWalletAccount } from '@wallet-standard/ui';\n\nexport type DAppKit<\n\tTNetworks extends Networks = [],\n\tClient extends DAppKitCompatibleClient = DAppKitCompatibleClient,\n> = {\n\tnetworks: TNetworks;\n\tgetClient: (network?: TNetworks[number]) => Client;\n\tsignTransaction: (args: SignTransactionArgs) => Promise<SignedTransaction>;\n\tsignAndExecuteTransaction: (\n\t\targs: SignAndExecuteTransactionArgs,\n\t) => Promise<SignAndExecuteTransactionResult>;\n\tsignPersonalMessage: (args: SignPersonalMessageArgs) => Promise<SignedPersonalMessage>;\n\tconnectWallet: (args: ConnectWalletArgs) => Promise<{\n\t\taccounts: UiWalletAccount[];\n\t}>;\n\tdisconnectWallet: () => Promise<void>;\n\tswitchAccount: (args: SwitchAccountArgs) => void;\n\tswitchNetwork: (network: TNetworks[number]) => void;\n\tstores: {\n\t\t$wallets: DAppKitStores['$compatibleWallets'];\n\t\t$connection: DAppKitStores['$connection'];\n\t\t$currentNetwork: ReadableAtom<TNetworks[number]>;\n\t\t$currentClient: ReadableAtom<Client>;\n\t};\n};\n\nexport function createDAppKit<\n\tTNetworks extends Networks = Networks,\n\tClient extends DAppKitCompatibleClient = DAppKitCompatibleClient,\n>({\n\tautoConnect = true,\n\tnetworks,\n\tcreateClient,\n\tdefaultNetwork = networks[0],\n\tenableBurnerWallet = false,\n\tslushWalletConfig,\n\tstorage = getDefaultStorage(),\n\tstorageKey = DEFAULT_STORAGE_KEY,\n\twalletInitializers = [],\n}: CreateDAppKitOptions<TNetworks, Client>): DAppKit<TNetworks, Client> {\n\tconst networkConfig = createNetworkConfig(networks, createClient);\n\tconst stores = createStores({ defaultNetwork, getClient: networkConfig.getClient });\n\n\tfunction getClient<T extends TNetworks[number]>(network?: TNetworks[number] | T): Client {\n\t\treturn network ? networkConfig.getClient(network) : stores.$currentClient.get();\n\t}\n\n\tstorage ||= createInMemoryStorage();\n\tsyncStateToStorage({ stores, storageKey, storage });\n\n\tsyncRegisteredWallets(stores);\n\tmanageWalletConnection(stores);\n\n\tif (autoConnect) {\n\t\tautoConnectWallet({ networks, stores, storageKey, storage });\n\t}\n\n\tregisterAdditionalWallets(\n\t\t[\n\t\t\t...walletInitializers,\n\t\t\t...(enableBurnerWallet ? [unsafeBurnerWalletInitializer()] : []),\n\t\t\t...(slushWalletConfig !== null ? [slushWebWalletInitializer(slushWalletConfig)] : []),\n\t\t],\n\t\t{ networks, getClient },\n\t);\n\n\treturn {\n\t\tnetworks,\n\t\tgetClient,\n\t\tsignTransaction: signTransactionCreator(stores),\n\t\tsignAndExecuteTransaction: signAndExecuteTransactionCreator(stores),\n\t\tsignPersonalMessage: signPersonalMessageCreator(stores),\n\t\tconnectWallet: connectWalletCreator(stores, networks),\n\t\tdisconnectWallet: disconnectWalletCreator(stores),\n\t\tswitchAccount: switchAccountCreator(stores),\n\t\tswitchNetwork: switchNetworkCreator(stores),\n\t\tstores: {\n\t\t\t$wallets: stores.$compatibleWallets,\n\t\t\t$connection: stores.$connection,\n\t\t\t$currentNetwork: readonlyType(stores.$currentNetwork),\n\t\t\t$currentClient: stores.$currentClient,\n\t\t},\n\t};\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DefaultExpectedDppKit } from '@mysten/dapp-kit-core';\nimport { createContext } from 'react';\nimport type { PropsWithChildren } from 'react';\n\nexport const DAppKitContext = createContext<DefaultExpectedDppKit | null>(null);\n\nexport type DAppKitProviderProps = PropsWithChildren<{\n\tdAppKit: DefaultExpectedDppKit;\n}>;\n\nexport function DAppKitProvider({ dAppKit, children }: DAppKitProviderProps) {\n\treturn <DAppKitContext.Provider value={dAppKit}>{children}</DAppKitContext.Provider>;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useContext } from 'react';\nimport { DAppKitContext } from '../components/DAppKitProvider.js';\nimport type { DAppKit, RegisteredDAppKit } from '@mysten/dapp-kit-core';\n\nexport function useDAppKit<TDAppKit extends DAppKit<any> = RegisteredDAppKit>(dAppKit?: TDAppKit) {\n\tconst contextValue = useContext(DAppKitContext);\n\n\tif (dAppKit) {\n\t\treturn dAppKit;\n\t}\n\n\tif (!contextValue) {\n\t\tthrow new Error(\n\t\t\t'Could not find DAppKitContext. Ensure that you have set up the `DAppKitProvider` component.',\n\t\t);\n\t}\n\n\treturn contextValue as TDAppKit;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport * as React from 'react';\nimport { createComponent } from '@lit/react';\nimport { DAppKitConnectButton as ConnectButtonElement } from '@mysten/dapp-kit-core/web';\nimport { useDAppKit } from '../hooks/useDAppKit.js';\nimport type { ComponentProps } from 'react';\n\nexport type ConnectButtonProps = ComponentProps<typeof ConnectButtonComponent>;\n\nconst ConnectButtonComponent = createComponent({\n\treact: React,\n\ttagName: 'mysten-dapp-kit-connect-button',\n\telementClass: ConnectButtonElement,\n});\n\nexport function ConnectButton({ instance, ...props }: ConnectButtonProps) {\n\tconst dAppKit = useDAppKit(instance);\n\treturn <ConnectButtonComponent {...props} instance={dAppKit} />;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport * as React from 'react';\nimport { createComponent } from '@lit/react';\nimport { DAppKitConnectModal as ConnectModalElement } from '@mysten/dapp-kit-core/web';\nimport { useDAppKit } from '../hooks/useDAppKit.js';\nimport type { ComponentProps } from 'react';\n\nexport type ConnectModalProps = ComponentProps<typeof ConnectModalComponent>;\n\nconst ConnectModalComponent = createComponent({\n\treact: React,\n\ttagName: 'mysten-dapp-kit-connect-modal',\n\telementClass: ConnectModalElement,\n});\n\nexport function ConnectModal({ instance, ...props }: ConnectModalProps) {\n\tconst dAppKit = useDAppKit(instance);\n\treturn <ConnectModalComponent {...props} instance={dAppKit} />;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKit, RegisteredDAppKit } from '@mysten/dapp-kit-core';\nimport { useStore } from '@nanostores/react';\nimport { useDAppKit } from './useDAppKit.js';\n\nexport type UseWalletsOptions<TDAppKit extends DAppKit> = {\n\tdAppKit?: TDAppKit;\n};\n\nexport function useWallets<TDAppKit extends DAppKit<any> = RegisteredDAppKit>({\n\tdAppKit,\n}: UseWalletsOptions<TDAppKit> = {}) {\n\tconst instance = useDAppKit(dAppKit);\n\treturn useStore(instance.stores.$wallets);\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKit, RegisteredDAppKit } from '@mysten/dapp-kit-core';\nimport { useStore } from '@nanostores/react';\nimport { useDAppKit } from './useDAppKit.js';\n\nexport type UseWalletConnectionOptions<TDAppKit extends DAppKit<any>> = {\n\tdAppKit?: TDAppKit;\n};\n\nexport function useWalletConnection<TDAppKit extends DAppKit = RegisteredDAppKit>({\n\tdAppKit,\n}: UseWalletConnectionOptions<TDAppKit> = {}) {\n\tconst instance = useDAppKit(dAppKit);\n\treturn useStore(instance.stores.$connection);\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKit, RegisteredDAppKit } from '@mysten/dapp-kit-core';\nimport { useWalletConnection } from './useWalletConnection.js';\n\nexport type UseCurrentAccountOptions<TDAppKit extends DAppKit> = {\n\tdAppKit?: TDAppKit;\n};\n\nexport function useCurrentAccount<TDAppKit extends DAppKit<any> = RegisteredDAppKit>({\n\tdAppKit,\n}: UseCurrentAccountOptions<TDAppKit> = {}) {\n\tconst connection = useWalletConnection({ dAppKit });\n\treturn connection.account;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKit, RegisteredDAppKit } from '@mysten/dapp-kit-core';\nimport { useWalletConnection } from './useWalletConnection.js';\n\nexport type UseCurrentWalletOptions<TDAppKit extends DAppKit> = {\n\tdAppKit?: TDAppKit;\n};\n\nexport function useCurrentWallet<TDAppKit extends DAppKit<any> = RegisteredDAppKit>({\n\tdAppKit,\n}: UseCurrentWalletOptions<TDAppKit> = {}) {\n\tconst connection = useWalletConnection({ dAppKit });\n\treturn connection.wallet;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKit, RegisteredDAppKit } from '@mysten/dapp-kit-core';\nimport { useStore } from '@nanostores/react';\nimport { useDAppKit } from './useDAppKit.js';\n\nexport type UseCurrentClientOptions<TDAppKit extends DAppKit<any>> = {\n\tdAppKit?: TDAppKit;\n};\n\nexport function useCurrentClient<TDAppKit extends DAppKit<any> = RegisteredDAppKit>({\n\tdAppKit,\n}: UseCurrentClientOptions<TDAppKit> = {}) {\n\tconst instance = useDAppKit(dAppKit);\n\treturn useStore(instance.stores.$currentClient) as ReturnType<TDAppKit['getClient']>;\n}\n", "// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { DAppKit, RegisteredDAppKit } from '@mysten/dapp-kit-core';\nimport { useDAppKit } from './useDAppKit.js';\nimport { useStore } from '@nanostores/react';\n\nexport type UseCurrentNetworkOptions<TDAppKit extends DAppKit> = {\n\tdAppKit?: TDAppKit;\n};\n\nexport function useCurrentNetwork<TDAppKit extends DAppKit<any> = RegisteredDAppKit>({\n\tdAppKit,\n}: UseCurrentNetworkOptions<TDAppKit> = {}) {\n\tconst instance = useDAppKit(dAppKit);\n\treturn useStore<TDAppKit['stores']['$currentNetwork']>(instance.stores.$currentNetwork);\n}\n"],
  "mappings": "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",
  "names": ["atom", "_a", "MultiStoreController", "atom", "_a", "React", "$jscomp.defineProperty", "$jscomp.global", "$jscomp.getGlobal", "$jscomp.polyfill", "$jscomp.iteratorPrototype", "$jscomp.arrayIteratorImpl", "$jscomp.objectCreate", "$jscomp.construct", "$jscomp.getConstructImplementation", "$jscomp.setPrototypeOf", "polyfillWindow", "window", "undefined", "Set", "NativeHTMLElement", "HTMLElement", "nativeDefine", "customElements", "define", "nativeGet", "get", "nativeRegistry", "definitionForElement", "WeakMap", "pendingRegistryForElement", "globalDefinitionForConstructor", "scopeForElement", "constructor", "AsyncInfo", "resolve", "promise", "Promise", "r", "ShimmedCustomElementsRegistry", "_definitionsByTag", "Map", "_definitionsByClass", "_whenDefinedPromises", "_awaitingUpgrade", "tagName", "elementClass", "toLowerCase", "_getDefinition", "DOMException", "attributeChangedCallback", "prototype", "observedAttributes", "patchAttributes", "standInClass", "call", "formAssociated", "has", "add", "e", "definition", "connectedCallback", "disconnectedCallback", "adoptedCallback", "set", "createStandInElement", "awaiting", "delete", "$jscomp.makeIterator", "element", "customize", "info", "upgrade", "args", "creationContext", "push", "$jscomp.arrayFromIterable", "pop", "_upgradeWhenDefined", "shouldUpgrade", "upgradingInstance", "window.HTMLElement", "instance", "TypeError", "Reflect", "construct", "Object", "setPrototypeOf", "scope", "getRootNode", "document", "ShadowRoot", "context", "length", "CustomElementRegistry", "registry", "$jscomp.global.Object.defineProperty", "ensureAttributesCustomized", "apply", "size", "setAttribute", "elementClass.prototype.setAttribute", "n", "value", "name", "old", "getAttribute", "removeAttribute", "elementClass.prototype.removeAttribute", "toggleAttribute", "elementClass.prototype.toggleAttribute", "force", "newValue", "elementsPendingAttributes", "readyState", "addEventListener", "forEach", "customizeAttributes", "once", "attr", "hasAttribute", "patchHTMLElement", "parentClass", "getPrototypeOf", "isUpgrade", "_", "hasAttributes", "isConnected", "nativeAttachShadow", "Element", "attachShadow", "Element.prototype.attachShadow", "init", "shadowRoot", "nativeInit", "ctor", "method", "from", "native", "ret", "installScopedCreationMethod", "descriptor", "getOwnPropertyDescriptor", "defineProperty", "installScopedCreationSetter", "configurable", "writable", "internalsToHostMap", "attachInternals", "methods", "internals", "proto", "originalMethod", "host", "RadioNodeList", "elements", "Array", "_elements", "find", "HTMLFormControlsCollection", "entries", "index", "nameReference", "Symbol", "iterator", "Error", "key", "formElementsDescriptor", "HTMLFormElement", "nativeElements", "include", "task", "styles", "#walletClicked", "_a", "#returnValue", "#resetSelection", "#attemptConnect", "#accountSelected", "#renderAccountInfo", "#copyAddressToClipboard", "__this_instances", "#onDocumentClick", "#toggleMenu", "#onManageConnectionClick", "#onDisconnectClick", "#openMenu", "#openModal", "batched", "wallet", "getWalletForHandle", "getOrCreateUiWalletForStandardWallet", "getOrCreateUiWalletAccountForStandardWalletAccount", "account", "getWalletAccountForUiWalletAccount", "transaction", "#chainConfig", "#account", "ConnectButtonElement", "ConnectModalElement"]
}
